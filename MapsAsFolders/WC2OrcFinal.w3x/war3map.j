globals
//globals from BlizzardMessage:
constant boolean LIBRARY_BlizzardMessage=true
   
constant real MSG_DURATION= 2.00
   
        
       
constant integer ALLY_HERO_DIES_HUMAN= 0
constant integer ALLY_HERO_DIES_NAGA= 1
constant integer ALLY_HERO_DIES_NIGHTELF= 2
constant integer ALLY_HERO_DIES_ORC= 3
constant integer ALLY_HERO_DIES_UNDEAD= 4
constant integer ALLY_TOWN_UNDER_ATTACK_HUMAN= 5
constant integer ALLY_TOWN_UNDER_ATTACK_NAGA= 6
constant integer ALLY_TOWN_UNDER_ATTACK_NIGHTELF= 7
constant integer ALLY_TOWN_UNDER_ATTACK_ORC= 8
constant integer ALLY_TOWN_UNDER_ATTACK_UNDEAD= 9
constant integer ALLY_UNDER_ATTACK_HUMAN= 10
constant integer ALLY_UNDER_ATTACK_NAGA= 11
constant integer ALLY_UNDER_ATTACK_NIGHTELF= 12
constant integer ALLY_UNDER_ATTACK_ORC= 13
constant integer ALLY_UNDER_ATTACK_UNDEAD= 14
constant integer ARRANGED_TEAM_INVITATION= 15
constant integer AUTO_CAST_BUTTON_CLICK= 16
constant integer CANT_PLACE_HUMAN= 17
constant integer CANT_PLACE_NAGA= 18
constant integer CANT_PLACE_NIGHTELF= 19
constant integer CANT_PLACE_ORC= 20
constant integer CANT_PLACE_UNDEAD= 21
constant integer CANT_ROOT_NIGHTELF= 22
constant integer CHATROOM_TIMER_TICK= 23
constant integer CLAN_INVITATION= 24
constant integer CONSTRUCTING_BUILDING_DEFAULT= 25
constant integer CONSTRUCTING_BUILDING_NAGA= 26
constant integer CONSTRUCTING_BUILDING_NIGHTELF= 27
constant integer CONSTRUCTING_BUILDING_ORC= 28
constant integer CONSTRUCTING_BUILDING_UNDEAD= 29
constant integer CREEP_AGGRO= 30
constant integer ERROR_MESSAGE= 31
constant integer GAME_FOUND= 32
constant integer GLUE_SCREEN_CLICK= 33
constant integer GOLD_MINE_COLLAPSE_HUMAN= 34
constant integer GOLD_MINE_COLLAPSE_NAGA= 35
constant integer GOLD_MINE_COLLAPSE_NIGHTELF= 36
constant integer GOLD_MINE_COLLAPSE_ORC= 37
constant integer GOLD_MINE_COLLAPSE_UNDEAD= 38
constant integer GOLD_MINE_LOW_GENERIC= 39
constant integer GOLD_MINE_LOW_HUMAN= 40
constant integer GOLD_MINE_LOW_NAGA= 41
constant integer GOLD_MINE_LOW_NIGHTELF= 42
constant integer GOLD_MINE_LOW_ORC= 43
constant integer GOLD_MINE_LOW_UNDEAD= 44
constant integer GOOD_JOB= 45
constant integer HERO_DIES_GENERIC= 46
constant integer HERO_DIES_HUMAN= 47
constant integer HERO_DIES_NAGA= 48
constant integer HERO_DIES_NIGHTELF= 49
constant integer HERO_DIES_ORC= 50
constant integer HERO_DIES_UNDEAD= 51
constant integer HINT= 52
constant integer IN_GAME_CHAT_WHAT= 53
constant integer INTERFACE_CLICK= 54
constant integer INTERFACE_ERROR= 55
constant integer INVENTORY_FULL_HUMAN= 56
constant integer INVENTORY_FULL_NAGA= 57
constant integer INVENTORY_FULL_NIGHTELF= 58
constant integer INVENTORY_FULL_ORC= 59
constant integer INVENTORY_FULL_UNDEAD= 60
constant integer ITEM_DROP= 61
constant integer ITEM_GET= 62
constant integer ITEM_REWARD= 63
constant integer JOB_DONE_SOUND_HUMAN= 64
constant integer JOB_DONE_SOUND_NAGA= 65
constant integer JOB_DONE_SOUND_NIGHTELF= 66
constant integer JOB_DONE_SOUND_ORC= 67
constant integer JOB_DONE_SOUND_UNDEAD= 68
constant integer MAP_PING= 69
constant integer MENU_BUTTON_CLICK= 70
constant integer NEW_TOURNAMENT= 71
constant integer NO_FOOD_HUMAN= 72
constant integer NO_FOOD_NAGA= 73
constant integer NO_FOOD_NIGHTELF= 74
constant integer NO_FOOD_ORC= 75
constant integer NO_FOOD_UNDEAD= 76
constant integer NO_GOLD_GENERIC= 77
constant integer NO_GOLD_HUMAN= 78
constant integer NO_GOLD_NAGA= 79
constant integer NO_GOLD_NIGHTELF= 80
constant integer NO_GOLD_ORC= 81
constant integer NO_GOLD_UNDEAD= 82
constant integer NO_LUMBER_HUMAN= 83
constant integer NO_LUMBER_NAGA= 84
constant integer NO_LUMBER_NIGHTELF= 85
constant integer NO_LUMBER_ORC= 86
constant integer NO_LUMBER_UNDEAD= 87
constant integer NO_MANA_GENERIC= 88
constant integer NO_MANA_HUMAN= 89
constant integer NO_MANA_NAGA= 90
constant integer NO_MANA_NIGHTELF= 91
constant integer NO_MANA_ORC= 92
constant integer NO_MANA_UNDEAD= 93
constant integer OFF_BLIGHT_UNDEAD= 94
constant integer PAUSE_GAME= 95
constant integer PLACE_BUILDING_DEFAULT= 96
constant integer QUEST_COMPLETED= 97
constant integer QUEST_FAILED= 98
constant integer QUEST_LOG_MODIFIED= 99
constant integer QUEST_NEW= 100
constant integer QUEST_UPDATE= 101
constant integer RALLY_POINT_PLACE= 102
constant integer RESCUE= 103
constant integer RESEARCH_COMPLETE_GENERIC= 104
constant integer RESEARCH_COMPLETE_HUMAN= 105
constant integer RESEARCH_COMPLETE_NAGA= 106
constant integer RESEARCH_COMPLETE_NIGHTELF= 107
constant integer RESEARCH_COMPLETE_ORC= 108
constant integer RESEARCH_COMPLETE_UNDEAD= 109
constant integer SCORE_SCREEN_TAB_CLICK= 110
constant integer SECRET_FOUND= 111
constant integer SUB_GROUP_SELECTION_CHANGE= 112
constant integer TOWN_ATTACK_GENERIC= 113
constant integer TOWN_ATTACK_HUMAN= 114
constant integer TOWN_ATTACK_NAGA= 115
constant integer TOWN_ATTACK_NIGHTELF= 116
constant integer TOWN_ATTACK_ORC= 117
constant integer TOWN_ATTACK_UNDEAD= 118
constant integer UNDER_ATTACK_HUMAN= 119
constant integer UNDER_ATTACK_NAGA= 120
constant integer UNDER_ATTACK_NIGHTELF= 121
constant integer UNDER_ATTACK_ORC= 122
constant integer UNDER_ATTACK_UNDEAD= 123
constant integer UPGRADE_COMPLETE_GENERIC= 124
constant integer UPGRADE_COMPLETE_HUMAN= 125
constant integer UPGRADE_COMPLETE_NAGA= 126
constant integer UPGRADE_COMPLETE_NIGHTELF= 127
constant integer UPGRADE_COMPLETE_ORC= 128
constant integer UPGRADE_COMPLETE_UNDEAD= 129
constant integer UPKEEP_LEVEL= 130
constant integer WARNING= 131
constant integer WAYPOINT= 132
   
string array SOUND_LABEL
//endglobals from BlizzardMessage
//globals from LinkedList:
constant boolean LIBRARY_LinkedList=true
constant boolean LinkedList___THROW_ERRORS= true
//endglobals from LinkedList
//globals from Table:
constant boolean LIBRARY_Table=true
integer Table___less= 0
integer Table___more= 8190
    //Configure it if you use more than 8190 "key" variables in your map (this will never happen though).
    
hashtable Table___ht= InitHashtable()
constant integer Table___sizeK=6
constant integer Table___listK=7
//endglobals from Table
//globals from TimerUtils:
constant boolean LIBRARY_TimerUtils=true
        //How to tweak timer utils:
        // USE_HASH_TABLE = true  (new blue)
        //  * SAFEST
        //  * SLOWEST (though hash tables are kind of fast)
        //
        // USE_HASH_TABLE = false, USE_FLEXIBLE_OFFSET = true  (orange)
        //  * kinda safe (except there is a limit in the number of timers)
        //  * ALMOST FAST
        //
        // USE_HASH_TABLE = false, USE_FLEXIBLE_OFFSET = false (red)
        //  * THE FASTEST (though is only  faster than the previous method
        //                  after using the optimizer on the map)
        //  * THE LEAST SAFE ( you may have to tweak OFSSET manually for it to
        //                     work)
        //
constant boolean TimerUtils___USE_HASH_TABLE= true
constant boolean TimerUtils___USE_FLEXIBLE_OFFSET= false

constant integer TimerUtils___OFFSET= 0x100000
integer TimerUtils___VOFFSET= TimerUtils___OFFSET
              
        //Timers to preload at map init:
constant integer TimerUtils___QUANTITY= 256
        
        //Changing this  to something big will allow you to keep recycling
        // timers even when there are already AN INCREDIBLE AMOUNT of timers in
        // the stack. But it will make things far slower so that's probably a bad idea...
constant integer TimerUtils___ARRAY_SIZE= 8190

// processed:         integer array TimerUtils___data[TimerUtils___ARRAY_SIZE]
hashtable TimerUtils___ht
// processed:         timer array TimerUtils___tT[TimerUtils___ARRAY_SIZE]
integer TimerUtils___tN= 0
constant integer TimerUtils___HELD=0x28829022
        //use a totally random number here, the more improbable someone uses it, the better.
        
boolean TimerUtils___didinit= false
//endglobals from TimerUtils
//globals from WorldBounds:
constant boolean LIBRARY_WorldBounds=true
//endglobals from WorldBounds
//globals from Alloc:
constant boolean LIBRARY_Alloc=true
//endglobals from Alloc
//globals from DelayedOrder:
constant boolean LIBRARY_DelayedOrder=true
//endglobals from DelayedOrder
//globals from EffectUtils:
constant boolean LIBRARY_EffectUtils=true
//endglobals from EffectUtils
//globals from IsUnitContructing:
constant boolean LIBRARY_IsUnitContructing=true
//endglobals from IsUnitContructing
//globals from RegisterNativeEvent:
constant boolean LIBRARY_RegisterNativeEvent=true
integer RegisterNativeEvent___eventIndex= 500
//endglobals from RegisterNativeEvent
//globals from ListT:
constant boolean LIBRARY_ListT=true
//endglobals from ListT
//globals from RegisterPlayerUnitEvent:
constant boolean LIBRARY_RegisterPlayerUnitEvent=true
//endglobals from RegisterPlayerUnitEvent
//globals from ConstructEvent:
constant boolean LIBRARY_ConstructEvent=true
integer EVENT_UNIT_CONSTRUCTION_START
integer EVENT_UNIT_CONSTRUCTION_FINISH
integer EVENT_UNIT_CONSTRUCTION_CANCEL
integer EVENT_UNIT_CONSTRUCTION_INTERRUPT
integer ConstructEvent___ongoing= 0
timer ConstructEvent___looper= CreateTimer()
unit ConstructEvent___eventBuilder= null
unit ConstructEvent___eventConstruct= null

unit array ConstructEvent___builders
boolean array ConstructEvent___finished
integer array ConstructEvent___instances
boolean array ConstructEvent___cancelled
//endglobals from ConstructEvent
//globals from OrderEvent:
constant boolean LIBRARY_OrderEvent=true
integer OrderEvent___t= 0
//endglobals from OrderEvent
//globals from SpellEffectEvent:
constant boolean LIBRARY_SpellEffectEvent=true
//endglobals from SpellEffectEvent
    // User-defined
boolean udg_FinalCinematic= false
boolean udg_IntroCinematic= false
player udg_AP1_Player= null
boolean udg_GameOver= false
boolean udg_IntroSkipped= false
force udg_AllPlayers= null
boolean array udg_CheckDeathInList
boolean array udg_IsUnitTransforming
integer array udg_UnitTypeOf
string array udg_UnitName
real udg_UnitInActionEvent= 0
unit array udg_KillerOfUnit
boolean array udg_IsUnitPreplaced
integer array udg_UDexPrev
integer array udg_UDexNext
unit array udg_SummonerOfUnit
boolean array udg_IsUnitNew
real udg_WorldMaxY= 0
real udg_WorldMaxX= 0
real udg_UnitTypeEvent= 0
integer udg_DetectTransformAbility= 0
boolean array udg_IsUnitRemoved
group array udg_CargoTransportGroup
unit array udg_CargoTransportUnit
real udg_CargoEvent= 0
boolean array udg_IsUnitBeingUnloaded
boolean array udg_IsUnitReincarnating
integer array udg_CheckDeathList
timer udg_CheckDeathTimer= null
real udg_DeathEvent= 0
boolean array udg_IsUnitAlive
integer udg_DetectRemoveAbility= 0
real udg_UnitIndexEvent= 0
integer udg_UDexLastRecycled= 0
boolean udg_UnitIndexerEnabled= false
integer udg_UDex= 0
unit array udg_UDexUnits
integer udg_UDexMax= 0
real udg_UnitIndexExEvent= 0
boolean array udg_IsUnitConstructing
unit udg_IndexExUnit= null
string udg_Playlist
integer udg_Chance= 0
location udg_TempPointGrunt= null
unit udg_DummyGrunt= null
boolean udg_HeavyHammersResearched= false
location udg_TempPointRune= null
unit udg_DummyRune= null
boolean udg_MidgameCinematic= false
timer udg_DuskTimer= null
timer udg_DawnTimer= null
real udg_FogMax= 0
real udg_FogMin= 0
boolean udg_CrossIslandIntroCinQ= false
boolean udg_CrossIslandOutroCinQ= false
boolean udg_ContinueToLordaeronCinematic= false
group udg_AssaultGroupLokTar= null
group udg_BattlefieldActors= null
effect udg_Dragon01= null
effect udg_Dragon02= null
effect udg_Dragon03= null

    // Generated
rect gg_rct_FogArea01= null
rect gg_rct_FogArea02= null
rect gg_rct_FogArea03= null
rect gg_rct_FogArea04= null
rect gg_rct_FogArea05= null
rect gg_rct_FogArea06= null
rect gg_rct_FogArea07= null
rect gg_rct_DestroyTheWall= null
rect gg_rct_Tharbek01= null
rect gg_rct_Tharbek02= null
rect gg_rct_Artillery= null
rect gg_rct_CatAim01= null
rect gg_rct_CatAim02= null
rect gg_rct_CatAim03= null
rect gg_rct_CatAim04= null
rect gg_rct_CatAim05= null
rect gg_rct_CatAim06= null
rect gg_rct_CatAim07= null
rect gg_rct_Explosion01= null
rect gg_rct_Explosion02= null
rect gg_rct_Explosion03= null
rect gg_rct_Explosion04= null
rect gg_rct_StandReady= null
rect gg_rct_FireHide= null
rect gg_rct_BattleField= null
rect gg_rct_AttackWaveEnter02= null
rect gg_rct_Redirect01= null
rect gg_rct_Redirect02= null
rect gg_rct_AttackSpawn= null
rect gg_rct_Bloodsplat01= null
rect gg_rct_Bloodsplat02= null
rect gg_rct_Knight01= null
rect gg_rct_BattlefieldActors= null
rect gg_rct_RunHere= null
rect gg_rct_GruntAim= null
rect gg_rct_DefenderAim= null
rect gg_rct_GruntGoHere= null
rect gg_rct_Lights01= null
rect gg_rct_GruntKillsKnight= null
rect gg_rct_MountainsWallpaper= null
camerasetup gg_cam_Banner01= null
camerasetup gg_cam_Banner02= null
camerasetup gg_cam_Catapults= null
camerasetup gg_cam_FinalDoor00= null
camerasetup gg_cam_FinalDoor01= null
camerasetup gg_cam_FinalDoor03= null
camerasetup gg_cam_King01= null
camerasetup gg_cam_King02= null
camerasetup gg_cam_King03= null
camerasetup gg_cam_LordaeronRuins01= null
camerasetup gg_cam_LordaeronRuins02= null
camerasetup gg_cam_Medivh= null
camerasetup gg_cam_Tharbek01= null
camerasetup gg_cam_Wall01= null
camerasetup gg_cam_Wall02= null
camerasetup gg_cam_Wall04= null
camerasetup gg_cam_Wall03= null
sound gg_snd_WaterWavesLoop1= null
sound gg_snd_OrcBarracksWhat1= null
sound gg_snd_HeroDropItem1= null
sound gg_snd_WaterLakeLoop1= null
sound gg_snd_CS_H01b_Orc_gesture_v2= null
sound gg_snd_CS_H01a_soldiers_walk_RtoL_a= null
sound gg_snd_CS_H01a_soldiers_walk_RtoL_a01= null
sound gg_snd_TheHornOfCenarius= null
sound gg_snd_CS_BG_Camp= null
sound gg_snd_CS_HU_2_Intro_Foley2= null
sound gg_snd_CS_Prologue2_Foley1= null
sound gg_snd_CS_Prologue2_Foley2= null
sound gg_snd_CS_Prologue2_Foley101= null
sound gg_snd_BridgeDeath= null
sound gg_snd_HumanCallToArmsWhat1= null
sound gg_snd_CS_H01a_Uther_walk_a= null
sound gg_snd_CS_H01a_Uther_walks_003_LR_v3= null
sound gg_snd_CS_H01c_Arthas_stands_v1= null
sound gg_snd_CS_orc2_outro_rockfalls= null
sound gg_snd_DoorSlam1= null
sound gg_snd_CS_BG_Camp02= null
sound gg_snd_CS_H01a_soldiers_turn_a= null
sound gg_snd_CS_orc2_outro_stomp= null
sound gg_snd_CityBattlegroundLoop= null
sound gg_snd_CS_HU_6_Intro_AmbBells= null
sound gg_snd_Lordaeron_Siege_Bells= null
string gg_snd_WarCraft2OrcsEnding01
trigger gg_trg_Unit_Event_Config= null
trigger gg_trg_Unit_Event= null
trigger gg_trg_Initialization= null
trigger gg_trg_Cinematic_Tree_Stand= null
trigger gg_trg_Blood= null
trigger gg_trg_CinematicSequence= null
trigger gg_trg_AssaultDirectrionTroops01= null
trigger gg_trg_KillKnight= null
trigger gg_trg_GruntAttackanim= null
trigger gg_trg_Credits= null
trigger gg_trg_SliceFootman= null
trigger gg_trg_DuskFogLoop= null
trigger gg_trg_DawnFogLoop= null
trigger gg_trg_Dawn= null
trigger gg_trg_Dusk= null
trigger gg_trg_Rune_of_Blood_Ogre_Magi= null
trigger gg_trg_SunderArmor= null
trigger gg_trg_HeavyHammersResearched= null
unit gg_unit_h605_0002= null
unit gg_unit_h605_0086= null
unit gg_unit_h006_1019= null
unit gg_unit_o608_0024= null
unit gg_unit_O60F_0042= null
unit gg_unit_o61W_0031= null
unit gg_unit_o61W_0030= null
unit gg_unit_H00C_0087= null
unit gg_unit_o61W_0029= null
unit gg_unit_ncb9_0112= null
unit gg_unit_o60P_0012= null
unit gg_unit_o60P_0013= null
unit gg_unit_o60P_0014= null
unit gg_unit_o60P_0015= null
unit gg_unit_o60P_0018= null
unit gg_unit_o60P_0017= null
unit gg_unit_o60P_0016= null
unit gg_unit_n00D_0208= null
unit gg_unit_o608_0019= null
unit gg_unit_o605_0020= null
unit gg_unit_o61W_0025= null
unit gg_unit_o61W_0026= null
unit gg_unit_o61W_0027= null
unit gg_unit_o61W_0028= null
unit gg_unit_ogru_0021= null
unit gg_unit_o60P_0023= null
unit gg_unit_o60P_0041= null
unit gg_unit_o60P_0044= null
unit gg_unit_h605_0160= null
unit gg_unit_h605_0161= null
unit gg_unit_h60L_0257= null
unit gg_unit_o61W_0266= null
unit gg_unit_o60G_0259= null
unit gg_unit_h623_0260= null
unit gg_unit_hmil_0261= null
unit gg_unit_o60G_0262= null
unit gg_unit_o60G_0263= null
unit gg_unit_o60G_0264= null
unit gg_unit_h623_0265= null
unit gg_unit_o004_0258= null
destructable gg_dest_B005_2276= null
destructable gg_dest_B005_3579= null
destructable gg_dest_B005_0661= null
destructable gg_dest_DTc1_8519= null
destructable gg_dest_B008_3899= null
destructable gg_dest_B000_2158= null
destructable gg_dest_B000_2148= null
destructable gg_dest_B000_0362= null
destructable gg_dest_B000_2149= null
destructable gg_dest_B01I_2177= null
destructable gg_dest_B01J_4720= null
destructable gg_dest_B01K_6864= null

trigger l__library_init

//JASSHelper struct globals:
constant integer si__BlizzardMessage___InitStruct=1
constant integer si__Table___dex=2
constant integer si__Table___handles=3
constant integer si__Table___agents=4
constant integer si__Table___reals=5
constant integer si__Table___booleans=6
constant integer si__Table___strings=7
constant integer si__Table___integers=8
constant integer si__Table___players=9
constant integer si__Table___widgets=10
constant integer si__Table___destructables=11
constant integer si__Table___items=12
constant integer si__Table___units=13
constant integer si__Table___abilitys=14
constant integer si__Table___timers=15
constant integer si__Table___triggers=16
constant integer si__Table___triggerconditions=17
constant integer si__Table___triggeractions=18
constant integer si__Table___events=19
constant integer si__Table___forces=20
constant integer si__Table___groups=21
constant integer si__Table___locations=22
constant integer si__Table___rects=23
constant integer si__Table___boolexprs=24
constant integer si__Table___sounds=25
constant integer si__Table___effects=26
constant integer si__Table___unitpools=27
constant integer si__Table___itempools=28
constant integer si__Table___quests=29
constant integer si__Table___questitems=30
constant integer si__Table___defeatconditions=31
constant integer si__Table___timerdialogs=32
constant integer si__Table___leaderboards=33
constant integer si__Table___multiboards=34
constant integer si__Table___multiboarditems=35
constant integer si__Table___trackables=36
constant integer si__Table___dialogs=37
constant integer si__Table___buttons=38
constant integer si__Table___texttags=39
constant integer si__Table___lightnings=40
constant integer si__Table___images=41
constant integer si__Table___ubersplats=42
constant integer si__Table___regions=43
constant integer si__Table___fogstates=44
constant integer si__Table___fogmodifiers=45
constant integer si__Table___hashtables=46
constant integer si__Table=47
constant integer si__TableArray=48
integer s__TableArray_tempTable
integer s__TableArray_tempEnd
constant integer si__HashTable=49
constant integer si__WorldBounds=50
integer s__WorldBounds_maxX
integer s__WorldBounds_maxY
integer s__WorldBounds_minX
integer s__WorldBounds_minY
integer s__WorldBounds_centerX
integer s__WorldBounds_centerY
rect s__WorldBounds_world
region s__WorldBounds_worldRegion
constant integer si__DelayedOrder=51
integer si__DelayedOrder_F=0
integer si__DelayedOrder_I=0
integer array si__DelayedOrder_V
unit array s__DelayedOrder_u
integer array s__DelayedOrder_o
constant integer si__DelayedOrderXY=52
integer si__DelayedOrderXY_F=0
integer si__DelayedOrderXY_I=0
integer array si__DelayedOrderXY_V
unit array s__DelayedOrderXY_u
integer array s__DelayedOrderXY_o
real array s__DelayedOrderXY_x
real array s__DelayedOrderXY_y
constant integer si__DelayedOrderTarget=53
integer si__DelayedOrderTarget_F=0
integer si__DelayedOrderTarget_I=0
integer array si__DelayedOrderTarget_V
unit array s__DelayedOrderTarget_u
integer array s__DelayedOrderTarget_o
widget array s__DelayedOrderTarget_w
constant integer si__EffectUtils=54
integer si__EffectUtils_F=0
integer si__EffectUtils_I=0
integer array si__EffectUtils_V
effect array s__EffectUtils_vfx
boolean array s__EffectUtils_hide
constant integer si__IsUnitContructing=55
integer si__IsUnitContructing_F=0
integer si__IsUnitContructing_I=0
integer array si__IsUnitContructing_V
unit array s__IsUnitContructing_source
integer array s__IsUnitContructing_id
constant integer si__RegisterNativeEvent___NativeEvent=56
integer s__RegisterNativeEvent___NativeEvent_table
constant integer si__IntegerListItem=57
constant integer si__IntegerList=58
integer array s__IntegerList_first
integer array s__IntegerList_last
integer array s__IntegerList_count
integer s__IntegerList_Alloc__recycler
integer s__IntegerList_Alloc__instanceCount= 0
integer s__IntegerList_Alloc__recyclerCount= 0
constant integer si__ConstructEvent___PeriodicData=59
unit array s__ConstructEvent___PeriodicData_builder
race array s__ConstructEvent___PeriodicData_btype
real array s__ConstructEvent___PeriodicData_cx
real array s__ConstructEvent___PeriodicData_cy
real array s__ConstructEvent___PeriodicData_distance
integer array s__ConstructEvent___PeriodicData_order
real array s__ConstructEvent___PeriodicData_ox
real array s__ConstructEvent___PeriodicData_oy
integer s__ConstructEvent___PeriodicData_Alloc__recycler
integer s__ConstructEvent___PeriodicData_Alloc__instanceCount= 0
integer s__ConstructEvent___PeriodicData_Alloc__recyclerCount= 0
constant integer si__ConstructEvent=60
integer si__ConstructEvent_F=0
integer si__ConstructEvent_I=0
integer array si__ConstructEvent_V
integer s__ConstructEvent_START
integer s__ConstructEvent_CANCEL
integer s__ConstructEvent_FINISH
integer s__ConstructEvent_INTERRUPT
constant integer si__SpellEffectEvent___S=61
integer s__SpellEffectEvent___S_tb
integer array s__TimerUtils___data
timer array s__TimerUtils___tT
trigger array st___prototype8

endglobals
native UnitAlive takes unit id returns boolean


//Generated allocator of ConstructEvent
function s__ConstructEvent__allocate takes nothing returns integer
 local integer this=si__ConstructEvent_F
    if (this!=0) then
        set si__ConstructEvent_F=si__ConstructEvent_V[this]
    else
        set si__ConstructEvent_I=si__ConstructEvent_I+1
        set this=si__ConstructEvent_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__ConstructEvent_V[this]=-1
 return this
endfunction

//Generated destructor of ConstructEvent
function s__ConstructEvent_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__ConstructEvent_V[this]!=-1) then
        return
    endif
    set si__ConstructEvent_V[this]=si__ConstructEvent_F
    set si__ConstructEvent_F=this
endfunction

//Generated allocator of IsUnitContructing
function s__IsUnitContructing__allocate takes nothing returns integer
 local integer this=si__IsUnitContructing_F
    if (this!=0) then
        set si__IsUnitContructing_F=si__IsUnitContructing_V[this]
    else
        set si__IsUnitContructing_I=si__IsUnitContructing_I+1
        set this=si__IsUnitContructing_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__IsUnitContructing_V[this]=-1
 return this
endfunction

//Generated destructor of IsUnitContructing
function s__IsUnitContructing_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__IsUnitContructing_V[this]!=-1) then
        return
    endif
    set si__IsUnitContructing_V[this]=si__IsUnitContructing_F
    set si__IsUnitContructing_F=this
endfunction

//Generated allocator of EffectUtils
function s__EffectUtils__allocate takes nothing returns integer
 local integer this=si__EffectUtils_F
    if (this!=0) then
        set si__EffectUtils_F=si__EffectUtils_V[this]
    else
        set si__EffectUtils_I=si__EffectUtils_I+1
        set this=si__EffectUtils_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__EffectUtils_V[this]=-1
 return this
endfunction

//Generated destructor of EffectUtils
function s__EffectUtils_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__EffectUtils_V[this]!=-1) then
        return
    endif
    set si__EffectUtils_V[this]=si__EffectUtils_F
    set si__EffectUtils_F=this
endfunction

//Generated allocator of DelayedOrderTarget
function s__DelayedOrderTarget__allocate takes nothing returns integer
 local integer this=si__DelayedOrderTarget_F
    if (this!=0) then
        set si__DelayedOrderTarget_F=si__DelayedOrderTarget_V[this]
    else
        set si__DelayedOrderTarget_I=si__DelayedOrderTarget_I+1
        set this=si__DelayedOrderTarget_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__DelayedOrderTarget_V[this]=-1
 return this
endfunction

//Generated destructor of DelayedOrderTarget
function s__DelayedOrderTarget_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__DelayedOrderTarget_V[this]!=-1) then
        return
    endif
    set si__DelayedOrderTarget_V[this]=si__DelayedOrderTarget_F
    set si__DelayedOrderTarget_F=this
endfunction

//Generated allocator of DelayedOrderXY
function s__DelayedOrderXY__allocate takes nothing returns integer
 local integer this=si__DelayedOrderXY_F
    if (this!=0) then
        set si__DelayedOrderXY_F=si__DelayedOrderXY_V[this]
    else
        set si__DelayedOrderXY_I=si__DelayedOrderXY_I+1
        set this=si__DelayedOrderXY_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__DelayedOrderXY_V[this]=-1
 return this
endfunction

//Generated destructor of DelayedOrderXY
function s__DelayedOrderXY_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__DelayedOrderXY_V[this]!=-1) then
        return
    endif
    set si__DelayedOrderXY_V[this]=si__DelayedOrderXY_F
    set si__DelayedOrderXY_F=this
endfunction

//Generated allocator of DelayedOrder
function s__DelayedOrder__allocate takes nothing returns integer
 local integer this=si__DelayedOrder_F
    if (this!=0) then
        set si__DelayedOrder_F=si__DelayedOrder_V[this]
    else
        set si__DelayedOrder_I=si__DelayedOrder_I+1
        set this=si__DelayedOrder_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__DelayedOrder_V[this]=-1
 return this
endfunction

//Generated destructor of DelayedOrder
function s__DelayedOrder_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__DelayedOrder_V[this]!=-1) then
        return
    endif
    set si__DelayedOrder_V[this]=si__DelayedOrder_F
    set si__DelayedOrder_F=this
endfunction
function sc___prototype8_execute takes integer i returns nothing

    call TriggerExecute(st___prototype8[i])
endfunction
function sc___prototype8_evaluate takes integer i returns nothing

    call TriggerEvaluate(st___prototype8[i])

endfunction

//library BlizzardMessage:
   


    function BlizzardMessage takes string msg,string colorCode,integer soundLabel,player forPlayer returns nothing
        local sound snd
        local string s
   
       
            set snd=CreateSoundFromLabel(SOUND_LABEL[soundLabel], false, false, false, 10, 10)
           
            if colorCode != null then
                set s="|r"
            else
                set colorCode=""
                set s=""
            endif
           
            if GetLocalPlayer() == forPlayer then
                call ClearTextMessages()
                call DisplayTimedTextToPlayer(forPlayer, 0.52, 0.96, MSG_DURATION, "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n" + colorCode + msg + s)
                call StartSound(snd)
            endif
           
            if s != null then
                set s=""
            endif
           
            set snd=null
           
    endfunction
   
    function BlizzardMessageTimed takes string msg,string colorCode,real dur,integer soundLabel,player forPlayer returns nothing
        local sound snd
        local string s
   
       
            set snd=CreateSoundFromLabel(SOUND_LABEL[soundLabel], false, false, false, 10, 10)
           
            if colorCode != null then
                set s="|r"
            else
                set colorCode=""
                set s=""
            endif
           
            if GetLocalPlayer() == forPlayer then
                call ClearTextMessages()
                call DisplayTimedTextToPlayer(forPlayer, 0.52, 0.96, dur, "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n" + colorCode + msg + s)
                call StartSound(snd)
            endif
           
            if s != null then
                set s=""
            endif
           
            set snd=null
           
    endfunction

   
        function s__BlizzardMessage___InitStruct_init takes nothing returns nothing
            set SOUND_LABEL[0]="AllyHeroDiesHuman"
            set SOUND_LABEL[1]="AllyHeroDiesNaga"
            set SOUND_LABEL[2]="AllyHeroDiesNightElf"
            set SOUND_LABEL[3]="AllyHeroDiesOrc"
            set SOUND_LABEL[4]="AllyHeroDiesUndead"
            set SOUND_LABEL[5]="AllyTownUnderAttackHuman"
            set SOUND_LABEL[6]="AllyTownUnderAttackNaga"
            set SOUND_LABEL[7]="AllyTownUnderAttackNightElf"
            set SOUND_LABEL[8]="AllyTownUnderAttackOrc"
            set SOUND_LABEL[9]="AllyTownUnderAttackUndead"
            set SOUND_LABEL[10]="AllyUnderAttackHuman"
            set SOUND_LABEL[11]="AllyUnderAttackNaga"
            set SOUND_LABEL[12]="AllyUnderAttackNightElf"
            set SOUND_LABEL[13]="AllyUnderAttackOrc"
            set SOUND_LABEL[14]="AllyUnderAttackUndead"
            set SOUND_LABEL[15]="ArrangedTeamInvitation"
            set SOUND_LABEL[16]="AutoCastButtonClick"
            set SOUND_LABEL[17]="CantPlaceHuman"
            set SOUND_LABEL[18]="CantPlaceNaga"
            set SOUND_LABEL[19]="CantPlaceNightElf"
            set SOUND_LABEL[20]="CantPlaceOrc"
            set SOUND_LABEL[21]="CantPlaceUndead"
            set SOUND_LABEL[22]="CantRootNightElf"
            set SOUND_LABEL[23]="ChatroomTimerTick"
            set SOUND_LABEL[24]="ClanInvitation"
            set SOUND_LABEL[25]="ConstructingBuildingDefault"
            set SOUND_LABEL[26]="ConstructingBuildingNaga"
            set SOUND_LABEL[27]="ConstructingBuildingNightElf"
            set SOUND_LABEL[28]="ConstructingBuildingOrc"
            set SOUND_LABEL[29]="ConstructingBuildingUndead"
            set SOUND_LABEL[30]="CreepAggro"
            set SOUND_LABEL[31]="ErrorMessage"
            set SOUND_LABEL[32]="GameFound"
            set SOUND_LABEL[33]="GlueScreenClick"
            set SOUND_LABEL[34]="GoldMineCollapseHuman"
            set SOUND_LABEL[35]="GoldMineCollapseNaga"
            set SOUND_LABEL[36]="GoldMineCollapseNightElf"
            set SOUND_LABEL[37]="GoldMineCollapseOrc"
            set SOUND_LABEL[38]="GoldMineCollapseUndead"
            set SOUND_LABEL[39]="GoldMineLowGeneric"
            set SOUND_LABEL[40]="GoldMineLowHuman"
            set SOUND_LABEL[41]="GoldMineLowNaga"
            set SOUND_LABEL[42]="GoldMineLowNightElf"
            set SOUND_LABEL[43]="GoldMineLowOrc"
            set SOUND_LABEL[44]="GoldMineLowUndead"
            set SOUND_LABEL[45]="GoodJob"
            set SOUND_LABEL[46]="HeroDiesGeneric"
            set SOUND_LABEL[47]="HeroDiesHuman"
            set SOUND_LABEL[48]="HeroDiesNaga"
            set SOUND_LABEL[49]="HeroDiesNightElf"
            set SOUND_LABEL[50]="HeroDiesOrc"
            set SOUND_LABEL[51]="HeroDiesUndead"
            set SOUND_LABEL[52]="Hint"
            set SOUND_LABEL[53]="InGameChatWhat"
            set SOUND_LABEL[54]="InterfaceClick"
            set SOUND_LABEL[55]="InterfaceError"
            set SOUND_LABEL[56]="InventoryFullHuman"
            set SOUND_LABEL[57]="InventoryFullNaga"
            set SOUND_LABEL[58]="InventoryFullNightElf"
            set SOUND_LABEL[59]="InventoryFullOrc"
            set SOUND_LABEL[60]="InventoryFullUndead"
            set SOUND_LABEL[61]="ItemDrop"
            set SOUND_LABEL[62]="ItemGet"
            set SOUND_LABEL[63]="ItemReward"
            set SOUND_LABEL[64]="JobDoneSoundHuman"
            set SOUND_LABEL[65]="JobDoneSoundNaga"
            set SOUND_LABEL[66]="JobDoneSoundNightElf"
            set SOUND_LABEL[67]="JobDoneSoundOrc"
            set SOUND_LABEL[68]="JobDoneSoundUndead"
            set SOUND_LABEL[69]="MapPing"
            set SOUND_LABEL[70]="MenuButtonClick"
            set SOUND_LABEL[71]="NewTournament"
            set SOUND_LABEL[72]="NoFoodHuman"
            set SOUND_LABEL[73]="NoFoodNaga"
            set SOUND_LABEL[74]="NoFoodNightElf"
            set SOUND_LABEL[75]="NoFoodOrc"
            set SOUND_LABEL[76]="NoFoodUndead"
            set SOUND_LABEL[77]="NoGoldGeneric"
            set SOUND_LABEL[78]="NoGoldHuman"
            set SOUND_LABEL[79]="NoGoldNaga"
            set SOUND_LABEL[80]="NoGoldNightElf"
            set SOUND_LABEL[81]="NoGoldOrc"
            set SOUND_LABEL[82]="NoGoldUndead"
            set SOUND_LABEL[83]="NoLumberHuman"
            set SOUND_LABEL[84]="NoLumberNaga"
            set SOUND_LABEL[85]="NoLumberNightElf"
            set SOUND_LABEL[86]="NoLumberOrc"
            set SOUND_LABEL[87]="NoLumberUndead"
            set SOUND_LABEL[88]="NoManaGeneric"
            set SOUND_LABEL[89]="NoManaHuman"
            set SOUND_LABEL[90]="NoManaNaga"
            set SOUND_LABEL[91]="NoManaNightElf"
            set SOUND_LABEL[92]="NoManaOrc"
            set SOUND_LABEL[93]="NoManaUndead"
            set SOUND_LABEL[94]="OffBlightUndead"
            set SOUND_LABEL[95]="PauseGame"
            set SOUND_LABEL[96]="PlaceBuildingDefault"
            set SOUND_LABEL[97]="QuestCompleted"
            set SOUND_LABEL[98]="QuestFailed"
            set SOUND_LABEL[99]="QuestLogModified"
            set SOUND_LABEL[100]="QuestNew"
            set SOUND_LABEL[101]="QuestUpdate"
            set SOUND_LABEL[102]="RallyPointPlace"
            set SOUND_LABEL[103]="Rescue"
            set SOUND_LABEL[104]="ResearchCompleteGeneric"
            set SOUND_LABEL[105]="ResearchCompleteHuman"
            set SOUND_LABEL[106]="ResearchCompleteNaga"
            set SOUND_LABEL[107]="ResearchCompleteNightElf"
            set SOUND_LABEL[108]="ResearchCompleteOrc"
            set SOUND_LABEL[109]="ResearchCompleteUndead"
            set SOUND_LABEL[110]="ScoreScreenTabClick"
            set SOUND_LABEL[111]="SecretFound"
            set SOUND_LABEL[112]="SubGroupSelectionChange"
            set SOUND_LABEL[113]="TownAttackGeneric"
            set SOUND_LABEL[114]="TownAttackHuman"
            set SOUND_LABEL[115]="TownAttackNaga"
            set SOUND_LABEL[116]="TownAttackNightElf"
            set SOUND_LABEL[117]="TownAttackOrc"
            set SOUND_LABEL[118]="TownAttackUndead"
            set SOUND_LABEL[119]="UnderAttackHuman"
            set SOUND_LABEL[120]="UnderAttackNaga"
            set SOUND_LABEL[121]="UnderAttackNightElf"
            set SOUND_LABEL[122]="UnderAttackOrc"
            set SOUND_LABEL[123]="UnderAttackUndead"
            set SOUND_LABEL[124]="UpgradeCompleteGeneric"
            set SOUND_LABEL[125]="UpgradeCompleteHuman"
            set SOUND_LABEL[126]="UpgradeCompleteNaga"
            set SOUND_LABEL[127]="UpgradeCompleteNightElf"
            set SOUND_LABEL[128]="UpgradeCompleteOrc"
            set SOUND_LABEL[129]="UpgradeCompleteUndead"
            set SOUND_LABEL[130]="UpkeepLevel"
            set SOUND_LABEL[131]="Warning"
            set SOUND_LABEL[132]="WayPoint"
        endfunction
   
//Implemented from module BlizzardMessage___BMInit:
        function s__BlizzardMessage___InitStruct_BlizzardMessage___BMInit__onInit takes nothing returns nothing
            call s__BlizzardMessage___InitStruct_init()
        endfunction

//library BlizzardMessage ends
//library LinkedList:
    
    






























//library LinkedList ends
//library Table:
    
    
    function s__Table___dex__get_size takes nothing returns integer
        return Table___sizeK
    endfunction
    function s__Table___dex__get_list takes nothing returns integer
        return Table___listK
    endfunction
    
    function s__Table___handles_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___handles_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
    
    function s__Table___agents__setindex takes integer this,integer key,agent value returns nothing
        call SaveAgentHandle(Table___ht, this, key, value)
    endfunction
    
    
    
//Run these textmacros to include the entire hashtable API as wrappers.
//Don't be intimidated by the number of macros - Vexorian's map optimizer is
//supposed to kill functions which inline (all of these functions inline).
//textmacro instance: NEW_ARRAY_BASIC("Real", "Real", "real")
    function s__Table___reals__getindex takes integer this,integer key returns real
        return LoadReal(Table___ht, this, key)
    endfunction
    function s__Table___reals__setindex takes integer this,integer key,real value returns nothing
        call SaveReal(Table___ht, this, key, value)
    endfunction
    function s__Table___reals_has takes integer this,integer key returns boolean
        return HaveSavedReal(Table___ht, this, key)
    endfunction
    function s__Table___reals_remove takes integer this,integer key returns nothing
        call RemoveSavedReal(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY_BASIC("Real", "Real", "real")
//textmacro instance: NEW_ARRAY_BASIC("Boolean", "Boolean", "boolean")
    function s__Table___booleans__getindex takes integer this,integer key returns boolean
        return LoadBoolean(Table___ht, this, key)
    endfunction
    function s__Table___booleans__setindex takes integer this,integer key,boolean value returns nothing
        call SaveBoolean(Table___ht, this, key, value)
    endfunction
    function s__Table___booleans_has takes integer this,integer key returns boolean
        return HaveSavedBoolean(Table___ht, this, key)
    endfunction
    function s__Table___booleans_remove takes integer this,integer key returns nothing
        call RemoveSavedBoolean(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY_BASIC("Boolean", "Boolean", "boolean")
//textmacro instance: NEW_ARRAY_BASIC("String", "Str", "string")
    function s__Table___strings__getindex takes integer this,integer key returns string
        return LoadStr(Table___ht, this, key)
    endfunction
    function s__Table___strings__setindex takes integer this,integer key,string value returns nothing
        call SaveStr(Table___ht, this, key, value)
    endfunction
    function s__Table___strings_has takes integer this,integer key returns boolean
        return HaveSavedString(Table___ht, this, key)
    endfunction
    function s__Table___strings_remove takes integer this,integer key returns nothing
        call RemoveSavedString(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY_BASIC("String", "Str", "string")
//New textmacro to allow table.integer[] syntax for compatibility with textmacros that might desire it.
//textmacro instance: NEW_ARRAY_BASIC("Integer", "Integer", "integer")
    function s__Table___integers__getindex takes integer this,integer key returns integer
        return LoadInteger(Table___ht, this, key)
    endfunction
    function s__Table___integers__setindex takes integer this,integer key,integer value returns nothing
        call SaveInteger(Table___ht, this, key, value)
    endfunction
    function s__Table___integers_has takes integer this,integer key returns boolean
        return HaveSavedInteger(Table___ht, this, key)
    endfunction
    function s__Table___integers_remove takes integer this,integer key returns nothing
        call RemoveSavedInteger(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY_BASIC("Integer", "Integer", "integer")
    
//textmacro instance: NEW_ARRAY("Player", "player")
    function s__Table___players__getindex takes integer this,integer key returns player
        return LoadPlayerHandle(Table___ht, this, key)
    endfunction
    function s__Table___players__setindex takes integer this,integer key,player value returns nothing
        call SavePlayerHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___players_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___players_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Player", "player")
//textmacro instance: NEW_ARRAY("Widget", "widget")
    function s__Table___widgets__getindex takes integer this,integer key returns widget
        return LoadWidgetHandle(Table___ht, this, key)
    endfunction
    function s__Table___widgets__setindex takes integer this,integer key,widget value returns nothing
        call SaveWidgetHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___widgets_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___widgets_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Widget", "widget")
//textmacro instance: NEW_ARRAY("Destructable", "destructable")
    function s__Table___destructables__getindex takes integer this,integer key returns destructable
        return LoadDestructableHandle(Table___ht, this, key)
    endfunction
    function s__Table___destructables__setindex takes integer this,integer key,destructable value returns nothing
        call SaveDestructableHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___destructables_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___destructables_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Destructable", "destructable")
//textmacro instance: NEW_ARRAY("Item", "item")
    function s__Table___items__getindex takes integer this,integer key returns item
        return LoadItemHandle(Table___ht, this, key)
    endfunction
    function s__Table___items__setindex takes integer this,integer key,item value returns nothing
        call SaveItemHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___items_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___items_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Item", "item")
//textmacro instance: NEW_ARRAY("Unit", "unit")
    function s__Table___units__getindex takes integer this,integer key returns unit
        return LoadUnitHandle(Table___ht, this, key)
    endfunction
    function s__Table___units__setindex takes integer this,integer key,unit value returns nothing
        call SaveUnitHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___units_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___units_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Unit", "unit")
//textmacro instance: NEW_ARRAY("Ability", "ability")
    function s__Table___abilitys__getindex takes integer this,integer key returns ability
        return LoadAbilityHandle(Table___ht, this, key)
    endfunction
    function s__Table___abilitys__setindex takes integer this,integer key,ability value returns nothing
        call SaveAbilityHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___abilitys_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___abilitys_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Ability", "ability")
//textmacro instance: NEW_ARRAY("Timer", "timer")
    function s__Table___timers__getindex takes integer this,integer key returns timer
        return LoadTimerHandle(Table___ht, this, key)
    endfunction
    function s__Table___timers__setindex takes integer this,integer key,timer value returns nothing
        call SaveTimerHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___timers_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___timers_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Timer", "timer")
//textmacro instance: NEW_ARRAY("Trigger", "trigger")
    function s__Table___triggers__getindex takes integer this,integer key returns trigger
        return LoadTriggerHandle(Table___ht, this, key)
    endfunction
    function s__Table___triggers__setindex takes integer this,integer key,trigger value returns nothing
        call SaveTriggerHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___triggers_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___triggers_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Trigger", "trigger")
//textmacro instance: NEW_ARRAY("TriggerCondition", "triggercondition")
    function s__Table___triggerconditions__getindex takes integer this,integer key returns triggercondition
        return LoadTriggerConditionHandle(Table___ht, this, key)
    endfunction
    function s__Table___triggerconditions__setindex takes integer this,integer key,triggercondition value returns nothing
        call SaveTriggerConditionHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___triggerconditions_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___triggerconditions_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("TriggerCondition", "triggercondition")
//textmacro instance: NEW_ARRAY("TriggerAction", "triggeraction")
    function s__Table___triggeractions__getindex takes integer this,integer key returns triggeraction
        return LoadTriggerActionHandle(Table___ht, this, key)
    endfunction
    function s__Table___triggeractions__setindex takes integer this,integer key,triggeraction value returns nothing
        call SaveTriggerActionHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___triggeractions_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___triggeractions_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("TriggerAction", "triggeraction")
//textmacro instance: NEW_ARRAY("TriggerEvent", "event")
    function s__Table___events__getindex takes integer this,integer key returns event
        return LoadTriggerEventHandle(Table___ht, this, key)
    endfunction
    function s__Table___events__setindex takes integer this,integer key,event value returns nothing
        call SaveTriggerEventHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___events_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___events_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("TriggerEvent", "event")
//textmacro instance: NEW_ARRAY("Force", "force")
    function s__Table___forces__getindex takes integer this,integer key returns force
        return LoadForceHandle(Table___ht, this, key)
    endfunction
    function s__Table___forces__setindex takes integer this,integer key,force value returns nothing
        call SaveForceHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___forces_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___forces_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Force", "force")
//textmacro instance: NEW_ARRAY("Group", "group")
    function s__Table___groups__getindex takes integer this,integer key returns group
        return LoadGroupHandle(Table___ht, this, key)
    endfunction
    function s__Table___groups__setindex takes integer this,integer key,group value returns nothing
        call SaveGroupHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___groups_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___groups_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Group", "group")
//textmacro instance: NEW_ARRAY("Location", "location")
    function s__Table___locations__getindex takes integer this,integer key returns location
        return LoadLocationHandle(Table___ht, this, key)
    endfunction
    function s__Table___locations__setindex takes integer this,integer key,location value returns nothing
        call SaveLocationHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___locations_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___locations_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Location", "location")
//textmacro instance: NEW_ARRAY("Rect", "rect")
    function s__Table___rects__getindex takes integer this,integer key returns rect
        return LoadRectHandle(Table___ht, this, key)
    endfunction
    function s__Table___rects__setindex takes integer this,integer key,rect value returns nothing
        call SaveRectHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___rects_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___rects_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Rect", "rect")
//textmacro instance: NEW_ARRAY("BooleanExpr", "boolexpr")
    function s__Table___boolexprs__getindex takes integer this,integer key returns boolexpr
        return LoadBooleanExprHandle(Table___ht, this, key)
    endfunction
    function s__Table___boolexprs__setindex takes integer this,integer key,boolexpr value returns nothing
        call SaveBooleanExprHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___boolexprs_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___boolexprs_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("BooleanExpr", "boolexpr")
//textmacro instance: NEW_ARRAY("Sound", "sound")
    function s__Table___sounds__getindex takes integer this,integer key returns sound
        return LoadSoundHandle(Table___ht, this, key)
    endfunction
    function s__Table___sounds__setindex takes integer this,integer key,sound value returns nothing
        call SaveSoundHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___sounds_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___sounds_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Sound", "sound")
//textmacro instance: NEW_ARRAY("Effect", "effect")
    function s__Table___effects__getindex takes integer this,integer key returns effect
        return LoadEffectHandle(Table___ht, this, key)
    endfunction
    function s__Table___effects__setindex takes integer this,integer key,effect value returns nothing
        call SaveEffectHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___effects_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___effects_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Effect", "effect")
//textmacro instance: NEW_ARRAY("UnitPool", "unitpool")
    function s__Table___unitpools__getindex takes integer this,integer key returns unitpool
        return LoadUnitPoolHandle(Table___ht, this, key)
    endfunction
    function s__Table___unitpools__setindex takes integer this,integer key,unitpool value returns nothing
        call SaveUnitPoolHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___unitpools_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___unitpools_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("UnitPool", "unitpool")
//textmacro instance: NEW_ARRAY("ItemPool", "itempool")
    function s__Table___itempools__getindex takes integer this,integer key returns itempool
        return LoadItemPoolHandle(Table___ht, this, key)
    endfunction
    function s__Table___itempools__setindex takes integer this,integer key,itempool value returns nothing
        call SaveItemPoolHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___itempools_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___itempools_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("ItemPool", "itempool")
//textmacro instance: NEW_ARRAY("Quest", "quest")
    function s__Table___quests__getindex takes integer this,integer key returns quest
        return LoadQuestHandle(Table___ht, this, key)
    endfunction
    function s__Table___quests__setindex takes integer this,integer key,quest value returns nothing
        call SaveQuestHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___quests_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___quests_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Quest", "quest")
//textmacro instance: NEW_ARRAY("QuestItem", "questitem")
    function s__Table___questitems__getindex takes integer this,integer key returns questitem
        return LoadQuestItemHandle(Table___ht, this, key)
    endfunction
    function s__Table___questitems__setindex takes integer this,integer key,questitem value returns nothing
        call SaveQuestItemHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___questitems_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___questitems_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("QuestItem", "questitem")
//textmacro instance: NEW_ARRAY("DefeatCondition", "defeatcondition")
    function s__Table___defeatconditions__getindex takes integer this,integer key returns defeatcondition
        return LoadDefeatConditionHandle(Table___ht, this, key)
    endfunction
    function s__Table___defeatconditions__setindex takes integer this,integer key,defeatcondition value returns nothing
        call SaveDefeatConditionHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___defeatconditions_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___defeatconditions_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("DefeatCondition", "defeatcondition")
//textmacro instance: NEW_ARRAY("TimerDialog", "timerdialog")
    function s__Table___timerdialogs__getindex takes integer this,integer key returns timerdialog
        return LoadTimerDialogHandle(Table___ht, this, key)
    endfunction
    function s__Table___timerdialogs__setindex takes integer this,integer key,timerdialog value returns nothing
        call SaveTimerDialogHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___timerdialogs_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___timerdialogs_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("TimerDialog", "timerdialog")
//textmacro instance: NEW_ARRAY("Leaderboard", "leaderboard")
    function s__Table___leaderboards__getindex takes integer this,integer key returns leaderboard
        return LoadLeaderboardHandle(Table___ht, this, key)
    endfunction
    function s__Table___leaderboards__setindex takes integer this,integer key,leaderboard value returns nothing
        call SaveLeaderboardHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___leaderboards_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___leaderboards_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Leaderboard", "leaderboard")
//textmacro instance: NEW_ARRAY("Multiboard", "multiboard")
    function s__Table___multiboards__getindex takes integer this,integer key returns multiboard
        return LoadMultiboardHandle(Table___ht, this, key)
    endfunction
    function s__Table___multiboards__setindex takes integer this,integer key,multiboard value returns nothing
        call SaveMultiboardHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___multiboards_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___multiboards_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Multiboard", "multiboard")
//textmacro instance: NEW_ARRAY("MultiboardItem", "multiboarditem")
    function s__Table___multiboarditems__getindex takes integer this,integer key returns multiboarditem
        return LoadMultiboardItemHandle(Table___ht, this, key)
    endfunction
    function s__Table___multiboarditems__setindex takes integer this,integer key,multiboarditem value returns nothing
        call SaveMultiboardItemHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___multiboarditems_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___multiboarditems_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("MultiboardItem", "multiboarditem")
//textmacro instance: NEW_ARRAY("Trackable", "trackable")
    function s__Table___trackables__getindex takes integer this,integer key returns trackable
        return LoadTrackableHandle(Table___ht, this, key)
    endfunction
    function s__Table___trackables__setindex takes integer this,integer key,trackable value returns nothing
        call SaveTrackableHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___trackables_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___trackables_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Trackable", "trackable")
//textmacro instance: NEW_ARRAY("Dialog", "dialog")
    function s__Table___dialogs__getindex takes integer this,integer key returns dialog
        return LoadDialogHandle(Table___ht, this, key)
    endfunction
    function s__Table___dialogs__setindex takes integer this,integer key,dialog value returns nothing
        call SaveDialogHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___dialogs_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___dialogs_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Dialog", "dialog")
//textmacro instance: NEW_ARRAY("Button", "button")
    function s__Table___buttons__getindex takes integer this,integer key returns button
        return LoadButtonHandle(Table___ht, this, key)
    endfunction
    function s__Table___buttons__setindex takes integer this,integer key,button value returns nothing
        call SaveButtonHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___buttons_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___buttons_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Button", "button")
//textmacro instance: NEW_ARRAY("TextTag", "texttag")
    function s__Table___texttags__getindex takes integer this,integer key returns texttag
        return LoadTextTagHandle(Table___ht, this, key)
    endfunction
    function s__Table___texttags__setindex takes integer this,integer key,texttag value returns nothing
        call SaveTextTagHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___texttags_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___texttags_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("TextTag", "texttag")
//textmacro instance: NEW_ARRAY("Lightning", "lightning")
    function s__Table___lightnings__getindex takes integer this,integer key returns lightning
        return LoadLightningHandle(Table___ht, this, key)
    endfunction
    function s__Table___lightnings__setindex takes integer this,integer key,lightning value returns nothing
        call SaveLightningHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___lightnings_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___lightnings_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Lightning", "lightning")
//textmacro instance: NEW_ARRAY("Image", "image")
    function s__Table___images__getindex takes integer this,integer key returns image
        return LoadImageHandle(Table___ht, this, key)
    endfunction
    function s__Table___images__setindex takes integer this,integer key,image value returns nothing
        call SaveImageHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___images_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___images_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Image", "image")
//textmacro instance: NEW_ARRAY("Ubersplat", "ubersplat")
    function s__Table___ubersplats__getindex takes integer this,integer key returns ubersplat
        return LoadUbersplatHandle(Table___ht, this, key)
    endfunction
    function s__Table___ubersplats__setindex takes integer this,integer key,ubersplat value returns nothing
        call SaveUbersplatHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___ubersplats_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___ubersplats_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Ubersplat", "ubersplat")
//textmacro instance: NEW_ARRAY("Region", "region")
    function s__Table___regions__getindex takes integer this,integer key returns region
        return LoadRegionHandle(Table___ht, this, key)
    endfunction
    function s__Table___regions__setindex takes integer this,integer key,region value returns nothing
        call SaveRegionHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___regions_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___regions_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Region", "region")
//textmacro instance: NEW_ARRAY("FogState", "fogstate")
    function s__Table___fogstates__getindex takes integer this,integer key returns fogstate
        return LoadFogStateHandle(Table___ht, this, key)
    endfunction
    function s__Table___fogstates__setindex takes integer this,integer key,fogstate value returns nothing
        call SaveFogStateHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___fogstates_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___fogstates_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("FogState", "fogstate")
//textmacro instance: NEW_ARRAY("FogModifier", "fogmodifier")
    function s__Table___fogmodifiers__getindex takes integer this,integer key returns fogmodifier
        return LoadFogModifierHandle(Table___ht, this, key)
    endfunction
    function s__Table___fogmodifiers__setindex takes integer this,integer key,fogmodifier value returns nothing
        call SaveFogModifierHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___fogmodifiers_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___fogmodifiers_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("FogModifier", "fogmodifier")
//textmacro instance: NEW_ARRAY("Hashtable", "hashtable")
    function s__Table___hashtables__getindex takes integer this,integer key returns hashtable
        return LoadHashtableHandle(Table___ht, this, key)
    endfunction
    function s__Table___hashtables__setindex takes integer this,integer key,hashtable value returns nothing
        call SaveHashtableHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___hashtables_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___hashtables_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Hashtable", "hashtable")
    
    
    // Implement modules for intuitive syntax (tb.handle; tb.unit; etc.)
//Implemented from module Table___realm:
    function s__Table__get_real takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___integerm:
    function s__Table__get_integer takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___booleanm:
    function s__Table__get_boolean takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___stringm:
    function s__Table__get_string takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___playerm:
    function s__Table__get_player takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___widgetm:
    function s__Table__get_widget takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___destructablem:
    function s__Table__get_destructable takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___itemm:
    function s__Table__get_item takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___unitm:
    function s__Table__get_unit takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___abilitym:
    function s__Table__get_ability takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___timerm:
    function s__Table__get_timer takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___triggerm:
    function s__Table__get_trigger takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___triggerconditionm:
    function s__Table__get_triggercondition takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___triggeractionm:
    function s__Table__get_triggeraction takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___eventm:
    function s__Table__get_event takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___forcem:
    function s__Table__get_force takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___groupm:
    function s__Table__get_group takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___locationm:
    function s__Table__get_location takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___rectm:
    function s__Table__get_rect takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___boolexprm:
    function s__Table__get_boolexpr takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___soundm:
    function s__Table__get_sound takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___effectm:
    function s__Table__get_effect takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___unitpoolm:
    function s__Table__get_unitpool takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___itempoolm:
    function s__Table__get_itempool takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___questm:
    function s__Table__get_quest takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___questitemm:
    function s__Table__get_questitem takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___defeatconditionm:
    function s__Table__get_defeatcondition takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___timerdialogm:
    function s__Table__get_timerdialog takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___leaderboardm:
    function s__Table__get_leaderboard takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___multiboardm:
    function s__Table__get_multiboard takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___multiboarditemm:
    function s__Table__get_multiboarditem takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___trackablem:
    function s__Table__get_trackable takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___dialogm:
    function s__Table__get_dialog takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___buttonm:
    function s__Table__get_button takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___texttagm:
    function s__Table__get_texttag takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___lightningm:
    function s__Table__get_lightning takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___imagem:
    function s__Table__get_image takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___ubersplatm:
    function s__Table__get_ubersplat takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___regionm:
    function s__Table__get_region takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___fogstatem:
    function s__Table__get_fogstate takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___fogmodifierm:
    function s__Table__get_fogmodifier takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___hashtablem:
    function s__Table__get_hashtable takes integer this returns integer
        return this
    endfunction
    
    function s__Table__get_handle takes integer this returns integer
        return this
    endfunction
    
    function s__Table__get_agent takes integer this returns integer
        return this
    endfunction
    
    //set this = tb[GetSpellAbilityId()]
    function s__Table__getindex takes integer this,integer key returns integer
        return LoadInteger(Table___ht, this, key) //return this.integer[key]
    endfunction
    
    //set tb[389034] = 8192
    function s__Table__setindex takes integer this,integer key,integer tb returns nothing
        call SaveInteger(Table___ht, this, key, tb) //set this.integer[key] = tb
    endfunction
    
    //set b = tb.has(2493223)
    function s__Table_has takes integer this,integer key returns boolean
        return HaveSavedInteger(Table___ht, this, key) //return this.integer.has(key)
    endfunction
    
    //call tb.remove(294080)
    function s__Table_remove takes integer this,integer key returns nothing
        call RemoveSavedInteger(Table___ht, this, key) //call this.integer.remove(key)
    endfunction
    
    //Remove all data from a Table instance
    function s__Table_flush takes integer this returns nothing
        call FlushChildHashtable(Table___ht, this)
    endfunction
    
    //local Table tb = Table.create()
    function s__Table_create takes nothing returns integer
        local integer this= (LoadInteger(Table___ht, ((Table___listK)), (0))) // INLINED!!
        
        if this == 0 then
            set this=Table___more + 1
            set Table___more=this
        else
            call SaveInteger(Table___ht, ((Table___listK)), (0), ( (LoadInteger(Table___ht, ((Table___listK)), (this))))) // INLINED!!
            call RemoveSavedInteger(Table___ht, ((Table___listK)), (this)) //Clear hashed memory // INLINED!!
        endif
        
        return this
    endfunction
    
    // Removes all data from a Table instance and recycles its index.
    //
    //     call tb.destroy()
    //
    function s__Table_destroy takes integer this returns nothing
        
        call FlushChildHashtable(Table___ht, (this)) // INLINED!!
        
        call SaveInteger(Table___ht, ((Table___listK)), (this), ( (LoadInteger(Table___ht, ((Table___listK)), (0))))) // INLINED!!
        call SaveInteger(Table___ht, ((Table___listK)), (0), ( this)) // INLINED!!
    endfunction
    
//ignored textmacro command: TABLE_BC_METHODS()
    
//ignored textmacro command: TABLE_BC_STRUCTS()
    
    
    //Returns a new TableArray to do your bidding. Simply use:
    //
    //    local TableArray ta = TableArray[array_size]
    //
    function s__TableArray__staticgetindex takes integer array_size returns integer
        local integer tb= (LoadInteger(Table___ht, ((Table___sizeK)), (array_size))) // INLINED!!
        local integer this= (LoadInteger(Table___ht, (tb), (0))) // INLINED!!
        
        
        if this == 0 then
            set this=Table___less - array_size
            set Table___less=this
        else
            call SaveInteger(Table___ht, (tb), (0), ( (LoadInteger(Table___ht, (tb), (this))))) //Set the last destroyed to the last-last destroyed // INLINED!!
            call RemoveSavedInteger(Table___ht, (tb), (this)) //Clear hashed memory // INLINED!!
        endif
        
        call SaveInteger(Table___ht, ((Table___sizeK)), (this), ( array_size)) //This remembers the array size // INLINED!!
        return this
    endfunction
    
    //Returns the size of the TableArray
    function s__TableArray__get_size takes integer this returns integer
        return (LoadInteger(Table___ht, ((Table___sizeK)), (this))) // INLINED!!
    endfunction
    
    //This magic method enables two-dimensional[array][syntax] for Tables,
    //similar to the two-dimensional utility provided by hashtables them-
    //selves.
    //
    //ta[integer a].unit[integer b] = unit u
    //ta[integer a][integer c] = integer d
    //
    //Inline-friendly when not running in debug mode
    //
    function s__TableArray__getindex takes integer this,integer key returns integer










        return this + key
    endfunction
    
    //Destroys a TableArray without flushing it; I assume you call .flush()
    //if you want it flushed too. This is a public method so that you don't
    //have to loop through all TableArray indices to flush them if you don't
    //need to (ie. if you were flushing all child-keys as you used them).
    //
    function s__TableArray_destroy takes integer this returns nothing
        local integer tb= (LoadInteger(Table___ht, ((Table___sizeK)), ((LoadInteger(Table___ht, ((Table___sizeK)), ((this))))))) // INLINED!!
        
        
        if tb == 0 then
            //Create a Table to index recycled instances with their array size
            set tb=s__Table_create()
            call SaveInteger(Table___ht, ((Table___sizeK)), ((LoadInteger(Table___ht, ((Table___sizeK)), ((this))))), ( tb)) // INLINED!!
        endif
        
        call RemoveSavedInteger(Table___ht, ((Table___sizeK)), (this)) //Clear the array size from hash memory // INLINED!!
        
        call SaveInteger(Table___ht, (tb), (this), ( (LoadInteger(Table___ht, (tb), (0))))) // INLINED!!
        call SaveInteger(Table___ht, (tb), (0), ( this)) // INLINED!!
    endfunction
    
    
    //Avoids hitting the op limit
    function s__TableArray_clean takes nothing returns nothing
        local integer tb= s__TableArray_tempTable
        local integer end= tb + 0x1000
        if end < s__TableArray_tempEnd then
            set s__TableArray_tempTable=end
            call ForForce(bj_FORCE_PLAYER[0], function s__TableArray_clean)
        else
            set end=s__TableArray_tempEnd
        endif
        loop
            call FlushChildHashtable(Table___ht, (tb)) // INLINED!!
            set tb=tb + 1
            exitwhen tb == end
        endloop
    endfunction
    
    //Flushes the TableArray and also destroys it. Doesn't get any more
    //similar to the FlushParentHashtable native than this.
    //
    function s__TableArray_flush takes integer this returns nothing
        set s__TableArray_tempTable=this
        set s__TableArray_tempEnd=this + (LoadInteger(Table___ht, ((Table___sizeK)), ((this)))) // INLINED!!
        call ForForce(bj_FORCE_PLAYER[0], function s__TableArray_clean)
        call s__TableArray_destroy(this)
    endfunction
    
    
//NEW: Added in Table 4.0. A fairly simple struct but allows you to do more
//than that which was previously possible.

    //Enables myHash[parentKey][childKey] syntax.
    //Basically, it creates a Table in the place of the parent key if
    //it didn't already get created earlier.
    function s__HashTable__getindex takes integer this,integer index returns integer
        local integer t= (LoadInteger(Table___ht, ((this)), (index))) // INLINED!!
        if t == 0 then
            set t=s__Table_create()
            call SaveInteger(Table___ht, ((this)), (index), ( t)) //whoops! Forgot that line. I'm out of practice! // INLINED!!
        endif
        return t
    endfunction

    //You need to call this on each parent key that you used if you
    //intend to destroy the HashTable or simply no longer need that key.
    function s__HashTable_remove takes integer this,integer index returns nothing
        local integer t= (LoadInteger(Table___ht, ((this)), (index))) // INLINED!!
        if t != 0 then
            call s__Table_destroy(t)
            call RemoveSavedInteger(Table___ht, ((this)), (index)) // INLINED!!
        endif
    endfunction
    
    //Added in version 4.1
    function s__HashTable_has takes integer this,integer index returns boolean
        return (HaveSavedInteger(Table___ht, ((this)), (index))) // INLINED!!
    endfunction
    
    //HashTables are just fancy Table indices.
    function s__HashTable_destroy takes integer this returns nothing
        call s__Table_destroy((this))
    endfunction
    
    //Like I said above...
    function s__HashTable_create takes nothing returns integer
        return s__Table_create()
    endfunction



//library Table ends
//library TimerUtils:
//*********************************************************************
//* TimerUtils (red+blue+orange flavors for 1.24b+) 2.0
//* ----------
//*
//*  To implement it , create a custom text trigger called TimerUtils
//* and paste the contents of this script there.
//*
//*  To copy from a map to another, copy the trigger holding this
//* library to your map.
//*
//* (requires vJass)   More scripts: htt://www.wc3c.net
//*
//* For your timer needs:
//*  * Attaching
//*  * Recycling (with double-free protection)
//*
//* set t=NewTimer()      : Get a timer (alternative to CreateTimer)
//* set t=NewTimerEx(x)   : Get a timer (alternative to CreateTimer), call
//*                            Initialize timer data as x, instead of 0.
//*
//* ReleaseTimer(t)       : Relese a timer (alt to DestroyTimer)
//* SetTimerData(t,2)     : Attach value 2 to timer
//* GetTimerData(t)       : Get the timer's value.
//*                         You can assume a timer's value is 0
//*                         after NewTimer.
//*
//* Multi-flavor:
//*    Set USE_HASH_TABLE to true if you don't want to complicate your life.
//*
//* If you like speed and giberish try learning about the other flavors.
//*
//********************************************************************

//================================================================

    //==================================================================================================
    
    

    //It is dependent on jasshelper's recent inlining optimization in order to perform correctly.
    function SetTimerData takes timer t,integer value returns nothing

            // new blue
            call SaveInteger(TimerUtils___ht, 0, GetHandleId(t), value)
            

















    endfunction

    function GetTimerData takes timer t returns integer

            // new blue
            return LoadInteger(TimerUtils___ht, 0, GetHandleId(t))
            

















    endfunction

    //==========================================================================================

    //==========================================================================================
    // I needed to decide between duplicating code ignoring the "Once and only once" rule
    // and using the ugly textmacros. I guess textmacros won.
    //

    function NewTimerEx takes integer value returns timer
        if ( TimerUtils___tN == 0 ) then
            if ( not TimerUtils___didinit ) then
                //This extra if shouldn't represent a major performance drawback
                //because QUANTITY rule is not supposed to be broken every day. 
                call TriggerEvaluate(st___prototype8[(1)]) // INLINED!!
                set TimerUtils___tN=TimerUtils___tN - 1
            else
                //If this happens then the QUANTITY rule has already been broken, try to fix the
                // issue, else fail.
                set s__TimerUtils___tT[0]= CreateTimer()















            endif
        else
            set TimerUtils___tN=TimerUtils___tN - 1
        endif
        call SaveInteger(TimerUtils___ht, 0, GetHandleId((s__TimerUtils___tT[TimerUtils___tN] )), ( value)) // INLINED!!
     return s__TimerUtils___tT[TimerUtils___tN]
    endfunction
    
    function NewTimer takes nothing returns timer
        return NewTimerEx(0)
    endfunction


    //==========================================================================================
    function ReleaseTimer takes timer t returns nothing
        if ( t == null ) then
            return
        endif
        if ( TimerUtils___tN == TimerUtils___ARRAY_SIZE ) then
            //stack is full, the map already has much more troubles than the chance of bug
            call DestroyTimer(t)
        else
            call PauseTimer(t)
            if ( (LoadInteger(TimerUtils___ht, 0, GetHandleId((t)))) == TimerUtils___HELD ) then // INLINED!!
                return
            endif
            call SaveInteger(TimerUtils___ht, 0, GetHandleId((t )), ( TimerUtils___HELD)) // INLINED!!
            set s__TimerUtils___tT[TimerUtils___tN]= t
            set TimerUtils___tN=TimerUtils___tN + 1
        endif
    endfunction

    function TimerUtils___init takes nothing returns nothing
     local integer i=0
     local integer o=- 1
     local boolean oops= false
        if ( TimerUtils___didinit ) then
            return
        else
            set TimerUtils___didinit=true
        endif
     

            set TimerUtils___ht=InitHashtable()
            loop
                exitwhen ( i == TimerUtils___QUANTITY )
                set s__TimerUtils___tT[i]= CreateTimer()
                call SaveInteger(TimerUtils___ht, 0, GetHandleId((s__TimerUtils___tT[i] )), ( TimerUtils___HELD)) // INLINED!!
                set i=i + 1
            endloop
            set TimerUtils___tN=TimerUtils___QUANTITY










































    endfunction


//library TimerUtils ends
//library WorldBounds:
	
		
		
		
		
//Implemented from module WorldBounds___WorldBoundInit:
  function s__WorldBounds_WorldBounds___WorldBoundInit__onInit takes nothing returns nothing
			set s__WorldBounds_world=GetWorldBounds()
			
			set s__WorldBounds_maxX=R2I(GetRectMaxX(s__WorldBounds_world))
			set s__WorldBounds_maxY=R2I(GetRectMaxY(s__WorldBounds_world))
			set s__WorldBounds_minX=R2I(GetRectMinX(s__WorldBounds_world))
			set s__WorldBounds_minY=R2I(GetRectMinY(s__WorldBounds_world))
			
			set s__WorldBounds_centerX=R2I(( s__WorldBounds_maxX + s__WorldBounds_minX ) / 2)
			set s__WorldBounds_centerY=R2I(( s__WorldBounds_minY + s__WorldBounds_maxY ) / 2)
			
			set s__WorldBounds_worldRegion=CreateRegion()
			
			call RegionAddRect(s__WorldBounds_worldRegion, s__WorldBounds_world)
  endfunction

//library WorldBounds ends
//library Alloc:
	

//library Alloc ends
//library DelayedOrder:
    

    


    function s__DelayedOrder_clock takes nothing returns nothing
        local timer t= GetExpiredTimer()
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((t)))) // INLINED!!
        call IssueImmediateOrderById(s__DelayedOrder_u[this], s__DelayedOrder_o[this])
        call ReleaseTimer(t)
        set s__DelayedOrder_u[this]=null
        call s__DelayedOrder_deallocate(this)
        set t=null
    endfunction
    
    function s__DelayedOrder_start takes unit u,integer ordr,real time returns nothing
        local integer this= s__DelayedOrder__allocate()
        set s__DelayedOrder_u[this]=u
        set s__DelayedOrder_o[this]=ordr
        call TimerStart(NewTimerEx(this), time, false, function s__DelayedOrder_clock)
    endfunction




    
    function s__DelayedOrderXY_clock takes nothing returns nothing
        local timer t= GetExpiredTimer()
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((t)))) // INLINED!!
        call IssuePointOrderById(s__DelayedOrderXY_u[this], s__DelayedOrderXY_o[this], s__DelayedOrderXY_x[this], s__DelayedOrderXY_y[this])
        call ReleaseTimer(t)
        set s__DelayedOrderXY_u[this]=null
        call s__DelayedOrderXY_deallocate(this)
        set t=null
    endfunction
    
    function s__DelayedOrderXY_start takes unit u,integer ordr,real time,real x,real y returns nothing
        local integer this= s__DelayedOrderXY__allocate()
        set s__DelayedOrderXY_u[this]=u
        set s__DelayedOrderXY_o[this]=ordr
        set s__DelayedOrderXY_x[this]=x
        set s__DelayedOrderXY_y[this]=y
        call TimerStart(NewTimerEx(this), time, false, function s__DelayedOrderXY_clock)
    endfunction
    



    
    function s__DelayedOrderTarget_clock takes nothing returns nothing
        local timer t= GetExpiredTimer()
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((t)))) // INLINED!!
        call IssueTargetOrderById(s__DelayedOrderTarget_u[this], s__DelayedOrderTarget_o[this], s__DelayedOrderTarget_w[this])
        call ReleaseTimer(t)
        set s__DelayedOrderTarget_u[this]=null
        set s__DelayedOrderTarget_w[this]=null
        call s__DelayedOrderTarget_deallocate(this)
        set t=null
    endfunction
    
    function s__DelayedOrderTarget_start takes unit u,integer ordr,real time,widget w returns nothing
        local integer this= s__DelayedOrderTarget__allocate()
        set s__DelayedOrderTarget_u[this]=u
        set s__DelayedOrderTarget_o[this]=ordr
        set s__DelayedOrderTarget_w[this]=w
        call TimerStart(NewTimerEx(this), time, false, function s__DelayedOrderTarget_clock)
    endfunction
    



//library DelayedOrder ends
//library EffectUtils:



function s__EffectUtils_onTimedLife takes nothing returns nothing
    local timer clock= GetExpiredTimer()
    local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((clock)))) // INLINED!!

    if s__EffectUtils_hide[this] then
        call BlzSetSpecialEffectPosition(s__EffectUtils_vfx[this], s__WorldBounds_maxX, s__WorldBounds_maxY, 5000)
    endif

    call DestroyEffect(s__EffectUtils_vfx[this])
    set s__EffectUtils_vfx[this]=null

    call ReleaseTimer(clock)
    set clock=null
endfunction

function s__EffectUtils_addTimedLife takes effect vfx,real dur,boolean hideOnDeath returns nothing
    local integer this= s__EffectUtils__allocate()
    local timer clock= NewTimerEx(this)
    set s__EffectUtils_vfx[this]=vfx
    set s__EffectUtils_hide[this]=hideOnDeath
    call TimerStart(clock, dur, false, function s__EffectUtils_onTimedLife)
endfunction



//library EffectUtils ends
//library IsUnitContructing:




    function s__IsUnitContructing_onCheckConstruction takes nothing returns nothing
        local timer clock= GetExpiredTimer()
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((clock)))) // INLINED!!
        
        set udg_IndexExUnit=s__IsUnitContructing_source[this]

        set udg_UnitIndexExEvent=0.00
        set udg_UnitIndexExEvent=1.00
        set udg_UnitIndexExEvent=0.00

        set udg_IndexExUnit=null

        call ReleaseTimer(clock)
        set clock=null
        set s__IsUnitContructing_source[this]=null

        call s__IsUnitContructing_deallocate(this)
    endfunction

    function s__IsUnitContructing_onContructionStart takes nothing returns boolean
        set udg_IsUnitConstructing[GetUnitUserData(GetTriggerUnit())]=true
        return false
    endfunction

    function s__IsUnitContructing_onContructionDone takes nothing returns boolean
        set udg_IsUnitConstructing[GetUnitUserData(GetTriggerUnit())]=false
        return false
    endfunction

    function s__IsUnitContructing_onIndex takes nothing returns boolean
        local integer this= s__IsUnitContructing__allocate()
        local timer clock= NewTimerEx(this)
        set s__IsUnitContructing_source[this]=udg_UDexUnits[udg_UDex]
        set s__IsUnitContructing_id[this]=udg_UDex
        call TimerStart(clock, 0., false, function s__IsUnitContructing_onCheckConstruction)
        return false
    endfunction


function IsUnitContructing___init takes nothing returns nothing
    local trigger trigIndex= CreateTrigger()
    local trigger trigBuildStart= CreateTrigger()
    local trigger trigBuildEnd= CreateTrigger()

    call TriggerRegisterVariableEvent(trigIndex, "udg_UnitIndexEvent", EQUAL, 1.00)
    call TriggerAddCondition(trigIndex, Condition(function s__IsUnitContructing_onIndex))
    
    call TriggerRegisterAnyUnitEventBJ(trigBuildStart, EVENT_PLAYER_UNIT_CONSTRUCT_START)
    call TriggerAddCondition(trigBuildStart, Condition(function s__IsUnitContructing_onContructionStart))

    call TriggerRegisterAnyUnitEventBJ(trigBuildEnd, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH)
    call TriggerRegisterAnyUnitEventBJ(trigBuildEnd, EVENT_PLAYER_UNIT_CONSTRUCT_CANCEL)
    call TriggerAddCondition(trigBuildEnd, Condition(function s__IsUnitContructing_onContructionDone))

    set trigIndex=null
    set trigBuildStart=null
    set trigBuildEnd=null
endfunction


//library IsUnitContructing ends
//library RegisterNativeEvent:







//Implemented from module RegisterNativeEvent___NativeEventInit:
    function s__RegisterNativeEvent___NativeEvent_RegisterNativeEvent___NativeEventInit__onInit takes nothing returns nothing

        set s__RegisterNativeEvent___NativeEvent_table=s__TableArray__staticgetindex(0x2000)

    endfunction

function IsNativeEventRegistered takes integer whichIndex,integer whichEvent returns boolean

    return (HaveSavedHandle(Table___ht, (((((s__RegisterNativeEvent___NativeEvent_table) + (whichEvent))))), (whichIndex))) // INLINED!!



endfunction

function RegisterNativeEventTrigger takes integer whichIndex,integer whichEvent returns boolean
    if not IsNativeEventRegistered(whichIndex , whichEvent) then

        call SaveTriggerHandle(Table___ht, (((((s__RegisterNativeEvent___NativeEvent_table) + (whichEvent))))), (whichIndex), ( CreateTrigger())) // INLINED!!



        return true
    endif
    return false
endfunction

function GetIndexNativeEventTrigger takes integer whichIndex,integer whichEvent returns trigger

    return (LoadTriggerHandle(Table___ht, (((((s__RegisterNativeEvent___NativeEvent_table) + (whichEvent))))), (whichIndex))) // INLINED!!



endfunction

function GetNativeEventTrigger takes integer whichEvent returns trigger
    return GetIndexNativeEventTrigger(bj_MAX_PLAYER_SLOTS , whichEvent)
endfunction

function CreateNativeEvent takes nothing returns integer
    local integer eventId= RegisterNativeEvent___eventIndex
    call RegisterNativeEventTrigger(bj_MAX_PLAYER_SLOTS , eventId)
    set RegisterNativeEvent___eventIndex=RegisterNativeEvent___eventIndex + 1
    return eventId
endfunction

function RegisterIndexNativeEvent takes integer whichIndex,integer whichEvent,code func returns triggercondition
    call RegisterNativeEventTrigger(whichIndex , whichEvent)
    return TriggerAddCondition(GetIndexNativeEventTrigger(whichIndex , whichEvent), Condition(func))
endfunction

function RegisterNativeEvent takes integer whichEvent,code func returns triggercondition
    return RegisterIndexNativeEvent(bj_MAX_PLAYER_SLOTS , whichEvent , func)
endfunction

function UnregisterNativeEventHandler takes integer whichEvent,triggercondition handler returns nothing
    call TriggerRemoveCondition((GetIndexNativeEventTrigger(bj_MAX_PLAYER_SLOTS , (whichEvent))), handler) // INLINED!!
endfunction


//library RegisterNativeEvent ends
//library ListT:

//textmacro instance: DEFINE_LIST("", "IntegerList", "integer")
    // No default ctor and dctor due to limited array size

    function s__IntegerListItem__get_data takes integer this returns integer
        return (LoadInteger(Table___ht, ((((this)))), (- 1))) // hashtable[ node, -1 ] = data // INLINED!!
    endfunction
    function s__IntegerListItem__set_data takes integer this,integer value returns nothing
        call SaveInteger(Table___ht, ((((this)))), (- 1), ( value)) // INLINED!!
    endfunction

    function s__IntegerListItem__get_next takes integer this returns integer
        return (LoadInteger(Table___ht, ((this)), (- 2))) // hashtable[ node, -2 ] = next // INLINED!!
    endfunction
    function s__IntegerListItem__set_next takes integer this,integer value returns nothing
        call SaveInteger(Table___ht, ((this)), (- 2), ( value)) // INLINED!!
    endfunction

    function s__IntegerListItem__get_prev takes integer this returns integer
        return (LoadInteger(Table___ht, ((this)), (- 3))) // hashtable[ node, -3 ] = prev // INLINED!!
    endfunction
    function s__IntegerListItem__set_prev takes integer this,integer value returns nothing
        call SaveInteger(Table___ht, ((this)), (- 3), ( value)) // INLINED!!
    endfunction


//Implemented from module Alloc:
		
		
		





		
		
  function s__IntegerList_allocate takes nothing returns integer
   local integer this
			
			if ( s__IntegerList_Alloc__recyclerCount == 0 ) then
				set this=s__IntegerList_Alloc__instanceCount + 1
				set s__IntegerList_Alloc__instanceCount=this
				


			else
				set s__IntegerList_Alloc__recyclerCount=s__IntegerList_Alloc__recyclerCount - 1
				
				set this=(LoadInteger(Table___ht, (s__IntegerList_Alloc__recycler), (s__IntegerList_Alloc__recyclerCount))) // INLINED!!
			endif
			



			
			return this
  endfunction
		
  function s__IntegerList_deallocate takes integer this returns nothing



			



			
			call SaveInteger(Table___ht, (s__IntegerList_Alloc__recycler), (s__IntegerList_Alloc__recyclerCount), ( this)) // INLINED!!
			set s__IntegerList_Alloc__recyclerCount=s__IntegerList_Alloc__recyclerCount + 1
  endfunction
		
















		
		



		
		
  function s__IntegerList_Alloc__onInit takes nothing returns nothing
			set s__IntegerList_Alloc__recycler=s__Table_create()
			



  endfunction

    function s__IntegerList_setNodeOwner takes integer node,integer owner returns nothing
        call SaveInteger(Table___ht, ((node)), (- 4), ( owner)) // INLINED!!
    endfunction

    function s__IntegerList_getNodeOwner takes integer node returns integer
        return (LoadInteger(Table___ht, ((node)), (- 4))) // INLINED!!
    endfunction

    function s__IntegerList_createNode takes integer this,integer value returns integer
        local integer node= s__Table_create()
        call SaveInteger(Table___ht, (((((node))))), (- 1), ( (value))) // INLINED!!
        call SaveInteger(Table___ht, (((node ))), (- 4), ( ( this))) // ownership // INLINED!!
        return node
    endfunction

    function s__IntegerList_deleteNode takes integer this,integer node returns nothing
        call s__Table_destroy((node)) // also removes ownership
    endfunction

    function s__IntegerList_create takes nothing returns integer
        local integer this= s__IntegerList_allocate()
        set s__IntegerList_count[this]=0
        return this
    endfunction

    function s__IntegerList_clear takes integer this returns nothing
        local integer node= s__IntegerList_first[this]
        local integer temp

        loop // recycle all Table indexes
            exitwhen 0 == node
            set temp=(LoadInteger(Table___ht, (((node))), (- 2))) // INLINED!!
            call s__IntegerList_deleteNode(this,node)
            set node=temp
        endloop

        set s__IntegerList_first[this]=0
        set s__IntegerList_last[this]=0
        set s__IntegerList_count[this]=0
    endfunction

    function s__IntegerList_destroy takes integer this returns nothing
        call s__IntegerList_clear(this)
        call s__IntegerList_deallocate(this)
    endfunction

    function s__IntegerList_front takes integer this returns integer
        return (LoadInteger(Table___ht, (((((s__IntegerList_first[this]))))), (- 1))) // INLINED!!
    endfunction

    function s__IntegerList_back takes integer this returns integer
        return (LoadInteger(Table___ht, (((((s__IntegerList_last[this]))))), (- 1))) // INLINED!!
    endfunction

    function s__IntegerList_empty takes integer this returns boolean
        return s__IntegerList_count[this] == 0
    endfunction

    function s__IntegerList_size takes integer this returns integer
        return s__IntegerList_count[this]
    endfunction

    function s__IntegerList_push takes integer this,integer value returns integer
        local integer node= s__IntegerList_createNode(this,value)

        if not (s__IntegerList_count[(this)] == 0) then // INLINED!!
            call SaveInteger(Table___ht, (((s__IntegerList_last[this]))), (- 2), ( (node))) // INLINED!!
            call SaveInteger(Table___ht, (((node))), (- 3), ( (s__IntegerList_last[this]))) // INLINED!!
        else
            set s__IntegerList_first[this]=node
            call SaveInteger(Table___ht, (((node))), (- 3), ( (0))) // INLINED!!
        endif

        set s__IntegerList_last[this]=node
        call SaveInteger(Table___ht, (((node))), (- 2), ( (0))) // INLINED!!
        set s__IntegerList_count[this]=s__IntegerList_count[this] + 1
        return this
    endfunction

    function s__IntegerList_unshift takes integer this,integer value returns integer
        local integer node= s__IntegerList_createNode(this,value)

        if not (s__IntegerList_count[(this)] == 0) then // INLINED!!
            call SaveInteger(Table___ht, (((s__IntegerList_first[this]))), (- 3), ( (node))) // INLINED!!
            call SaveInteger(Table___ht, (((node))), (- 2), ( (s__IntegerList_first[this]))) // INLINED!!
        else
            set s__IntegerList_last[this]=node
            call SaveInteger(Table___ht, (((node))), (- 2), ( (0))) // INLINED!!
        endif

        set s__IntegerList_first[this]=node
        call SaveInteger(Table___ht, (((node))), (- 3), ( (0))) // INLINED!!
        set s__IntegerList_count[this]=s__IntegerList_count[this] + 1
        return this
    endfunction

    function s__IntegerList_pop takes integer this returns integer
        local integer node

        if not (s__IntegerList_count[(this)] == 0) then // INLINED!!
            set node=s__IntegerList_last[this]
            set s__IntegerList_last[this]=(LoadInteger(Table___ht, (((s__IntegerList_last[this]))), (- 3))) // INLINED!!

            if s__IntegerList_last[this] == 0 then
                set s__IntegerList_first[this]=0
            else
                call SaveInteger(Table___ht, (((s__IntegerList_last[this]))), (- 2), ( (0))) // INLINED!!
            endif

            call s__IntegerList_deleteNode(this,node)
            set s__IntegerList_count[this]=s__IntegerList_count[this] - 1
        endif
        return this
    endfunction

    function s__IntegerList_shift takes integer this returns integer
        local integer node

        if not (s__IntegerList_count[(this)] == 0) then // INLINED!!
            set node=s__IntegerList_first[this]
            set s__IntegerList_first[this]=(LoadInteger(Table___ht, (((s__IntegerList_first[this]))), (- 2))) // INLINED!!

            if s__IntegerList_first[this] == 0 then
                set s__IntegerList_last[this]=0
            else
                call SaveInteger(Table___ht, (((s__IntegerList_first[this]))), (- 3), ( (0))) // INLINED!!
            endif

            call s__IntegerList_deleteNode(this,node)
            set s__IntegerList_count[this]=s__IntegerList_count[this] - 1
        endif
        return this
    endfunction

    function s__IntegerList__staticgetindex takes integer other returns integer
        local integer instance= s__IntegerList_create()
        local integer node= s__IntegerList_first[other]

        loop
            exitwhen node == 0
            call s__IntegerList_push(instance,(LoadInteger(Table___ht, (((((node))))), (- 1)))) // INLINED!!
            set node=(LoadInteger(Table___ht, (((node))), (- 2))) // INLINED!!
        endloop

        return instance
    endfunction

    function s__IntegerList_find takes integer this,integer value returns integer
        local integer node= s__IntegerList_first[this]
        loop
            exitwhen node == 0 or (LoadInteger(Table___ht, (((((node))))), (- 1))) == value // INLINED!!
            set node=(LoadInteger(Table___ht, (((node))), (- 2))) // INLINED!!
        endloop
        return node
    endfunction

    function s__IntegerList_erase takes integer this,integer node returns boolean
        if (LoadInteger(Table___ht, (((node))), (- 4))) == this then // match ownership // INLINED!!
            if node == s__IntegerList_first[this] then
                call s__IntegerList_shift(this)
            elseif node == s__IntegerList_last[this] then
                call s__IntegerList_pop(this)
            else
                call SaveInteger(Table___ht, ((((LoadInteger(Table___ht, (((node))), (- 3)))))), (- 2), ( ((LoadInteger(Table___ht, (((node))), (- 2)))))) // INLINED!!
                call SaveInteger(Table___ht, ((((LoadInteger(Table___ht, (((node))), (- 2)))))), (- 3), ( ((LoadInteger(Table___ht, (((node))), (- 3)))))) // INLINED!!
                call s__IntegerList_deleteNode(this,node)
                set s__IntegerList_count[this]=s__IntegerList_count[this] - 1
            endif
            return true
        endif
        return false
    endfunction

    function s__IntegerList_remove takes integer this,integer node returns boolean
        return s__IntegerList_erase(this,node)
    endfunction

    function s__IntegerList_removeElem takes integer this,integer value returns integer
        local integer node= s__IntegerList_find(this,value)
        if node != 0 then
            call s__IntegerList_erase(this,node)
        endif
        return this
    endfunction
//end of: DEFINE_LIST("", "IntegerList", "integer")
// Run here any global list types you want to be defined.




//library ListT ends
//library RegisterPlayerUnitEvent:

function GetAnyPlayerUnitEventTrigger takes playerunitevent whichEvent returns trigger
    return (GetIndexNativeEventTrigger(bj_MAX_PLAYER_SLOTS , (GetHandleId(whichEvent)))) // INLINED!!
endfunction

function GetPlayerUnitEventTrigger takes player whichPlayer,playerunitevent whichEvent returns trigger
    return GetIndexNativeEventTrigger(GetPlayerId(whichPlayer) , GetHandleId(whichEvent))
endfunction

function RegisterAnyPlayerUnitEvent takes playerunitevent whichEvent,code func returns nothing
    local integer eventId= GetHandleId(whichEvent)
    local integer index= 0
    local trigger t= null

    if RegisterNativeEventTrigger(bj_MAX_PLAYER_SLOTS , eventId) then
        set t=(GetIndexNativeEventTrigger(bj_MAX_PLAYER_SLOTS , (eventId))) // INLINED!!
        loop
            call TriggerRegisterPlayerUnitEvent(t, Player(index), whichEvent, null)
            set index=index + 1
            exitwhen index == bj_MAX_PLAYER_SLOTS
        endloop
        set t=null
    endif

call RegisterIndexNativeEvent(bj_MAX_PLAYER_SLOTS , (eventId ) , ( func)) // INLINED!!
endfunction

function RegisterPlayerUnitEvent takes player whichPlayer,playerunitevent whichEvent,code func returns nothing
    local integer playerId= GetPlayerId(whichPlayer)
    local integer eventId= GetHandleId(whichEvent)

    if RegisterNativeEventTrigger(playerId , eventId) then
        call TriggerRegisterPlayerUnitEvent(GetIndexNativeEventTrigger(playerId , eventId), whichPlayer, whichEvent, null)
    endif

    call RegisterIndexNativeEvent(playerId , eventId , func)
endfunction


//library RegisterPlayerUnitEvent ends
//library ConstructEvent:





function GetUnitId takes unit u returns integer
    return GetUnitUserData(u)
endfunction

function GetConstructingBuilder takes nothing returns unit
    return ConstructEvent___eventBuilder
endfunction

function GetConstructingBuilderId takes nothing returns integer
    return (GetUnitUserData((ConstructEvent___eventBuilder))) // INLINED!!
endfunction

function GetTriggeringStructure takes nothing returns unit
    return ConstructEvent___eventConstruct
endfunction

function GetTriggeringStructureId takes nothing returns integer
    return (GetUnitUserData((ConstructEvent___eventConstruct))) // INLINED!!
endfunction

function GetStructureBuilder takes unit whichUnit returns unit
    return ConstructEvent___builders[(GetUnitUserData((whichUnit)))] // INLINED!!
endfunction

function GetStructureBuilderById takes integer whichIndex returns unit
    return ConstructEvent___builders[whichIndex]
endfunction

function IsStructureFinished takes unit whichUnit returns boolean
    return ConstructEvent___finished[(GetUnitUserData((whichUnit)))] // INLINED!!
endfunction

function ConstructEvent___FireEvent takes integer evt,unit builder,unit structure returns nothing
    local unit prevBuilder= ConstructEvent___eventBuilder
    local unit prevConstruct= ConstructEvent___eventConstruct
    local integer playerId= GetPlayerId(GetOwningPlayer(builder))

    set ConstructEvent___eventBuilder=builder
    set ConstructEvent___eventConstruct=structure

    call TriggerEvaluate((GetIndexNativeEventTrigger(bj_MAX_PLAYER_SLOTS , (evt)))) // INLINED!!
    if IsNativeEventRegistered(playerId , evt) then
        call TriggerEvaluate(GetIndexNativeEventTrigger(playerId , evt))
    endif

    set ConstructEvent___eventBuilder=prevBuilder
    set ConstructEvent___eventConstruct=prevConstruct
    set prevBuilder=null
    set prevConstruct=null
endfunction


function ConstructEvent___TranslateXY takes real r returns real
    if r >= 0 then
        return R2I(r / 0.250) * 0.250
    else
        return ( R2I(r / 0.250) - 1 ) * 0.250
    endif
endfunction


function ConstructEvent___IsBuildOrder takes integer o returns boolean
    return ( o >= 852008 and o <= 852013 ) or ( o == 852619 )
endfunction


function ConstructEvent___IsUnitWithinCoords takes unit u,real x,real y returns boolean
    return ( RAbsBJ(GetUnitX(u) - x) == 0 ) and ( RAbsBJ(GetUnitY(u) - y) == 0 )
endfunction


//Implemented from module Alloc:
		
		
		





		
		
  function s__ConstructEvent___PeriodicData_allocate takes nothing returns integer
   local integer this
			
			if ( s__ConstructEvent___PeriodicData_Alloc__recyclerCount == 0 ) then
				set this=s__ConstructEvent___PeriodicData_Alloc__instanceCount + 1
				set s__ConstructEvent___PeriodicData_Alloc__instanceCount=this
				


			else
				set s__ConstructEvent___PeriodicData_Alloc__recyclerCount=s__ConstructEvent___PeriodicData_Alloc__recyclerCount - 1
				
				set this=(LoadInteger(Table___ht, (s__ConstructEvent___PeriodicData_Alloc__recycler), (s__ConstructEvent___PeriodicData_Alloc__recyclerCount))) // INLINED!!
			endif
			



			
			return this
  endfunction
		
  function s__ConstructEvent___PeriodicData_deallocate takes integer this returns nothing



			



			
			call SaveInteger(Table___ht, (s__ConstructEvent___PeriodicData_Alloc__recycler), (s__ConstructEvent___PeriodicData_Alloc__recyclerCount), ( this)) // INLINED!!
			set s__ConstructEvent___PeriodicData_Alloc__recyclerCount=s__ConstructEvent___PeriodicData_Alloc__recyclerCount + 1
  endfunction
		
















		
		



		
		
  function s__ConstructEvent___PeriodicData_Alloc__onInit takes nothing returns nothing
			set s__ConstructEvent___PeriodicData_Alloc__recycler=s__Table_create()
			



  endfunction

    function s__ConstructEvent___PeriodicData_destroy takes integer this returns nothing
        set ConstructEvent___instances[(GetUnitUserData((s__ConstructEvent___PeriodicData_builder[this])))]=0 // INLINED!!
        set s__ConstructEvent___PeriodicData_builder[this]=null
        set s__ConstructEvent___PeriodicData_btype[this]=null

        call s__IntegerList_erase(ConstructEvent___ongoing,s__IntegerList_find(ConstructEvent___ongoing,this))
        if (s__IntegerList_count[(ConstructEvent___ongoing)] == 0) then // INLINED!!
            call PauseTimer(ConstructEvent___looper)
        endif

        call s__ConstructEvent___PeriodicData_deallocate(this)
    endfunction

    function s__ConstructEvent___PeriodicData_create takes integer this,unit u,integer orderId,boolean flag,real x,real y returns integer
        if this == 0 then
            set this=s__ConstructEvent___PeriodicData_allocate()
            set s__ConstructEvent___PeriodicData_builder[this]=u
            set ConstructEvent___instances[(GetUnitUserData((u)))]=this // INLINED!!
            call s__IntegerList_push(ConstructEvent___ongoing,this)
        endif

        set s__ConstructEvent___PeriodicData_order[this]=orderId
        if flag then // ability based build order
            set s__ConstructEvent___PeriodicData_btype[this]=RACE_UNDEAD
        else
            set s__ConstructEvent___PeriodicData_btype[this]=GetUnitRace(s__ConstructEvent___PeriodicData_builder[this])
        endif

        set s__ConstructEvent___PeriodicData_cx[this]=x
        set s__ConstructEvent___PeriodicData_cy[this]=y
        set s__ConstructEvent___PeriodicData_ox[this]=s__ConstructEvent___PeriodicData_cx[this]
        set s__ConstructEvent___PeriodicData_oy[this]=s__ConstructEvent___PeriodicData_cy[this]

        if s__ConstructEvent___PeriodicData_cx[this] - I2R(R2I(s__ConstructEvent___PeriodicData_cx[this])) != 0 then
            set s__ConstructEvent___PeriodicData_cx[this]=ConstructEvent___TranslateXY(s__ConstructEvent___PeriodicData_cx[this])
        endif
        if s__ConstructEvent___PeriodicData_cy[this] - I2R(R2I(s__ConstructEvent___PeriodicData_cy[this])) != 0 then
            set s__ConstructEvent___PeriodicData_cy[this]=ConstructEvent___TranslateXY(s__ConstructEvent___PeriodicData_cy[this])
        endif

        return this
    endfunction

function ConstructEvent___OnCallback takes nothing returns nothing
    local integer iter= s__IntegerList_first[ConstructEvent___ongoing]
    local integer obj
    local real dx
    local real dy

    loop
        exitwhen iter == 0
        set obj=(LoadInteger(Table___ht, (((((iter))))), (- 1))) // INLINED!!

        if not UnitAlive(s__ConstructEvent___PeriodicData_builder[obj]) then
            call s__ConstructEvent___PeriodicData_destroy(obj)
        elseif s__ConstructEvent___PeriodicData_btype[obj] == RACE_UNDEAD or s__ConstructEvent___PeriodicData_btype[obj] == RACE_HUMAN then
            set dx=s__ConstructEvent___PeriodicData_cx[obj] - GetUnitX(s__ConstructEvent___PeriodicData_builder[obj])
            set dy=s__ConstructEvent___PeriodicData_cy[obj] - GetUnitY(s__ConstructEvent___PeriodicData_builder[obj])
            set s__ConstructEvent___PeriodicData_distance[obj]=dx * dx + dy * dy
        endif

        set iter=(LoadInteger(Table___ht, (((iter))), (- 2))) // INLINED!!
    endloop
endfunction

function ConstructEvent___OnNonPointOrder takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local unit target= GetOrderTargetUnit()
    local integer index= (GetUnitUserData((u))) // INLINED!!
    local integer orderId= GetIssuedOrderId()
    local integer obj= ConstructEvent___instances[index]

    // Non handle-type orders usually take 852XXX form and are below 900000
    if orderId > 900000 and target != null then
        if (s__IntegerList_count[(ConstructEvent___ongoing)] == 0) then // INLINED!!
            call TimerStart(ConstructEvent___looper, 0.031250000, true, function ConstructEvent___OnCallback)
        endif
        call s__ConstructEvent___PeriodicData_create(obj , u , orderId , true , GetUnitX(target) , GetUnitY(target))

        set target=null
    elseif obj != 0 then
        call s__ConstructEvent___PeriodicData_destroy(obj)
    elseif orderId == 851976 and ConstructEvent___builders[index] != null and not ConstructEvent___finished[index] then // order cancel
        if not IsUnitType(u, UNIT_TYPE_STRUCTURE) then
            set ConstructEvent___cancelled[index]=true
            call ConstructEvent___FireEvent(EVENT_UNIT_CONSTRUCTION_CANCEL , null , u)
        endif
    endif

    set u=null
endfunction

function ConstructEvent___OnPointOrder takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local integer orderId= GetIssuedOrderId()
    local integer obj= ConstructEvent___instances[(GetUnitUserData((u)))] // INLINED!!
    local boolean isBuildOrder= ConstructEvent___IsBuildOrder(orderId)

    // Non handle-type orders usually take 852XXX form and are below 900000
    if orderId > 900000 or isBuildOrder then
        if (s__IntegerList_count[(ConstructEvent___ongoing)] == 0) then // INLINED!!
            call TimerStart(ConstructEvent___looper, 0.031250000, true, function ConstructEvent___OnCallback)
        endif
        call s__ConstructEvent___PeriodicData_create(obj , u , orderId , isBuildOrder , GetOrderPointX() , GetOrderPointY())
    elseif obj != 0 then
        call s__ConstructEvent___PeriodicData_destroy(obj)
    endif

    set u=null
endfunction

function ConstructEvent___OnConstructCancel takes nothing returns nothing
    local unit u= GetTriggerUnit()

    set ConstructEvent___cancelled[(GetUnitUserData((u)))]=true // INLINED!!
    call ConstructEvent___FireEvent(EVENT_UNIT_CONSTRUCTION_CANCEL , null , u)

    set u=null
endfunction

function ConstructEvent___OnConstructFinish takes nothing returns nothing
    local unit u= GetTriggerUnit()

    set ConstructEvent___finished[(GetUnitUserData((u)))]=true // INLINED!!
    call ConstructEvent___FireEvent(EVENT_UNIT_CONSTRUCTION_FINISH , null , u)

    set u=null
endfunction

function ConstructEvent___OnIndex takes nothing returns nothing
    local unit u= udg_UDexUnits[udg_UDex]
    local integer id= GetUnitTypeId(u)
    local integer iter= s__IntegerList_first[ConstructEvent___ongoing]
    local integer obj
    local integer found= 0
    local real d= 1000000

    loop
        exitwhen iter == 0
        set obj=(LoadInteger(Table___ht, (((((iter))))), (- 1))) // INLINED!!

        if s__ConstructEvent___PeriodicData_order[obj] == id or ConstructEvent___IsBuildOrder(s__ConstructEvent___PeriodicData_order[obj]) then
            if s__ConstructEvent___PeriodicData_cx[obj] == GetUnitX(u) and s__ConstructEvent___PeriodicData_cy[obj] == GetUnitY(u) then
                if s__ConstructEvent___PeriodicData_btype[obj] == RACE_HUMAN or s__ConstructEvent___PeriodicData_btype[obj] == RACE_UNDEAD then
                    if s__ConstructEvent___PeriodicData_distance[obj] < d then
                        set d=s__ConstructEvent___PeriodicData_distance[obj]
                        set found=obj
                    endif
                elseif ConstructEvent___IsUnitWithinCoords(s__ConstructEvent___PeriodicData_builder[obj] , s__ConstructEvent___PeriodicData_ox[obj] , s__ConstructEvent___PeriodicData_oy[obj]) then
                    set found=obj
                    exitwhen true
                endif
            endif
        endif

        set iter=(LoadInteger(Table___ht, (((iter))), (- 2))) // INLINED!!
    endloop

    if found != 0 then
        set ConstructEvent___builders[udg_UDex]=s__ConstructEvent___PeriodicData_builder[found]
        call ConstructEvent___FireEvent(EVENT_UNIT_CONSTRUCTION_START , s__ConstructEvent___PeriodicData_builder[found] , u)
        call s__ConstructEvent___PeriodicData_destroy(found)
    endif

    set u=null
endfunction

function ConstructEvent___OnDeindex takes nothing returns nothing
    local integer index= udg_UDex

    if ConstructEvent___instances[index] != 0 then
        call s__ConstructEvent___PeriodicData_destroy((ConstructEvent___instances[index]))
    elseif ConstructEvent___builders[index] != null then
        if not ( ConstructEvent___finished[index] or ConstructEvent___cancelled[index] ) then
            call ConstructEvent___FireEvent(EVENT_UNIT_CONSTRUCTION_INTERRUPT , null , udg_UDexUnits[udg_UDex])
        endif

        set ConstructEvent___builders[index]=null
        set ConstructEvent___finished[index]=false
        set ConstructEvent___cancelled[index]=false
    endif
endfunction



//Implemented from module ConstructEvent___ConstructEventInit:
    function s__ConstructEvent_ConstructEvent___ConstructEventInit__onInit takes nothing returns nothing
        local trigger trigIndex= CreateTrigger()
        local trigger trigDeindex= CreateTrigger()

        set EVENT_UNIT_CONSTRUCTION_START=CreateNativeEvent()
        set EVENT_UNIT_CONSTRUCTION_CANCEL=CreateNativeEvent()
        set EVENT_UNIT_CONSTRUCTION_FINISH=CreateNativeEvent()
        set EVENT_UNIT_CONSTRUCTION_INTERRUPT=CreateNativeEvent()
        set s__ConstructEvent_START=EVENT_UNIT_CONSTRUCTION_START
        set s__ConstructEvent_CANCEL=EVENT_UNIT_CONSTRUCTION_CANCEL
        set s__ConstructEvent_FINISH=EVENT_UNIT_CONSTRUCTION_FINISH
        set s__ConstructEvent_INTERRUPT=EVENT_UNIT_CONSTRUCTION_INTERRUPT

        set ConstructEvent___ongoing=s__IntegerList_create()

        call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER , function ConstructEvent___OnNonPointOrder)
        call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER , function ConstructEvent___OnPointOrder)
        call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_ISSUED_ORDER , function ConstructEvent___OnNonPointOrder)
        call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_CONSTRUCT_CANCEL , function ConstructEvent___OnConstructCancel)
        call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_CONSTRUCT_FINISH , function ConstructEvent___OnConstructFinish)

        call TriggerRegisterVariableEvent(trigIndex, "udg_UnitIndexEvent", EQUAL, 1.00)
        call TriggerAddCondition(trigIndex, Condition(function ConstructEvent___OnIndex))
        set trigIndex=null

        call TriggerRegisterVariableEvent(trigDeindex, "udg_UnitIndexEvent", EQUAL, 2.00)
        call TriggerAddCondition(trigDeindex, Condition(function ConstructEvent___OnDeindex))
        set trigDeindex=null

        // call OnUnitIndex(function OnIndex)
        // call OnUnitDeindex(function OnDeindex)
        //call RegisterUnitIndexEvent(Condition(function OnIndex), EVENT_UNIT_INDEX)
        //call RegisterUnitIndexEvent(Condition(function OnDeindex), EVENT_UNIT_DEINDEX)
    endfunction

function GetEventBuilder takes nothing returns unit
    return (ConstructEvent___eventBuilder) // INLINED!!
endfunction

function GetEventBuilderId takes nothing returns integer
    return (GetUnitUserData((ConstructEvent___eventBuilder))) // INLINED!!
endfunction

function GetEventStructure takes nothing returns unit
    return (ConstructEvent___eventConstruct) // INLINED!!
endfunction

function GetEventStructureId takes nothing returns integer
    return (GetUnitUserData((ConstructEvent___eventConstruct))) // INLINED!!
endfunction

function RegisterConstructEvent takes code func,integer whichEvent returns nothing
call RegisterIndexNativeEvent(bj_MAX_PLAYER_SLOTS , (whichEvent ) , ( func)) // INLINED!!
endfunction

function GetConstructEventTrigger takes integer whichEvent returns trigger
    return (GetIndexNativeEventTrigger(bj_MAX_PLAYER_SLOTS , (whichEvent))) // INLINED!!
endfunction


//library ConstructEvent ends
//library OrderEvent:


//============================================================================
function RegisterAnyOrderEvent takes code c returns nothing
    call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_ISSUED_ORDER , c)
    call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER , c)
    call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER , c)
    
endfunction

//============================================================================
function OrderEvent___OnOrder takes nothing returns nothing
    call TriggerEvaluate((LoadTriggerHandle(Table___ht, (((OrderEvent___t))), (GetIssuedOrderId())))) // INLINED!!
endfunction

//============================================================================
function RegisterOrderEvent takes integer orderId,code c returns nothing
    local trigger trig
    if (OrderEvent___t) == 0 then
        set OrderEvent___t=s__Table_create()
        call RegisterAnyOrderEvent(function OrderEvent___OnOrder)
    endif
    set trig=(LoadTriggerHandle(Table___ht, (((OrderEvent___t))), (orderId))) // INLINED!!
    if trig == null then
        set trig=CreateTrigger()
        call SaveTriggerHandle(Table___ht, (((OrderEvent___t))), (orderId), ( trig)) // INLINED!!
    endif
    call TriggerAddCondition(trig, Filter(c))
    set trig=null
endfunction


//library OrderEvent ends
//library SpellEffectEvent:
 
//============================================================================
 
//============================================================================
//Implemented from module SpellEffectEvent___M:
    




    
    function s__SpellEffectEvent___S_onCast takes nothing returns nothing

            call TriggerEvaluate((LoadTriggerHandle(Table___ht, (((s__SpellEffectEvent___S_tb))), (GetSpellAbilityId())))) // INLINED!!



    endfunction
 
    function s__SpellEffectEvent___S_SpellEffectEvent___M__onInit takes nothing returns nothing

            set s__SpellEffectEvent___S_tb=s__Table_create()

        call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_SPELL_EFFECT , function s__SpellEffectEvent___S_onCast)
    endfunction
 
//============================================================================
function RegisterSpellEffectEvent takes integer abil,code onCast returns nothing

        if not (HaveSavedHandle(Table___ht, (((s__SpellEffectEvent___S_tb))), (abil))) then // INLINED!!
            call SaveTriggerHandle(Table___ht, (((s__SpellEffectEvent___S_tb))), (abil), ( CreateTrigger())) // INLINED!!
        endif
        call TriggerAddCondition((LoadTriggerHandle(Table___ht, (((s__SpellEffectEvent___S_tb))), (abil))), Filter(onCast)) // INLINED!!






endfunction
 

//library SpellEffectEvent ends
//===========================================================================
// 
// WC2Orc14
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Map Author: LoreCraftDesigns
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************


function InitGlobals takes nothing returns nothing
    local integer i= 0
    set udg_FinalCinematic=false
    set udg_IntroCinematic=false
    set udg_AP1_Player=Player(0)
    set udg_GameOver=false
    set udg_IntroSkipped=false
    set udg_AllPlayers=CreateForce()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_CheckDeathInList[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitTransforming[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_UnitName[i]=""
        set i=i + 1
    endloop

    set udg_UnitInActionEvent=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitPreplaced[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_UDexPrev[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_UDexNext[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitNew[i]=false
        set i=i + 1
    endloop

    set udg_WorldMaxY=0
    set udg_WorldMaxX=0
    set udg_UnitTypeEvent=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitRemoved[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_CargoTransportGroup[i]=CreateGroup()
        set i=i + 1
    endloop

    set udg_CargoEvent=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitBeingUnloaded[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitReincarnating[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_CheckDeathList[i]=0
        set i=i + 1
    endloop

    set udg_CheckDeathTimer=CreateTimer()
    set udg_DeathEvent=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitAlive[i]=false
        set i=i + 1
    endloop

    set udg_UnitIndexEvent=0
    set udg_UDexLastRecycled=0
    set udg_UnitIndexerEnabled=false
    set udg_UDex=0
    set udg_UDexMax=0
    set udg_UnitIndexExEvent=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitConstructing[i]=false
        set i=i + 1
    endloop

    set udg_Playlist=""
    set udg_Chance=0
    set udg_HeavyHammersResearched=false
    set udg_MidgameCinematic=false
    set udg_DuskTimer=CreateTimer()
    set udg_DawnTimer=CreateTimer()
    set udg_FogMax=0
    set udg_FogMin=0
    set udg_CrossIslandIntroCinQ=false
    set udg_CrossIslandOutroCinQ=false
    set udg_ContinueToLordaeronCinematic=false
    set udg_AssaultGroupLokTar=CreateGroup()
    set udg_BattlefieldActors=CreateGroup()
endfunction

//***************************************************************************
//*
//*  Custom Script Code
//*
//***************************************************************************
//***************************************************************************
//*  BlizzardMessage
//***************************************************************************
//*  ConstructEvent

//***************************************************************************
//*  Table
//***************************************************************************
//*  TimerUtils
//***************************************************************************
//*  ListT

//***************************************************************************
//*  LinkedList
//***************************************************************************
//*  Alloc
//***************************************************************************
//*  WorldBounds
//***************************************************************************
//*  EffectUtils
//***************************************************************************
//*  RegisterNativeEvent

//***************************************************************************
//*  RegisterPlayerUnitEvent

//***************************************************************************
//*  SpellEffectEvent
//============================================================================
// SpellEffectEvent
// - Version 1.1.0.0
//
// API
// ---
//     RegisterSpellEffectEvent(integer abil, code onCast)
// 
// Requires
// --------
//     RegisterPlayerUnitEvent: hiveworkshop.com/forums/showthread.php?t=203338
// 
// Optional
// --------
//     Table: hiveworkshop.com/forums/showthread.php?t=188084
//
//***************************************************************************
//*  OrderEvent
//============================================================================
// OrderEvent by Bribe, special thanks to Nestharus and Azlier, version 3.0.1.1
//
// API
// ---
//     RegisterOrderEvent(integer orderId, code eventFunc)
//     RegisterAnyOrderEvent(code eventFunc) //Runs for point/target/instant for any order
//
// Requires
// --------
//     RegisterPlayerUnitEvent: http://www.hiveworkshop.com/threads/snippet-registerevent-pack.250266/
//     Table: http://www.hiveworkshop.com/forums/showthread.php?t=188084
//
//***************************************************************************
//*  DelayedOrder
//***************************************************************************
//*  IsUnitConstructing

//***************************************************************************
//*
//*  Map Item Tables
//*
//***************************************************************************

function ItemTable000000_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('shea', 10)
        call RandomDistAddItem('sman', 10)
        call RandomDistAddItem('spro', 10)
        call RandomDistAddItem('sreg', 10)
        call RandomDistAddItem('shas', 10)
        call RandomDistAddItem('rej5', 10)
        call RandomDistAddItem('rej6', 10)
        call RandomDistAddItem('arsc', 10)
        call RandomDistAddItem('sror', 10)
        call RandomDistAddItem('sres', 10)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function ItemTable000001_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('lmbr', 50)
        call RandomDistAddItem('I603', 50)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function ItemTable000002_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('pghe', 10)
        call RandomDistAddItem('pgma', 10)
        call RandomDistAddItem('pres', 10)
        call RandomDistAddItem('rej3', 10)
        call RandomDistAddItem('rej4', 10)
        call RandomDistAddItem('rej2', 10)
        call RandomDistAddItem('rej1', 10)
        call RandomDistAddItem('phea', 10)
        call RandomDistAddItem('pman', 10)
        call RandomDistAddItem('vamp', 10)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function ItemTable000003_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('rhe3', 10)
        call RandomDistAddItem('rma2', 10)
        call RandomDistAddItem('rre2', 10)
        call RandomDistAddItem('rhe2', 10)
        call RandomDistAddItem('rhe1', 10)
        call RandomDistAddItem('rre1', 10)
        call RandomDistAddItem('rman', 10)
        call RandomDistAddItem('rsps', 10)
        call RandomDistAddItem('rres', 10)
        call RandomDistAddItem('rspd', 10)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function ItemTable000004_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('I603', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

        // Item set 1
        call RandomDistReset()
        call RandomDistAddItem('I603', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

        // Item set 2
        call RandomDistReset()
        call RandomDistAddItem('I603', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

        // Item set 3
        call RandomDistReset()
        call RandomDistAddItem('I602', 50)
        call RandomDistAddItem(- 1, 50)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

        // Item set 4
        call RandomDistReset()
        call RandomDistAddItem('I603', 75)
        call RandomDistAddItem(- 1, 25)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

        // Item set 5
        call RandomDistReset()
        call RandomDistAddItem('gold', 75)
        call RandomDistAddItem(- 1, 25)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

        // Item set 6
        call RandomDistReset()
        call RandomDistAddItem('I603', 75)
        call RandomDistAddItem(- 1, 25)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function ItemTable000005_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('tdex', 10)
        call RandomDistAddItem('tdx2', 10)
        call RandomDistAddItem('tint', 10)
        call RandomDistAddItem('tin2', 10)
        call RandomDistAddItem('tstr', 10)
        call RandomDistAddItem('tst2', 10)
        call RandomDistAddItem('rma2', 10)
        call RandomDistAddItem(- 1, 30)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Unit Item Tables
//*
//***************************************************************************

function Unit000032_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('X000', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Destructible Item Tables
//*
//***************************************************************************

function Doodad001840_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('tdx2', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad001841_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('tpow', 50)
        call RandomDistAddItem(- 1, 50)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad005244_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('ankh', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad005254_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('hbth', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad005664_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('guvi', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad005671_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('manh', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad005693_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('gomn', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad006304_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('I603', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad006995_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('pdiv', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Sound Assets
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_WaterWavesLoop1=CreateSound("Sound\\Ambient\\DoodadEffects\\WaterWavesLoop1.wav", false, true, true, 10, 10, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WaterWavesLoop1, 7445)
    call SetSoundChannel(gg_snd_WaterWavesLoop1, 0)
    call SetSoundVolume(gg_snd_WaterWavesLoop1, - 1)
    call SetSoundPitch(gg_snd_WaterWavesLoop1, 1.0)
    call SetSoundDistances(gg_snd_WaterWavesLoop1, 0.0, 10000.0)
    call SetSoundDistanceCutoff(gg_snd_WaterWavesLoop1, 3000.0)
    call SetSoundConeAngles(gg_snd_WaterWavesLoop1, 0.0, 0.0, 127)
    call SetSoundConeOrientation(gg_snd_WaterWavesLoop1, 0.0, 0.0, 0.0)
    set gg_snd_OrcBarracksWhat1=CreateSound("Buildings\\Orc\\OrcBarracks\\OrcBarracksWhat1.wav", false, false, true, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_OrcBarracksWhat1, 3343)
    call SetSoundChannel(gg_snd_OrcBarracksWhat1, 0)
    call SetSoundVolume(gg_snd_OrcBarracksWhat1, - 1)
    call SetSoundPitch(gg_snd_OrcBarracksWhat1, 1.0)
    set gg_snd_HeroDropItem1=CreateSound("Sound\\Interface\\HeroDropItem1.wav", false, false, true, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_HeroDropItem1, 634)
    call SetSoundChannel(gg_snd_HeroDropItem1, 21)
    call SetSoundVolume(gg_snd_HeroDropItem1, 0)
    call SetSoundPitch(gg_snd_HeroDropItem1, 1.0)
    set gg_snd_WaterLakeLoop1=CreateSound("Sound\\Ambient\\DoodadEffects\\WaterLakeLoop1.wav", false, true, true, 10, 10, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WaterLakeLoop1, 3297)
    call SetSoundChannel(gg_snd_WaterLakeLoop1, 0)
    call SetSoundVolume(gg_snd_WaterLakeLoop1, - 1)
    call SetSoundPitch(gg_snd_WaterLakeLoop1, 1.0)
    call SetSoundDistances(gg_snd_WaterLakeLoop1, 0.0, 10000.0)
    call SetSoundDistanceCutoff(gg_snd_WaterLakeLoop1, 3000.0)
    call SetSoundConeAngles(gg_snd_WaterLakeLoop1, 0.0, 0.0, 127)
    call SetSoundConeOrientation(gg_snd_WaterLakeLoop1, 0.0, 0.0, 0.0)
    set gg_snd_CS_H01b_Orc_gesture_v2=CreateSound("Sound/Ambient/DoodadEffects/CS_H01b_Orc_gesture_v2.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_H01b_Orc_gesture_v2, 3297)
    call SetSoundChannel(gg_snd_CS_H01b_Orc_gesture_v2, 20)
    call SetSoundVolume(gg_snd_CS_H01b_Orc_gesture_v2, 127)
    call SetSoundPitch(gg_snd_CS_H01b_Orc_gesture_v2, 1.0)
    set gg_snd_CS_H01a_soldiers_walk_RtoL_a=CreateSound("Sound/Ambient/DoodadEffects/CS_H01a_soldiers_walk_RtoL_a.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_H01a_soldiers_walk_RtoL_a, 3297)
    call SetSoundChannel(gg_snd_CS_H01a_soldiers_walk_RtoL_a, 20)
    call SetSoundVolume(gg_snd_CS_H01a_soldiers_walk_RtoL_a, 127)
    call SetSoundPitch(gg_snd_CS_H01a_soldiers_walk_RtoL_a, 1.0)
    set gg_snd_CS_H01a_soldiers_walk_RtoL_a01=CreateSound("Sound/Ambient/DoodadEffects/CS_H01a_soldiers_walk_RtoL_a.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_H01a_soldiers_walk_RtoL_a01, 3297)
    call SetSoundChannel(gg_snd_CS_H01a_soldiers_walk_RtoL_a01, 20)
    call SetSoundVolume(gg_snd_CS_H01a_soldiers_walk_RtoL_a01, 127)
    call SetSoundPitch(gg_snd_CS_H01a_soldiers_walk_RtoL_a01, 1.0)
    set gg_snd_TheHornOfCenarius=CreateSound("Sound/Ambient/DoodadEffects/TheHornOfCenarius.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_TheHornOfCenarius, "HornOfCenariusSound")
    call SetSoundDuration(gg_snd_TheHornOfCenarius, 12120)
    call SetSoundChannel(gg_snd_TheHornOfCenarius, 20)
    call SetSoundVolume(gg_snd_TheHornOfCenarius, 127)
    set gg_snd_CS_BG_Camp=CreateSound("Sound/Ambient/DoodadEffects/CS_BG_Camp.mp3", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_BG_Camp, 12120)
    call SetSoundChannel(gg_snd_CS_BG_Camp, 20)
    call SetSoundVolume(gg_snd_CS_BG_Camp, 127)
    call SetSoundPitch(gg_snd_CS_BG_Camp, 1.0)
    call SetSoundDistances(gg_snd_CS_BG_Camp, 0.0, 10000.0)
    call SetSoundDistanceCutoff(gg_snd_CS_BG_Camp, 3000.0)
    call SetSoundConeAngles(gg_snd_CS_BG_Camp, 0.0, 0.0, 127)
    call SetSoundConeOrientation(gg_snd_CS_BG_Camp, 0.0, 0.0, 0.0)
    set gg_snd_CS_HU_2_Intro_Foley2=CreateSound("Sound/Ambient/DoodadEffects/CS_HU_2_Intro_Foley2.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_HU_2_Intro_Foley2, 12120)
    call SetSoundChannel(gg_snd_CS_HU_2_Intro_Foley2, 20)
    call SetSoundVolume(gg_snd_CS_HU_2_Intro_Foley2, 127)
    call SetSoundPitch(gg_snd_CS_HU_2_Intro_Foley2, 1.0)
    set gg_snd_CS_Prologue2_Foley1=CreateSound("Sound/Ambient/DoodadEffects/CS_Prologue2_Foley1.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_Prologue2_Foley1, 12120)
    call SetSoundChannel(gg_snd_CS_Prologue2_Foley1, 20)
    call SetSoundVolume(gg_snd_CS_Prologue2_Foley1, 127)
    call SetSoundPitch(gg_snd_CS_Prologue2_Foley1, 1.0)
    set gg_snd_CS_Prologue2_Foley2=CreateSound("Sound/Ambient/DoodadEffects/CS_Prologue2_Foley2.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_Prologue2_Foley2, 12120)
    call SetSoundChannel(gg_snd_CS_Prologue2_Foley2, 20)
    call SetSoundVolume(gg_snd_CS_Prologue2_Foley2, 127)
    call SetSoundPitch(gg_snd_CS_Prologue2_Foley2, 1.0)
    set gg_snd_CS_Prologue2_Foley101=CreateSound("Sound/Ambient/DoodadEffects/CS_Prologue2_Foley1.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_Prologue2_Foley101, 12120)
    call SetSoundChannel(gg_snd_CS_Prologue2_Foley101, 20)
    call SetSoundVolume(gg_snd_CS_Prologue2_Foley101, 127)
    call SetSoundPitch(gg_snd_CS_Prologue2_Foley101, 1.0)
    set gg_snd_BridgeDeath=CreateSound("Sound/Ambient/DoodadEffects/BridgeDeath.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_BridgeDeath, "BridgeDeath")
    call SetSoundDuration(gg_snd_BridgeDeath, 9081)
    call SetSoundChannel(gg_snd_BridgeDeath, 20)
    call SetSoundVolume(gg_snd_BridgeDeath, 127)
    set gg_snd_HumanCallToArmsWhat1=CreateSound("Abilities/Spells/Human/CallToArms/HumanCallToArmsWhat1.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_HumanCallToArmsWhat1, "TownHallCallToArms")
    call SetSoundDuration(gg_snd_HumanCallToArmsWhat1, 3970)
    call SetSoundChannel(gg_snd_HumanCallToArmsWhat1, 20)
    call SetSoundVolume(gg_snd_HumanCallToArmsWhat1, 60)
    set gg_snd_CS_H01a_Uther_walk_a=CreateSound("Sound/Ambient/DoodadEffects/CS_H01a_Uther_walk_a.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_H01a_Uther_walk_a, 3970)
    call SetSoundChannel(gg_snd_CS_H01a_Uther_walk_a, 20)
    call SetSoundVolume(gg_snd_CS_H01a_Uther_walk_a, 127)
    call SetSoundPitch(gg_snd_CS_H01a_Uther_walk_a, 1.0)
    set gg_snd_CS_H01a_Uther_walks_003_LR_v3=CreateSound("Sound/Ambient/DoodadEffects/CS_H01a_Uther_walks_003_LR_v3.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_H01a_Uther_walks_003_LR_v3, 3970)
    call SetSoundChannel(gg_snd_CS_H01a_Uther_walks_003_LR_v3, 20)
    call SetSoundVolume(gg_snd_CS_H01a_Uther_walks_003_LR_v3, 127)
    call SetSoundPitch(gg_snd_CS_H01a_Uther_walks_003_LR_v3, 1.0)
    set gg_snd_CS_H01c_Arthas_stands_v1=CreateSound("Sound/Ambient/DoodadEffects/CS_H01c_Arthas_stands_v1.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_H01c_Arthas_stands_v1, 3970)
    call SetSoundChannel(gg_snd_CS_H01c_Arthas_stands_v1, 20)
    call SetSoundVolume(gg_snd_CS_H01c_Arthas_stands_v1, 127)
    call SetSoundPitch(gg_snd_CS_H01c_Arthas_stands_v1, 1.0)
    set gg_snd_CS_orc2_outro_rockfalls=CreateSound("Sound/Ambient/DoodadEffects/CS_orc2_outro_rockfalls.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_orc2_outro_rockfalls, 3970)
    call SetSoundChannel(gg_snd_CS_orc2_outro_rockfalls, 20)
    call SetSoundVolume(gg_snd_CS_orc2_outro_rockfalls, 127)
    call SetSoundPitch(gg_snd_CS_orc2_outro_rockfalls, 1.0)
    set gg_snd_DoorSlam1=CreateSound("Sound/Ambient/DoodadEffects/DoorSlam1.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_DoorSlam1, "DoorSlamSound")
    call SetSoundDuration(gg_snd_DoorSlam1, 485)
    call SetSoundChannel(gg_snd_DoorSlam1, 20)
    call SetSoundVolume(gg_snd_DoorSlam1, 50)
    set gg_snd_CS_BG_Camp02=CreateSound("Sound/Ambient/DoodadEffects/CS_BG_Camp.mp3", true, true, true, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_BG_Camp02, 485)
    call SetSoundChannel(gg_snd_CS_BG_Camp02, 10)
    call SetSoundVolume(gg_snd_CS_BG_Camp02, 127)
    call SetSoundPitch(gg_snd_CS_BG_Camp02, 1.0)
    call SetSoundDistances(gg_snd_CS_BG_Camp02, 0.0, 10000.0)
    call SetSoundDistanceCutoff(gg_snd_CS_BG_Camp02, 3000.0)
    call SetSoundConeAngles(gg_snd_CS_BG_Camp02, 0.0, 0.0, 127)
    call SetSoundConeOrientation(gg_snd_CS_BG_Camp02, 0.0, 0.0, 0.0)
    set gg_snd_CS_H01a_soldiers_turn_a=CreateSound("Sound/Ambient/DoodadEffects/CS_H01a_soldiers_turn_a.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_H01a_soldiers_turn_a, 485)
    call SetSoundChannel(gg_snd_CS_H01a_soldiers_turn_a, 20)
    call SetSoundVolume(gg_snd_CS_H01a_soldiers_turn_a, 127)
    call SetSoundPitch(gg_snd_CS_H01a_soldiers_turn_a, 1.0)
    set gg_snd_CS_orc2_outro_stomp=CreateSound("Sound/Ambient/DoodadEffects/CS_orc2_outro_stomp.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_orc2_outro_stomp, 485)
    call SetSoundChannel(gg_snd_CS_orc2_outro_stomp, 20)
    call SetSoundVolume(gg_snd_CS_orc2_outro_stomp, 127)
    call SetSoundPitch(gg_snd_CS_orc2_outro_stomp, 1.0)
    set gg_snd_CityBattlegroundLoop=CreateSound("Sound/Ambient/CityBattlegroundLoop.mp3", true, true, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CityBattlegroundLoop, 485)
    call SetSoundChannel(gg_snd_CityBattlegroundLoop, 10)
    call SetSoundVolume(gg_snd_CityBattlegroundLoop, 127)
    call SetSoundPitch(gg_snd_CityBattlegroundLoop, 1.0)
    call SetSoundDistances(gg_snd_CityBattlegroundLoop, 0.0, 10000.0)
    call SetSoundDistanceCutoff(gg_snd_CityBattlegroundLoop, 3000.0)
    call SetSoundConeAngles(gg_snd_CityBattlegroundLoop, 0.0, 0.0, 127)
    call SetSoundConeOrientation(gg_snd_CityBattlegroundLoop, 0.0, 0.0, 0.0)
    set gg_snd_CS_HU_6_Intro_AmbBells=CreateSound("Sound/Ambient/CS_HU_6_Intro_AmbBells.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_CS_HU_6_Intro_AmbBells, 485)
    call SetSoundChannel(gg_snd_CS_HU_6_Intro_AmbBells, 17)
    call SetSoundVolume(gg_snd_CS_HU_6_Intro_AmbBells, 127)
    call SetSoundPitch(gg_snd_CS_HU_6_Intro_AmbBells, 1.0)
    set gg_snd_Lordaeron_Siege_Bells=CreateSound("Sound/Ambient/DoodadEffects/Lordaeron_Siege_Bells.mp3", true, true, true, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_Lordaeron_Siege_Bells, 485)
    call SetSoundChannel(gg_snd_Lordaeron_Siege_Bells, 10)
    call SetSoundVolume(gg_snd_Lordaeron_Siege_Bells, 70)
    call SetSoundPitch(gg_snd_Lordaeron_Siege_Bells, 1.0)
    call SetSoundDistances(gg_snd_Lordaeron_Siege_Bells, 0.0, 10000.0)
    call SetSoundDistanceCutoff(gg_snd_Lordaeron_Siege_Bells, 3000.0)
    call SetSoundConeAngles(gg_snd_Lordaeron_Siege_Bells, 0.0, 0.0, 127)
    call SetSoundConeOrientation(gg_snd_Lordaeron_Siege_Bells, 0.0, 0.0, 0.0)
    set gg_snd_WarCraft2OrcsEnding01="_HD.w3mod/Sound/Ambient/DoodadEffects/WarCraft2OrcsEnding01.mp3"
endfunction

//***************************************************************************
//*
//*  Destructable Objects
//*
//***************************************************************************

function CreateAllDestructables takes nothing returns nothing
    local destructable d
    local trigger t
    local real life
    set gg_dest_B000_2148=BlzCreateDestructableZWithSkin('B000', 8164.4, - 821.1, - 6.4, 0.000, 1.000, 0, 'B000')
    set gg_dest_B000_2149=BlzCreateDestructableZWithSkin('B000', 8163.6, - 942.9, - 6.4, 0.000, 1.000, 0, 'B000')
    set gg_dest_B000_2158=BlzCreateDestructableZWithSkin('B000', 8164.1, - 1060.2, - 6.4, 0.000, 1.000, 0, 'B000')
    set gg_dest_B000_0362=BlzCreateDestructableZWithSkin('B000', 8163.5, - 698.6, - 6.4, 0.000, 1.000, 0, 'B000')
    set gg_dest_B005_3579=BlzCreateDestructableZWithSkin('B005', 6976.0, - 5376.0, 0.0, 300.566, 1.000, 2, 'B005')
    set gg_dest_B005_0661=BlzCreateDestructableZWithSkin('B005', 8000.0, 3200.0, 128.0, 270.000, 1.200, 2, 'B005')
    set gg_dest_B005_2276=BlzCreateDestructableZWithSkin('B005', 8309.9, 826.6, - 77.4, 90.000, 1.500, 1, 'B005')
    set gg_dest_B008_3899=BlzCreateDestructableZWithSkin('B008', 8256.0, - 768.0, - 101.9, 270.000, 1.050, 0, 'B008')
    set gg_dest_B01I_2177=BlzCreateDeadDestructableZWithSkin('B01I', 8654.7, - 409.5, - 85.6, 340.000, 1.259, 0, 'B01I')
    set gg_dest_B01J_4720=BlzCreateDeadDestructableZWithSkin('B01J', 11836.7, - 3619.9, 98.0, 341.000, 1.330, 0, 'B01J')
    set gg_dest_B01K_6864=BlzCreateDeadDestructableZWithSkin('B01K', 11858.7, - 3694.9, 66.8, 317.000, 1.500, 0, 'B01K')
    set d=BlzCreateDestructableZWithSkin('B60U', 1504.0, - 3296.0, 512.0, 88.640, 1.200, 0, 'B60U')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function Doodad005244_DropItems)
    set d=BlzCreateDestructableZWithSkin('B60U', 1568.0, - 3296.0, 512.0, 88.640, 1.200, 0, 'B60U')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function Doodad005254_DropItems)
    set d=BlzCreateDestructableZWithSkin('B60U', 7200.0, - 2848.0, 0.0, 313.640, 1.200, 0, 'B60U')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function Doodad006995_DropItems)
    set d=BlzCreateDestructableZWithSkin('B60U', - 1760.0, 1312.0, 0.0, 270.830, 1.099, 0, 'B60U')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function Doodad005671_DropItems)
    set d=BlzCreateDestructableZWithSkin('B60U', - 1312.0, - 5024.0, 0.0, 208.000, 1.200, 0, 'B60U')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function Doodad006304_DropItems)
    set d=BlzCreateDestructableZWithSkin('B62R', - 1792.0, 1728.0, - 25.6, 0.000, 1.461, 0, 'B62R')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function Doodad005693_DropItems)
    set d=BlzCreateDestructableZWithSkin('B62R', - 3648.0, 1216.0, - 0.1, 135.000, 1.304, 1, 'B62R')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function Doodad005664_DropItems)
    set gg_dest_DTc1_8519=BlzCreateDestructableZWithSkin('DTc1', - 15212.7, - 2037.5, - 7.0, 112.496, 1.600, 0, 'DTc1')
    set d=BlzCreateDestructableZWithSkin('LTbr', 8352.0, - 15392.0, - 123.7, 310.000, 1.407, 0, 'LTbr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000002_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTbr', 8224.0, - 15264.0, - 107.6, 331.000, 1.130, 0, 'LTbr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000002_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTbr', 1376.0, - 13280.0, - 89.8, 240.000, 1.382, 0, 'LTbr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000002_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTbs', - 1440.0, - 4768.0, 0.0, 76.000, 1.266, 0, 'LTbs')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000002_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTbx', - 1184.0, - 5152.0, 0.0, 208.300, 1.205, 0, 'LTbx')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000002_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTbx', 8032.0, - 15264.0, - 104.6, 284.000, 1.158, 0, 'LTbx')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000002_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 3968.0, - 1408.0, 128.0, 87.620, 1.046, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000002_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 6016.0, - 12864.0, - 2.6, 242.000, 0.960, 0, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 6528.0, - 13056.0, 29.0, 59.000, 0.871, 0, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 7168.0, - 13568.0, 6.7, 7.000, 0.806, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000000_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', - 4032.0, - 4992.0, - 8.0, 58.000, 1.077, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', - 3776.0, - 5120.0, - 0.8, 151.000, 1.167, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', - 2048.0, - 5120.0, 0.0, 88.430, 1.180, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 8320.0, - 15232.0, - 108.5, 215.000, 1.072, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 8256.0, - 15360.0, - 110.5, 256.000, 1.167, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 2496.0, - 16640.0, - 66.0, 42.480, 1.124, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', - 4160.0, - 5184.0, - 0.6, 221.000, 0.992, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 4160.0, - 1600.0, 128.0, 88.000, 1.150, 0, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000000_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 3968.0, - 192.0, 128.0, 358.660, 1.046, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function Doodad001841_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 4224.0, - 64.0, 128.0, 263.000, 1.150, 0, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function Doodad001840_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 6016.0, - 12992.0, 1.5, 287.000, 0.901, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000000_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 960.0, - 12928.0, - 76.0, 67.000, 0.945, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 960.0, - 13056.0, - 71.8, 300.000, 0.855, 0, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', - 1728.0, - 4480.0, 0.0, 204.358, 1.180, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 4096.0, - 128.0, 128.0, 220.000, 1.094, 0, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000000_DropItems)
endfunction

//***************************************************************************
//*
//*  Items
//*
//***************************************************************************

function CreateAllItems takes nothing returns nothing
    local integer itemID

    call BlzCreateItemWithSkin('tst2', 2239.5, - 2697.4, 'tst2')
endfunction

//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateUnitsForPlayer0 takes nothing returns nothing
    local player p= Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'o60G', 7135.0, - 14119.1, 211.662, 'o60G')
    call SetUnitColor(u, ConvertPlayerColor(20))
    set u=BlzCreateUnitWithSkin(p, 'o60G', 7188.5, - 14262.6, 192.515, 'o60G')
    call SetUnitColor(u, ConvertPlayerColor(20))
    set u=BlzCreateUnitWithSkin(p, 'o60G', 7198.0, - 14445.4, 169.615, 'o60G')
    call SetUnitColor(u, ConvertPlayerColor(20))
    set u=BlzCreateUnitWithSkin(p, 'o60G', 7134.8, - 14592.5, 149.597, 'o60G')
    call SetUnitColor(u, ConvertPlayerColor(20))
    set u=BlzCreateUnitWithSkin(p, 'o61W', 6420.2, - 13900.7, 304.881, 'o61W')
    set gg_unit_o60P_0012=BlzCreateUnitWithSkin(p, 'o60P', 11334.4, - 1961.1, 180.000, 'o60P')
    set gg_unit_o60P_0013=BlzCreateUnitWithSkin(p, 'o60P', 11369.2, - 2275.5, 180.000, 'o60P')
    set gg_unit_o60P_0014=BlzCreateUnitWithSkin(p, 'o60P', 11355.7, - 2676.3, 180.000, 'o60P')
    set gg_unit_o60P_0015=BlzCreateUnitWithSkin(p, 'o60P', 11372.3, - 2979.3, 180.000, 'o60P')
    set gg_unit_o60P_0016=BlzCreateUnitWithSkin(p, 'o60P', 11368.1, - 3292.8, 180.000, 'o60P')
    set gg_unit_o60P_0017=BlzCreateUnitWithSkin(p, 'o60P', 11383.1, - 3587.9, 180.000, 'o60P')
    set gg_unit_o60P_0018=BlzCreateUnitWithSkin(p, 'o60P', 11387.4, - 3818.6, 180.000, 'o60P')
    set gg_unit_o608_0019=BlzCreateUnitWithSkin(p, 'o608', 12928.9, - 3144.1, 175.525, 'o608')
    set gg_unit_o605_0020=BlzCreateUnitWithSkin(p, 'o605', 12749.0, - 2796.9, 214.637, 'o605')
    call SetUnitColor(gg_unit_o605_0020, ConvertPlayerColor(0))
    set gg_unit_ogru_0021=BlzCreateUnitWithSkin(p, 'ogru', 12356.7, - 3804.2, 196.431, 'ogru')
    set u=BlzCreateUnitWithSkin(p, 'ogru', 12969.0, - 2835.7, 212.665, 'ogru')
    set gg_unit_o60P_0023=BlzCreateUnitWithSkin(p, 'o60P', 10989.4, - 192.2, 195.222, 'o60P')
    set gg_unit_o608_0024=BlzCreateUnitWithSkin(p, 'o608', 8704.9, - 410.1, 344.865, 'o608')
    set gg_unit_o61W_0025=BlzCreateUnitWithSkin(p, 'o61W', 11476.9, - 2009.8, 170.987, 'o61W')
    set gg_unit_o61W_0026=BlzCreateUnitWithSkin(p, 'o61W', 11510.1, - 2328.3, 162.925, 'o61W')
    set gg_unit_o61W_0027=BlzCreateUnitWithSkin(p, 'o61W', 11493.8, - 2731.9, 162.925, 'o61W')
    set gg_unit_o61W_0028=BlzCreateUnitWithSkin(p, 'o61W', 11512.0, - 3026.5, 162.925, 'o61W')
    set gg_unit_o61W_0029=BlzCreateUnitWithSkin(p, 'o61W', 11506.5, - 3345.0, 162.925, 'o61W')
    set gg_unit_o61W_0030=BlzCreateUnitWithSkin(p, 'o61W', 11515.4, - 3641.6, 162.925, 'o61W')
    set gg_unit_o61W_0031=BlzCreateUnitWithSkin(p, 'o61W', 11522.0, - 3855.7, 162.925, 'o61W')
    set gg_unit_o60P_0041=BlzCreateUnitWithSkin(p, 'o60P', 10588.8, 196.3, 190.795, 'o60P')
    set gg_unit_O60F_0042=BlzCreateUnitWithSkin(p, 'O60F', 12741.4, - 2569.6, 249.200, 'O60F')
    call SetUnitColor(gg_unit_O60F_0042, ConvertPlayerColor(0))
    set u=BlzCreateUnitWithSkin(p, 'ogru', 12668.8, - 2406.9, 233.607, 'ogru')
    set gg_unit_o60P_0044=BlzCreateUnitWithSkin(p, 'o60P', 9456.8, 1003.0, 188.301, 'o60P')
    set u=BlzCreateUnitWithSkin(p, 'o60T', 13905.8, - 2977.7, 180.000, 'o60T')
    set u=BlzCreateUnitWithSkin(p, 'o60T', 13883.8, - 3281.5, 180.000, 'o60T')
    set u=BlzCreateUnitWithSkin(p, 'o60T', 13888.9, - 2771.4, 180.000, 'o60T')
    set u=BlzCreateUnitWithSkin(p, 'o60T', 13803.6, - 2451.9, 180.000, 'o60T')
    set u=BlzCreateUnitWithSkin(p, 'o60T', 13773.0, - 2099.3, 180.000, 'o60T')
    set u=BlzCreateUnitWithSkin(p, 'o60T', 14199.0, - 2499.1, 180.000, 'o60T')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 13806.6, - 3687.4, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 14027.7, - 3139.8, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 14039.0, - 2308.8, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 14102.9, - 2790.6, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 14171.8, - 3479.0, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 14009.7, - 3706.2, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 14153.0, - 3180.6, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 14398.0, - 3520.6, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 13926.7, - 1888.1, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 14241.7, - 1667.1, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 14455.4, - 2047.5, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 6557.4, - 13843.2, 289.557, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 14619.4, - 2464.3, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 6254.9, - 14188.5, 340.402, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 6313.8, - 14037.9, 322.870, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 7058.8, - 13977.0, 223.262, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 6695.9, - 13814.2, 274.771, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 6820.0, - 13835.8, 261.515, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 6945.1, - 13890.5, 246.646, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60P', 7218.0, - 14866.0, 202.626, 'o60P')
    set u=BlzCreateUnitWithSkin(p, 'o60P', 5977.5, - 13712.6, 192.706, 'o60P')
    set u=BlzCreateUnitWithSkin(p, 'o61W', - 15218.0, - 2490.4, 79.904, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o608', 6810.1, - 14503.2, 132.530, 'o608')
    set u=BlzCreateUnitWithSkin(p, 'o60Q', 5729.4, - 14734.5, 330.204, 'o60Q')
    set u=BlzCreateUnitWithSkin(p, 'o60Q', 6073.1, - 15062.1, 335.522, 'o60Q')
    set u=BlzCreateUnitWithSkin(p, 'o60Q', 6436.3, - 15338.5, 335.522, 'o60Q')
    set u=BlzCreateUnitWithSkin(p, 'o61W', - 15228.2, - 2161.0, 64.225, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61V', - 15156.2, - 2371.7, 101.634, 'o61V')
    call SetUnitColor(u, ConvertPlayerColor(21))
    set u=BlzCreateUnitWithSkin(p, 'o61V', - 15267.0, - 2220.9, 93.201, 'o61V')
    call SetUnitColor(u, ConvertPlayerColor(21))
    set u=BlzCreateUnitWithSkin(p, 'o60G', - 15165.3, - 2201.6, 86.457, 'o60G')
    call SetUnitColor(u, ConvertPlayerColor(20))
    set u=BlzCreateUnitWithSkin(p, 'o60O', 14588.3, - 3085.6, 180.000, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60G', - 15234.7, - 2327.7, 71.451, 'o60G')
    call SetUnitColor(u, ConvertPlayerColor(20))
    set u=BlzCreateUnitWithSkin(p, 'o60G', 13918.3, - 2148.2, 180.000, 'o60G')
    set u=BlzCreateUnitWithSkin(p, 'o60G', 13999.3, - 2597.0, 180.000, 'o60G')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 13653.7, - 2342.5, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 13575.0, - 1980.9, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 13690.6, - 1899.8, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 13716.7, - 2775.7, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 14061.9, - 2915.8, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 13758.5, - 3177.3, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 13796.6, - 3545.5, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 14010.8, - 3590.0, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 13798.3, - 3373.2, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 14115.5, - 3359.2, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 14370.8, - 2958.8, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 14189.0, - 2144.2, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 14433.2, - 2499.0, 180.000, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61V', 13877.7, - 2603.6, 180.000, 'o61V')
    call SetUnitColor(u, ConvertPlayerColor(21))
    set u=BlzCreateUnitWithSkin(p, 'o61V', 13997.6, - 2821.3, 180.000, 'o61V')
    call SetUnitColor(u, ConvertPlayerColor(21))
    set u=BlzCreateUnitWithSkin(p, 'o61V', 14204.8, - 3020.3, 180.000, 'o61V')
    call SetUnitColor(u, ConvertPlayerColor(21))
    set u=BlzCreateUnitWithSkin(p, 'o61V', 13962.4, - 3451.2, 180.000, 'o61V')
    call SetUnitColor(u, ConvertPlayerColor(21))
    set u=BlzCreateUnitWithSkin(p, 'o61V', 14264.6, - 3500.0, 180.000, 'o61V')
    call SetUnitColor(u, ConvertPlayerColor(21))
    set u=BlzCreateUnitWithSkin(p, 'o61V', 14297.4, - 3629.4, 180.000, 'o61V')
    call SetUnitColor(u, ConvertPlayerColor(21))
    set u=BlzCreateUnitWithSkin(p, 'o60P', 6056.7, - 13918.1, 213.084, 'o60P')
    set u=BlzCreateUnitWithSkin(p, 'o60P', 7316.4, - 15037.4, 215.619, 'o60P')
    set u=BlzCreateUnitWithSkin(p, 'o60G', 14017.2, - 2023.7, 180.000, 'o60G')
    set u=BlzCreateUnitWithSkin(p, 'o60G', 13832.4, - 1888.5, 180.000, 'o60G')
    set u=BlzCreateUnitWithSkin(p, 'o60G', 14164.0, - 1836.1, 180.000, 'o60G')
    set u=BlzCreateUnitWithSkin(p, 'o60G', 14317.5, - 2260.5, 180.000, 'o60G')
    set u=BlzCreateUnitWithSkin(p, 'o60G', 14341.4, - 2600.3, 180.000, 'o60G')
    set u=BlzCreateUnitWithSkin(p, 'o60G', 14238.0, - 2784.9, 180.000, 'o60G')
    set u=BlzCreateUnitWithSkin(p, 'o60G', 14139.4, - 3082.9, 180.000, 'o60G')
    set u=BlzCreateUnitWithSkin(p, 'o60G', 14257.8, - 3260.4, 180.000, 'o60G')
    set u=BlzCreateUnitWithSkin(p, 'o60G', 14382.4, - 3403.4, 180.000, 'o60G')
    set u=BlzCreateUnitWithSkin(p, 'o60G', 14164.0, - 3731.2, 180.000, 'o60G')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 9084.6, - 618.4, 206.255, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 9056.0, - 708.5, 189.376, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 9067.2, - 872.5, 209.392, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 9037.2, - 976.8, 175.964, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 9146.2, - 594.6, 207.999, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o61W', 8983.8, - 682.6, 215.887, 'o61W')
    set u=BlzCreateUnitWithSkin(p, 'o60G', 9151.8, - 710.3, 189.844, 'o60G')
    call SetUnitColor(u, ConvertPlayerColor(20))
    set u=BlzCreateUnitWithSkin(p, 'o60G', 9019.3, - 602.8, 217.816, 'o60G')
    call SetUnitColor(u, ConvertPlayerColor(20))
    set u=BlzCreateUnitWithSkin(p, 'o60G', 9016.2, - 789.1, 214.581, 'o60G')
    call SetUnitColor(u, ConvertPlayerColor(20))
    set u=BlzCreateUnitWithSkin(p, 'o60G', 9002.1, - 920.6, 190.845, 'o60G')
    call SetUnitColor(u, ConvertPlayerColor(20))
    set u=BlzCreateUnitWithSkin(p, 'o60G', 9120.5, - 958.3, 180.177, 'o60G')
    call SetUnitColor(u, ConvertPlayerColor(20))
    set u=BlzCreateUnitWithSkin(p, 'o60O', 8902.3, - 638.5, 224.884, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 8907.9, - 782.0, 16.425, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 8947.1, - 855.6, 161.460, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 9132.9, - 790.7, 236.620, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 9154.5, - 892.7, 79.214, 'o60O')
    set u=BlzCreateUnitWithSkin(p, 'o60O', 8936.5, - 961.8, 188.386, 'o60O')
    set gg_unit_o004_0258=BlzCreateUnitWithSkin(p, 'o004', 7523.6, - 4173.0, 180.000, 'o004')
    set gg_unit_o60G_0259=BlzCreateUnitWithSkin(p, 'o60G', 10449.5, - 3198.3, 215.163, 'o60G')
    call SetUnitColor(gg_unit_o60G_0259, ConvertPlayerColor(20))
    set gg_unit_o60G_0262=BlzCreateUnitWithSkin(p, 'o60G', 10405.5, - 2754.6, 65.062, 'o60G')
    call SetUnitColor(gg_unit_o60G_0262, ConvertPlayerColor(20))
    set gg_unit_o60G_0263=BlzCreateUnitWithSkin(p, 'o60G', 10759.0, - 2971.9, 98.357, 'o60G')
    call SetUnitColor(gg_unit_o60G_0263, ConvertPlayerColor(20))
    set gg_unit_o60G_0264=BlzCreateUnitWithSkin(p, 'o60G', 11646.8, - 3857.3, 81.161, 'o60G')
    call SetUnitColor(gg_unit_o60G_0264, ConvertPlayerColor(20))
    set gg_unit_o61W_0266=BlzCreateUnitWithSkin(p, 'o61W', 12304.5, - 3409.2, 205.442, 'o61W')
endfunction

//===========================================================================
function CreateBuildingsForPlayer8 takes nothing returns nothing
    local player p= Player(8)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'ntav', - 1856.0, - 3200.0, 217.021, 'ntav')
    set u=BlzCreateUnitWithSkin(p, 'ncb4', - 416.0, - 2080.0, 270.000, 'ncb4')
    set u=BlzCreateUnitWithSkin(p, 'ncbb', 96.0, - 1376.0, 270.000, 'ncbb')
    set u=BlzCreateUnitWithSkin(p, 'n00R', 6208.0, - 6208.0, 135.000, 'n00R')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'ncb5', 864.0, - 1248.0, 270.000, 'ncb5')
    set u=BlzCreateUnitWithSkin(p, 'ncb4', 6944.0, - 864.0, 90.000, 'ncb4')
    set u=BlzCreateUnitWithSkin(p, 'ncbb', 928.0, - 1824.0, 270.000, 'ncbb')
    set gg_unit_ncb9_0112=BlzCreateUnitWithSkin(p, 'ncb9', 6752.0, 576.0, 270.000, 'ncb9')
    set u=BlzCreateUnitWithSkin(p, 'ncb3', 864.0, - 1504.0, 270.000, 'ncb3')
    set u=BlzCreateUnitWithSkin(p, 'ncb0', - 4032.0, - 2144.0, 270.000, 'ncb0')
    set u=BlzCreateUnitWithSkin(p, 'ncb1', - 2880.0, - 1440.0, 270.000, 'ncb1')
    set u=BlzCreateUnitWithSkin(p, 'ncb2', - 2688.0, - 1664.0, 270.000, 'ncb2')
    set u=BlzCreateUnitWithSkin(p, 'ncb3', - 4160.0, - 3872.0, 90.000, 'ncb3')
    set u=BlzCreateUnitWithSkin(p, 'ncb4', - 2496.0, - 3520.0, 270.000, 'ncb4')
    set u=BlzCreateUnitWithSkin(p, 'ncb5', - 2528.0, - 3840.0, 0.000, 'ncb5')
    set u=BlzCreateUnitWithSkin(p, 'ncb6', - 3840.0, - 1952.0, 88.752, 'ncb6')
    set u=BlzCreateUnitWithSkin(p, 'ncb7', - 2464.0, - 3200.0, 270.000, 'ncb7')
    set u=BlzCreateUnitWithSkin(p, 'ncb8', - 2528.0, - 1920.0, 87.533, 'ncb8')
    set u=BlzCreateUnitWithSkin(p, 'ncb9', - 4256.0, - 4128.0, 270.000, 'ncb9')
    set u=BlzCreateUnitWithSkin(p, 'ncba', - 4192.0, - 3616.0, 0.000, 'ncba')
    set u=BlzCreateUnitWithSkin(p, 'ncbb', - 4192.0, - 3328.0, 0.959, 'ncbb')
    set u=BlzCreateUnitWithSkin(p, 'ncbc', - 4512.0, - 4864.0, 270.000, 'ncbc')
    set u=BlzCreateUnitWithSkin(p, 'ncbd', - 3424.0, - 736.0, 273.813, 'ncbd')
    set u=BlzCreateUnitWithSkin(p, 'ncbe', - 1920.0, - 2496.0, 270.000, 'ncbe')
    set u=BlzCreateUnitWithSkin(p, 'ncbc', - 3584.0, - 1472.0, 270.000, 'ncbc')
    set u=BlzCreateUnitWithSkin(p, 'ncbe', - 4128.0, - 2912.0, 0.000, 'ncbe')
    set u=BlzCreateUnitWithSkin(p, 'ncbc', - 2912.0, - 2752.0, 270.000, 'ncbc')
    set u=BlzCreateUnitWithSkin(p, 'ncb5', 608.0, 1120.0, 180.000, 'ncb5')
    set u=BlzCreateUnitWithSkin(p, 'ncb9', 288.0, 1056.0, 90.000, 'ncb9')
    set u=BlzCreateUnitWithSkin(p, 'n004', - 1792.0, - 1088.0, 180.000, 'n004')
    set u=BlzCreateUnitWithSkin(p, 'n006', - 2400.0, 288.0, 270.000, 'n006')
    set u=BlzCreateUnitWithSkin(p, 'n007', - 2912.0, 320.0, 270.000, 'n007')
    set u=BlzCreateUnitWithSkin(p, 'ncbc', - 1952.0, 224.0, 180.221, 'ncbc')
    set u=BlzCreateUnitWithSkin(p, 'n00C', - 1792.0, - 1440.0, 180.000, 'n00C')
    set u=BlzCreateUnitWithSkin(p, 'n00A', - 3483.7, - 2716.9, 270.000, 'n00A')
    set u=BlzCreateUnitWithSkin(p, 'n00D', - 1879.8, - 3555.5, 180.000, 'n00D')
    set u=BlzCreateUnitWithSkin(p, 'n00E', - 4380.7, - 4470.4, 0.000, 'n00E')
    set u=BlzCreateUnitWithSkin(p, 'n00F', - 1760.4, - 3764.1, 232.251, 'n00F')
    set u=BlzCreateUnitWithSkin(p, 'n00G', - 1775.4, - 1784.5, 218.444, 'n00G')
    set u=BlzCreateUnitWithSkin(p, 'n00F', - 4256.4, - 2516.1, 0.000, 'n00F')
    set u=BlzCreateUnitWithSkin(p, 'ncb4', 160.0, - 928.0, 90.000, 'ncb4')
    set u=BlzCreateUnitWithSkin(p, 'nfrt', - 384.0, - 1312.0, 232.156, 'nfrt')
    set u=BlzCreateUnitWithSkin(p, 'nef0', - 800.0, 608.0, 270.000, 'nef0')
    set u=BlzCreateUnitWithSkin(p, 'nef1', 864.0, 672.0, 270.000, 'nef1')
    set u=BlzCreateUnitWithSkin(p, 'nef2', 1056.0, 544.0, 270.000, 'nef2')
    set u=BlzCreateUnitWithSkin(p, 'nef3', - 352.0, - 864.0, 270.000, 'nef3')
    set u=BlzCreateUnitWithSkin(p, 'nef4', - 1376.0, - 800.0, 270.000, 'nef4')
    set u=BlzCreateUnitWithSkin(p, 'nef5', - 1376.0, - 992.0, 270.000, 'nef5')
    set u=BlzCreateUnitWithSkin(p, 'nef6', - 1312.0, 608.0, 270.000, 'nef6')
    set u=BlzCreateUnitWithSkin(p, 'nef7', - 1376.0, - 1568.0, 270.000, 'nef7')
    set u=BlzCreateUnitWithSkin(p, 'ncbb', - 416.0, - 1824.0, 180.000, 'ncbb')
    set u=BlzCreateUnitWithSkin(p, 'n007', - 1376.0, - 2016.0, 270.000, 'n007')
    set u=BlzCreateUnitWithSkin(p, 'n004', 96.0, - 1824.0, 180.000, 'n004')
    set u=BlzCreateUnitWithSkin(p, 'n006', 96.0, - 2112.0, 180.000, 'n006')
    set u=BlzCreateUnitWithSkin(p, 'n00C', - 1312.0, - 2592.0, 0.000, 'n00C')
    set u=BlzCreateUnitWithSkin(p, 'n00J', 621.8, 601.6, 270.000, 'n00J')
    set u=BlzCreateUnitWithSkin(p, 'n00I', - 1340.2, - 1259.0, 0.000, 'n00I')
    set u=BlzCreateUnitWithSkin(p, 'ncbc', 5504.0, 384.0, 270.000, 'ncbc')
    set u=BlzCreateUnitWithSkin(p, 'n004', 7050.6, 624.3, 270.000, 'n004')
    set u=BlzCreateUnitWithSkin(p, 'n006', 6447.8, - 1301.5, 180.000, 'n006')
    set u=BlzCreateUnitWithSkin(p, 'n007', 7948.7, 641.4, 180.000, 'n007')
    set gg_unit_n00D_0208=BlzCreateUnitWithSkin(p, 'n00D', 7978.4, - 1133.5, 270.000, 'n00D')
    set u=BlzCreateUnitWithSkin(p, 'n00E', 6870.6, - 2087.3, 0.000, 'n00E')
    set u=BlzCreateUnitWithSkin(p, 'n00F', 7947.9, - 2110.3, 180.000, 'n00F')
    set u=BlzCreateUnitWithSkin(p, 'n00C', 5335.5, - 185.6, 0.000, 'n00C')
    set u=BlzCreateUnitWithSkin(p, 'ncbe', 6297.7, - 1947.8, 180.000, 'ncbe')
    set u=BlzCreateUnitWithSkin(p, 'n008', - 314.0, 1599.8, 270.000, 'n008')
    set u=BlzCreateUnitWithSkin(p, 'ncbd', 6941.2, 2265.8, 180.000, 'ncbd')
    set u=BlzCreateUnitWithSkin(p, 'ncb5', 6437.0, - 947.3, 0.000, 'ncb5')
    set u=BlzCreateUnitWithSkin(p, 'ncb9', 5312.0, 2304.0, 270.000, 'ncb9')
    set u=BlzCreateUnitWithSkin(p, 'ncb9', 5347.2, - 620.7, 90.000, 'ncb9')
    set u=BlzCreateUnitWithSkin(p, 'ncba', 5370.6, - 1080.9, 0.000, 'ncba')
    set u=BlzCreateUnitWithSkin(p, 'ncbb', 5341.6, - 1482.1, 270.000, 'ncbb')
    set u=BlzCreateUnitWithSkin(p, 'n00F', 7307.9, 673.7, 270.000, 'n00F')
    set u=BlzCreateUnitWithSkin(p, 'n00E', 7510.6, 664.7, 270.000, 'n00E')
    set u=BlzCreateUnitWithSkin(p, 'ncb0', 448.0, 1664.0, 270.000, 'ncb0')
    set u=BlzCreateUnitWithSkin(p, 'n00F', 543.6, 1931.9, 105.832, 'n00F')
    set u=BlzCreateUnitWithSkin(p, 'ncb3', 800.0, 1760.0, 90.000, 'ncb3')
    set u=BlzCreateUnitWithSkin(p, 'n00C', 1248.0, 1792.0, 270.000, 'n00C')
    set u=BlzCreateUnitWithSkin(p, 'n008', 5958.0, 3135.8, 270.000, 'n008')
    set u=BlzCreateUnitWithSkin(p, 'n004', 6890.6, - 1839.7, 0.000, 'n004')
    set u=BlzCreateUnitWithSkin(p, 'n007', 6892.7, - 1150.6, 270.000, 'n007')
    set u=BlzCreateUnitWithSkin(p, 'n00D', 6440.2, - 1507.5, 180.000, 'n00D')
    set u=BlzCreateUnitWithSkin(p, 'n00M', 7520.0, - 4960.0, 140.000, 'n00M')
    set life=GetUnitState(u, UNIT_STATE_LIFE)
    call SetUnitState(u, UNIT_STATE_LIFE, 0.25 * life)
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00N', 7904.0, - 3936.0, 165.000, 'n00N')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00O', 7712.0, - 4640.0, 155.000, 'n00O')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00P', 5760.0, - 5120.0, 90.000, 'n00P')
    set life=GetUnitState(u, UNIT_STATE_LIFE)
    call SetUnitState(u, UNIT_STATE_LIFE, 0.10 * life)
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00P', 2240.0, - 5312.0, 180.000, 'n00P')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00M', 1376.0, - 6560.0, 45.000, 'n00M')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00N', 1632.0, - 6816.0, 45.000, 'n00N')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00O', 1120.0, - 6304.0, 135.000, 'n00O')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00N', 864.0, - 6560.0, 135.000, 'n00N')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00M', 3872.0, - 5536.0, 180.000, 'n00M')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00Q', 3952.0, - 6066.1, 270.000, 'n00Q')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000004_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00N', 2656.0, - 5536.0, 0.000, 'n00N')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00M', 2656.0, - 5152.0, 0.000, 'n00M')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00N', 3872.0, - 5152.0, 180.000, 'n00N')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00Q', 4016.0, - 4530.1, 90.000, 'n00Q')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000004_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00Q', 2512.0, - 4530.1, 90.000, 'n00Q')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000004_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00Q', 2544.0, - 6066.1, 270.000, 'n00Q')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000004_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00Q', 7728.0, - 2802.1, 270.000, 'n00Q')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000004_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00M', 7840.0, - 4256.0, 170.000, 'n00M')
    set life=GetUnitState(u, UNIT_STATE_LIFE)
    call SetUnitState(u, UNIT_STATE_LIFE, 0.10 * life)
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00N', 7264.0, - 5216.0, 135.000, 'n00N')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00P', - 192.0, - 3968.0, 225.000, 'n00P')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00Q', - 1104.0, - 3506.1, 270.000, 'n00Q')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000004_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'hbar', 224.0, - 4800.0, 30.000, 'hbar')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00M', 864.0, - 5472.0, 315.000, 'n00M')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00S', 6624.0, - 5888.0, 225.000, 'n00S')
    set life=GetUnitState(u, UNIT_STATE_LIFE)
    call SetUnitState(u, UNIT_STATE_LIFE, 0.15 * life)
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00S', 4960.0, - 6176.0, 180.000, 'n00S')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'hbar', 4672.0, - 5312.0, 299.600, 'hbar')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00R', 5312.0, - 3904.0, 180.000, 'n00R')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00R', 2368.0, - 3456.0, 270.000, 'n00R')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00S', 4128.0, - 3936.0, 360.000, 'n00S')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00S', 2400.0, - 3008.0, 0.000, 'n00S')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00N', 5984.0, - 6560.0, 125.000, 'n00N')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00O', 5664.0, - 6752.0, 120.000, 'n00O')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00M', 5344.0, - 6880.0, 110.000, 'n00M')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n00M', - 96.0, - 2528.0, 270.000, 'n00M')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000001_DropItems)
endfunction

//===========================================================================
function CreateBuildingsForPlayer9 takes nothing returns nothing
    local player p= Player(9)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'h617', 6976.0, - 4320.0, 297.116, 'h617')
    set life=GetUnitState(u, UNIT_STATE_LIFE)
    call SetUnitState(u, UNIT_STATE_LIFE, 0.15 * life)
    set u=BlzCreateUnitWithSkin(p, 'ngwr', 10528.0, - 864.0, 270.000, 'ngwr')
    set u=BlzCreateUnitWithSkin(p, 'h004', 9952.0, - 512.0, 240.113, 'h004')
    set u=BlzCreateUnitWithSkin(p, 'n00H', 9440.0, - 416.0, 270.000, 'n00H')
    set u=BlzCreateUnitWithSkin(p, 'h006', 448.0, - 3136.0, 270.000, 'h006')
    set u=BlzCreateUnitWithSkin(p, 'h007', 6656.0, - 640.0, 270.000, 'h007')
    set u=BlzCreateUnitWithSkin(p, 'h007', - 384.0, - 3392.0, 270.000, 'h007')
    set u=BlzCreateUnitWithSkin(p, 'h006', 640.0, - 5888.0, 270.000, 'h006')
    set u=BlzCreateUnitWithSkin(p, 'h006', 384.0, - 6144.0, 270.000, 'h006')
    set u=BlzCreateUnitWithSkin(p, 'h006', 128.0, - 5888.0, 270.000, 'h006')
    set u=BlzCreateUnitWithSkin(p, 'h006', 384.0, - 5632.0, 270.000, 'h006')
    set gg_unit_h006_1019=BlzCreateUnitWithSkin(p, 'h006', 6464.0, - 4800.0, 270.000, 'h006')
    set life=GetUnitState(gg_unit_h006_1019, UNIT_STATE_LIFE)
    call SetUnitState(gg_unit_h006_1019, UNIT_STATE_LIFE, 0.15 * life)
    set u=BlzCreateUnitWithSkin(p, 'h006', 1216.0, - 1472.0, 270.000, 'h006')
    set u=BlzCreateUnitWithSkin(p, 'h006', 1856.0, - 1472.0, 270.000, 'h006')
    set u=BlzCreateUnitWithSkin(p, 'h007', 1792.0, - 6144.0, 270.000, 'h007')
    set u=BlzCreateUnitWithSkin(p, 'h007', 7360.0, - 3456.0, 270.000, 'h007')
    set life=GetUnitState(u, UNIT_STATE_LIFE)
    call SetUnitState(u, UNIT_STATE_LIFE, 0.15 * life)
    set u=BlzCreateUnitWithSkin(p, 'h006', 2752.0, - 3904.0, 270.000, 'h006')
    set u=BlzCreateUnitWithSkin(p, 'h006', 3776.0, - 3904.0, 270.000, 'h006')
endfunction

//===========================================================================
function CreateUnitsForPlayer9 takes nothing returns nothing
    local player p= Player(9)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_H00C_0087=BlzCreateUnitWithSkin(p, 'H00C', - 15234.2, 487.5, 272.311, 'H00C')
    set u=BlzCreateUnitWithSkin(p, 'n01N', 861.0, - 3472.5, 172.931, 'n01N')
    set u=BlzCreateUnitWithSkin(p, 'e000', 8894.8, - 2983.7, 0.000, 'e000')
    set u=BlzCreateUnitWithSkin(p, 'e000', 9865.0, - 3367.8, 351.413, 'e000')
    set u=BlzCreateUnitWithSkin(p, 'e000', 9527.0, - 2537.9, 346.399, 'e000')
    set u=BlzCreateUnitWithSkin(p, 'e000', 9660.1, - 1622.6, 0.000, 'e000')
    set u=BlzCreateUnitWithSkin(p, 'e000', 9973.0, - 1065.8, 310.092, 'e000')
    set u=BlzCreateUnitWithSkin(p, 'e000', 8833.7, - 1612.6, 339.949, 'e000')
    set u=BlzCreateUnitWithSkin(p, 'e000', 10493.7, - 4081.4, 21.578, 'e000')
    set u=BlzCreateUnitWithSkin(p, 'e000', 9942.6, - 4565.5, 359.429, 'e000')
    set u=BlzCreateUnitWithSkin(p, 'e000', 9053.6, - 4078.0, 10.056, 'e000')
    set u=BlzCreateUnitWithSkin(p, 'e000', 8659.6, - 4707.8, 352.026, 'e000')
    set u=BlzCreateUnitWithSkin(p, 'e000', 9287.9, - 5246.9, 13.006, 'e000')
    set gg_unit_h60L_0257=BlzCreateUnitWithSkin(p, 'h60L', 11335.1, - 4575.6, 90.694, 'h60L')
    set gg_unit_h623_0260=BlzCreateUnitWithSkin(p, 'h623', 10417.0, - 3277.8, 45.858, 'h623')
    set gg_unit_hmil_0261=BlzCreateUnitWithSkin(p, 'hmil', 10486.2, - 2478.0, 135.783, 'hmil')
    set gg_unit_h623_0265=BlzCreateUnitWithSkin(p, 'h623', 11568.5, - 1789.4, 259.664, 'h623')
    set u=BlzCreateUnitWithSkin(p, 'h60O', 1311.7, 866.5, 267.932, 'h60O')
    set u=BlzCreateUnitWithSkin(p, 'h60O', - 1458.7, - 2370.1, 267.932, 'h60O')
    set u=BlzCreateUnitWithSkin(p, 'h60O', - 1371.6, - 2369.2, 267.932, 'h60O')
    set u=BlzCreateUnitWithSkin(p, 'h60O', - 1278.9, - 2372.4, 267.932, 'h60O')
    set u=BlzCreateUnitWithSkin(p, 'h60O', - 1192.9, - 2375.7, 267.932, 'h60O')
    set u=BlzCreateUnitWithSkin(p, 'h60O', 6659.9, - 804.2, 241.614, 'h60O')
    set u=BlzCreateUnitWithSkin(p, 'h60O', 6661.6, - 967.3, 241.614, 'h60O')
    set u=BlzCreateUnitWithSkin(p, 'h60O', 6655.2, - 1139.1, 241.614, 'h60O')
    set u=BlzCreateUnitWithSkin(p, 'h60O', 6660.5, - 1329.6, 241.614, 'h60O')
    set u=BlzCreateUnitWithSkin(p, 'h60O', 6663.5, - 1570.2, 241.614, 'h60O')
    set u=BlzCreateUnitWithSkin(p, 'h60O', 6664.2, - 1831.4, 241.614, 'h60O')
    set u=BlzCreateUnitWithSkin(p, 'h60O', 6691.9, - 1913.8, 241.614, 'h60O')
    set u=BlzCreateUnitWithSkin(p, 'h60B', - 1824.0, - 726.5, 235.054, 'h60B')
endfunction

//===========================================================================
function CreateUnitsForPlayer12 takes nothing returns nothing
    local player p= Player(12)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'o61X', 6121.6, - 13627.1, 224.140, 'o61X')
    set u=BlzCreateUnitWithSkin(p, 'o61X', 6185.0, - 13840.9, 194.552, 'o61X')
    set u=BlzCreateUnitWithSkin(p, 'o61X', 7395.0, - 14807.3, 204.222, 'o61X')
    set u=BlzCreateUnitWithSkin(p, 'o61X', 7453.9, - 14981.3, 185.504, 'o61X')
endfunction

//===========================================================================
function CreateUnitsForPlayer14 takes nothing returns nothing
    local player p= Player(14)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_h605_0002=BlzCreateUnitWithSkin(p, 'h605', - 15097.1, 403.5, 270.000, 'h605')
    set gg_unit_h605_0086=BlzCreateUnitWithSkin(p, 'h605', - 15373.6, 409.2, 289.602, 'h605')
    set gg_unit_h605_0160=BlzCreateUnitWithSkin(p, 'h605', - 15487.9, 486.5, 298.018, 'h605')
    set gg_unit_h605_0161=BlzCreateUnitWithSkin(p, 'h605', - 14975.8, 476.1, 256.907, 'h605')
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'n60P', 4038.7, - 11712.7, 270.000, 'n60P')
    set u=BlzCreateUnitWithSkin(p, 'n60P', - 1523.6, - 10559.8, 270.000, 'n60P')
    set u=BlzCreateUnitWithSkin(p, 'n60P', 4500.4, - 18800.7, 270.000, 'n60P')
    set u=BlzCreateUnitWithSkin(p, 'nten', 6240.0, - 12992.0, 285.000, 'nten')
    set u=BlzCreateUnitWithSkin(p, 'ntn2', 8032.0, - 14176.0, 303.787, 'ntn2')
    set u=BlzCreateUnitWithSkin(p, 'n00K', 7008.0, - 13472.0, 270.000, 'n00K')
    set u=BlzCreateUnitWithSkin(p, 'nten', 6656.0, - 13216.0, 304.146, 'nten')
    set u=BlzCreateUnitWithSkin(p, 'nten', 7520.0, - 13984.0, 275.301, 'nten')
endfunction

//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'ncrb', 7877.3, - 15522.6, 318.932, 'ncrb')
    set u=BlzCreateUnitWithSkin(p, 'nvul', 9897.9, - 4095.2, 70.194, 'nvul')
    set u=BlzCreateUnitWithSkin(p, 'nvul', 9264.9, - 2694.2, 275.875, 'nvul')
    set u=BlzCreateUnitWithSkin(p, 'nvul', 9300.7, - 2064.8, 296.530, 'nvul')
    set u=BlzCreateUnitWithSkin(p, 'nvul', 10018.4, - 1625.3, 13.041, 'nvul')
    set u=BlzCreateUnitWithSkin(p, 'nvul', 10678.1, - 1512.5, 9.339, 'nvul')
    set u=BlzCreateUnitWithSkin(p, 'nvul', 9574.5, - 3127.0, 347.223, 'nvul')
    set u=BlzCreateUnitWithSkin(p, 'nvul', 10776.9, - 4734.1, 178.412, 'nvul')
    set u=BlzCreateUnitWithSkin(p, 'nvul', 9410.9, - 4854.5, 227.380, 'nvul')
    set u=BlzCreateUnitWithSkin(p, 'nvul', 9066.6, - 3549.0, 92.332, 'nvul')
    set u=BlzCreateUnitWithSkin(p, 'nhmc', 5216.0, - 14126.7, 274.700, 'nhmc')
    set u=BlzCreateUnitWithSkin(p, 'nalb', 5086.9, - 18964.2, 119.030, 'nalb')
    set u=BlzCreateUnitWithSkin(p, 'nalb', 10419.5, - 20905.9, 21.116, 'nalb')
    set u=BlzCreateUnitWithSkin(p, 'nalb', 11177.5, - 13064.1, 95.430, 'nalb')
    set u=BlzCreateUnitWithSkin(p, 'nalb', - 3871.9, - 11257.6, 24.489, 'nalb')
    set u=BlzCreateUnitWithSkin(p, 'nalb', - 4360.6, - 19832.2, 118.920, 'nalb')
    set u=BlzCreateUnitWithSkin(p, 'n60Y', 3259.7, - 3611.8, 268.520, 'n60Y')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function Unit000032_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'n01O', 3534.4, - 3518.1, 266.857, 'n01O')
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer8()
    call CreateBuildingsForPlayer9()
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer0()
    call CreateUnitsForPlayer9()
    call CreateUnitsForPlayer12()
    call CreateUnitsForPlayer14()
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings()
    call CreatePlayerBuildings()
    call CreateNeutralPassive()
    call CreatePlayerUnits()
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_FogArea01=Rect(- 4352.0, - 5248.0, - 1664.0, - 2240.0)
    call SetSoundPosition(gg_snd_Lordaeron_Siege_Bells, - 3008.0, - 3744.0, - 17.0)
    call RegisterStackedSound(gg_snd_Lordaeron_Siege_Bells, true, 2688.0, 3008.0)
    set gg_rct_FogArea02=Rect(- 4224.0, - 2272.0, - 1536.0, 736.0)
    call SetSoundPosition(gg_snd_Lordaeron_Siege_Bells, - 2880.0, - 768.0, - 64.0)
    call RegisterStackedSound(gg_snd_Lordaeron_Siege_Bells, true, 2688.0, 3008.0)
    set gg_rct_FogArea03=Rect(- 1440.0, - 2368.0, 1248.0, 640.0)
    call SetSoundPosition(gg_snd_Lordaeron_Siege_Bells, - 96.0, - 864.0, 0.0)
    call RegisterStackedSound(gg_snd_Lordaeron_Siege_Bells, true, 2688.0, 3008.0)
    set gg_rct_FogArea04=Rect(5120.0, - 2272.0, 7808.0, 736.0)
    set we=AddWeatherEffect(gg_rct_FogArea04, 'FDwl')
    call EnableWeatherEffect(we, true)
    call SetSoundPosition(gg_snd_Lordaeron_Siege_Bells, 6464.0, - 768.0, 0.0)
    call RegisterStackedSound(gg_snd_Lordaeron_Siege_Bells, true, 2688.0, 3008.0)
    set gg_rct_FogArea05=Rect(3584.0, - 6720.0, 7840.0, - 3360.0)
    call SetSoundPosition(gg_snd_Lordaeron_Siege_Bells, 5712.0, - 5040.0, 0.0)
    call RegisterStackedSound(gg_snd_Lordaeron_Siege_Bells, true, 4256.0, 3360.0)
    set gg_rct_FogArea06=Rect(- 1472.0, - 5568.0, 2816.0, - 2464.0)
    call SetSoundPosition(gg_snd_Lordaeron_Siege_Bells, 672.0, - 4016.0, 0.0)
    call RegisterStackedSound(gg_snd_Lordaeron_Siege_Bells, true, 4288.0, 3104.0)
    set gg_rct_FogArea07=Rect(- 64.0, - 7072.0, 3584.0, - 5536.0)
    call SetSoundPosition(gg_snd_Lordaeron_Siege_Bells, 1760.0, - 6304.0, 0.0)
    call RegisterStackedSound(gg_snd_Lordaeron_Siege_Bells, true, 3648.0, 1536.0)
    set gg_rct_DestroyTheWall=Rect(8000.0, - 1088.0, 8416.0, - 320.0)
    set gg_rct_Tharbek01=Rect(12544.0, - 3200.0, 12672.0, - 3072.0)
    set gg_rct_Tharbek02=Rect(12864.0, - 3200.0, 12992.0, - 3072.0)
    set gg_rct_Artillery=Rect(11200.0, - 3936.0, 11616.0, - 1760.0)
    set gg_rct_CatAim01=Rect(8256.0, - 2048.0, 8448.0, - 1856.0)
    set gg_rct_CatAim02=Rect(8256.0, - 2368.0, 8448.0, - 2176.0)
    set gg_rct_CatAim03=Rect(8256.0, - 2784.0, 8448.0, - 2592.0)
    set gg_rct_CatAim04=Rect(8256.0, - 3072.0, 8448.0, - 2880.0)
    set gg_rct_CatAim05=Rect(8256.0, - 3392.0, 8448.0, - 3200.0)
    set gg_rct_CatAim06=Rect(8256.0, - 3680.0, 8448.0, - 3488.0)
    set gg_rct_CatAim07=Rect(8256.0, - 3936.0, 8448.0, - 3744.0)
    set gg_rct_Explosion01=Rect(8160.0, - 1024.0, 8352.0, - 832.0)
    set gg_rct_Explosion02=Rect(8160.0, - 768.0, 8352.0, - 576.0)
    set gg_rct_Explosion03=Rect(7904.0, - 1216.0, 8032.0, - 1088.0)
    set gg_rct_Explosion04=Rect(6720.0, 448.0, 6848.0, 576.0)
    set gg_rct_StandReady=Rect(- 15392.0, - 2432.0, - 15072.0, - 2048.0)
    set gg_rct_FireHide=Rect(8256.0, - 576.0, 8736.0, 768.0)
    set gg_rct_BattleField=Rect(8512.0, - 5568.0, 10912.0, - 640.0)
    set gg_rct_AttackWaveEnter02=Rect(7456.0, - 1024.0, 7712.0, - 512.0)
    set gg_rct_Redirect01=Rect(5664.0, - 224.0, 5984.0, 320.0)
    set gg_rct_Redirect02=Rect(7072.0, - 2240.0, 7456.0, - 1920.0)
    set gg_rct_AttackSpawn=Rect(8800.0, - 1088.0, 9248.0, - 480.0)
    set gg_rct_Bloodsplat01=Rect(11744.0, - 3872.0, 12032.0, - 3584.0)
    set gg_rct_Bloodsplat02=Rect(8544.0, - 608.0, 8992.0, - 288.0)
    set gg_rct_Knight01=Rect(11264.0, - 3776.0, 11424.0, - 3616.0)
    set gg_rct_BattlefieldActors=Rect(10048.0, - 3840.0, 11104.0, - 1632.0)
    set gg_rct_RunHere=Rect(10144.0, - 1152.0, 10464.0, - 928.0)
    set gg_rct_GruntAim=Rect(11584.0, - 1824.0, 11680.0, - 1728.0)
    set gg_rct_DefenderAim=Rect(11520.0, - 3936.0, 11616.0, - 3840.0)
    set gg_rct_GruntGoHere=Rect(9280.0, - 5728.0, 9504.0, - 5568.0)
    set gg_rct_Lights01=Rect(8192.0, - 5664.0, 12800.0, 832.0)
    set gg_rct_GruntKillsKnight=Rect(11392.0, - 3712.0, 11520.0, - 3584.0)
    set gg_rct_MountainsWallpaper=Rect(6240.0, 640.0, 15136.0, 1408.0)
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_Banner01=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Banner01, CAMERA_FIELD_ZOFFSET, 750.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner01, CAMERA_FIELD_ROTATION, 40.1, 0.0)
    call CameraSetupSetField(gg_cam_Banner01, CAMERA_FIELD_ANGLE_OF_ATTACK, 12.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner01, CAMERA_FIELD_TARGET_DISTANCE, 3300.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner01, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner01, CAMERA_FIELD_FARZ, 7187.4, 0.0)
    call CameraSetupSetField(gg_cam_Banner01, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner01, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner01, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner01, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Banner01, 14984.2, - 1143.9, 0.0)

    set gg_cam_Banner02=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Banner02, CAMERA_FIELD_ZOFFSET, 550.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner02, CAMERA_FIELD_ROTATION, 40.6, 0.0)
    call CameraSetupSetField(gg_cam_Banner02, CAMERA_FIELD_ANGLE_OF_ATTACK, 10.4, 0.0)
    call CameraSetupSetField(gg_cam_Banner02, CAMERA_FIELD_TARGET_DISTANCE, 3500.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner02, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner02, CAMERA_FIELD_FIELD_OF_VIEW, 80.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner02, CAMERA_FIELD_FARZ, 10000.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner02, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner02, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner02, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Banner02, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Banner02, 14933.8, - 1036.7, 0.0)

    set gg_cam_Catapults=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Catapults, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapults, CAMERA_FIELD_ROTATION, 94.4, 0.0)
    call CameraSetupSetField(gg_cam_Catapults, CAMERA_FIELD_ANGLE_OF_ATTACK, 354.7, 0.0)
    call CameraSetupSetField(gg_cam_Catapults, CAMERA_FIELD_TARGET_DISTANCE, 1862.8, 0.0)
    call CameraSetupSetField(gg_cam_Catapults, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapults, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapults, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapults, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapults, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapults, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapults, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Catapults, 11220.8, - 2198.1, 0.0)

    set gg_cam_FinalDoor00=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_FinalDoor00, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor00, CAMERA_FIELD_ROTATION, 287.8, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor00, CAMERA_FIELD_ANGLE_OF_ATTACK, 338.4, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor00, CAMERA_FIELD_TARGET_DISTANCE, 1272.3, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor00, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor00, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor00, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor00, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor00, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor00, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor00, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_FinalDoor00, - 15197.0, - 2243.5, 0.0)

    set gg_cam_FinalDoor01=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_FinalDoor01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor01, CAMERA_FIELD_ROTATION, 282.3, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor01, CAMERA_FIELD_ANGLE_OF_ATTACK, 337.5, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor01, CAMERA_FIELD_TARGET_DISTANCE, 1272.3, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor01, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor01, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor01, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor01, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor01, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor01, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor01, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_FinalDoor01, - 15197.0, - 2243.5, 0.0)

    set gg_cam_FinalDoor03=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_FinalDoor03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor03, CAMERA_FIELD_ROTATION, 270.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor03, CAMERA_FIELD_ANGLE_OF_ATTACK, 355.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor03, CAMERA_FIELD_TARGET_DISTANCE, 1693.4, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor03, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor03, CAMERA_FIELD_FIELD_OF_VIEW, 80.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor03, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor03, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor03, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor03, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalDoor03, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_FinalDoor03, - 15227.1, - 3411.8, 0.0)

    set gg_cam_King01=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_King01, CAMERA_FIELD_ZOFFSET, 80.0, 0.0)
    call CameraSetupSetField(gg_cam_King01, CAMERA_FIELD_ROTATION, 90.8, 0.0)
    call CameraSetupSetField(gg_cam_King01, CAMERA_FIELD_ANGLE_OF_ATTACK, 356.6, 0.0)
    call CameraSetupSetField(gg_cam_King01, CAMERA_FIELD_TARGET_DISTANCE, 790.0, 0.0)
    call CameraSetupSetField(gg_cam_King01, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_King01, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_King01, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_King01, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_King01, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_King01, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_King01, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_King01, - 15238.2, 1168.0, 0.0)

    set gg_cam_King02=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_King02, CAMERA_FIELD_ZOFFSET, 50.0, 0.0)
    call CameraSetupSetField(gg_cam_King02, CAMERA_FIELD_ROTATION, 90.8, 0.0)
    call CameraSetupSetField(gg_cam_King02, CAMERA_FIELD_ANGLE_OF_ATTACK, 356.6, 0.0)
    call CameraSetupSetField(gg_cam_King02, CAMERA_FIELD_TARGET_DISTANCE, 2479.3, 0.0)
    call CameraSetupSetField(gg_cam_King02, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_King02, CAMERA_FIELD_FIELD_OF_VIEW, 50.0, 0.0)
    call CameraSetupSetField(gg_cam_King02, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_King02, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_King02, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_King02, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_King02, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_King02, - 15237.4, 1168.0, 0.0)

    set gg_cam_King03=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_King03, CAMERA_FIELD_ZOFFSET, 80.0, 0.0)
    call CameraSetupSetField(gg_cam_King03, CAMERA_FIELD_ROTATION, 37.0, 0.0)
    call CameraSetupSetField(gg_cam_King03, CAMERA_FIELD_ANGLE_OF_ATTACK, 0.3, 0.0)
    call CameraSetupSetField(gg_cam_King03, CAMERA_FIELD_TARGET_DISTANCE, 1051.5, 0.0)
    call CameraSetupSetField(gg_cam_King03, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_King03, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_King03, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_King03, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_King03, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_King03, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_King03, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_King03, - 14504.4, 993.5, 0.0)

    set gg_cam_LordaeronRuins01=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_LordaeronRuins01, CAMERA_FIELD_ZOFFSET, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins01, CAMERA_FIELD_ROTATION, 180.3, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins01, CAMERA_FIELD_ANGLE_OF_ATTACK, 357.5, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins01, CAMERA_FIELD_TARGET_DISTANCE, 2049.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins01, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins01, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins01, CAMERA_FIELD_FARZ, 10000.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins01, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins01, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins01, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins01, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_LordaeronRuins01, 10029.7, - 3700.8, 0.0)

    set gg_cam_LordaeronRuins02=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_LordaeronRuins02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins02, CAMERA_FIELD_ROTATION, 180.3, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins02, CAMERA_FIELD_ANGLE_OF_ATTACK, 357.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins02, CAMERA_FIELD_TARGET_DISTANCE, 1539.5, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins02, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins02, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins02, CAMERA_FIELD_FARZ, 10000.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins02, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins02, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins02, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_LordaeronRuins02, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_LordaeronRuins02, 10100.6, - 2533.4, 0.0)

    set gg_cam_Medivh=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Medivh, CAMERA_FIELD_ZOFFSET, 3000.0, 0.0)
    call CameraSetupSetField(gg_cam_Medivh, CAMERA_FIELD_ROTATION, 76.1, 0.0)
    call CameraSetupSetField(gg_cam_Medivh, CAMERA_FIELD_ANGLE_OF_ATTACK, 12.0, 0.0)
    call CameraSetupSetField(gg_cam_Medivh, CAMERA_FIELD_TARGET_DISTANCE, 12531.8, 0.0)
    call CameraSetupSetField(gg_cam_Medivh, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Medivh, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_Medivh, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_Medivh, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Medivh, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Medivh, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Medivh, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Medivh, - 12412.6, 9960.4, 0.0)

    set gg_cam_Tharbek01=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Tharbek01, CAMERA_FIELD_ZOFFSET, 150.0, 0.0)
    call CameraSetupSetField(gg_cam_Tharbek01, CAMERA_FIELD_ROTATION, 143.7, 0.0)
    call CameraSetupSetField(gg_cam_Tharbek01, CAMERA_FIELD_ANGLE_OF_ATTACK, 6.0, 0.0)
    call CameraSetupSetField(gg_cam_Tharbek01, CAMERA_FIELD_TARGET_DISTANCE, 2350.0, 0.0)
    call CameraSetupSetField(gg_cam_Tharbek01, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Tharbek01, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_Tharbek01, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_Tharbek01, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Tharbek01, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Tharbek01, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Tharbek01, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Tharbek01, 7005.4, 859.5, 0.0)

    set gg_cam_Wall01=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Wall01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall01, CAMERA_FIELD_ROTATION, 143.8, 0.0)
    call CameraSetupSetField(gg_cam_Wall01, CAMERA_FIELD_ANGLE_OF_ATTACK, 1.5, 0.0)
    call CameraSetupSetField(gg_cam_Wall01, CAMERA_FIELD_TARGET_DISTANCE, 3300.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall01, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall01, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall01, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall01, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall01, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall01, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall01, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Wall01, 6911.5, 928.2, 0.0)

    set gg_cam_Wall02=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Wall02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall02, CAMERA_FIELD_ROTATION, 98.5, 0.0)
    call CameraSetupSetField(gg_cam_Wall02, CAMERA_FIELD_ANGLE_OF_ATTACK, 359.2, 0.0)
    call CameraSetupSetField(gg_cam_Wall02, CAMERA_FIELD_TARGET_DISTANCE, 2049.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall02, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall02, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall02, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall02, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall02, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall02, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall02, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Wall02, 7172.2, 777.1, 0.0)

    set gg_cam_Wall04=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Wall04, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall04, CAMERA_FIELD_ROTATION, 86.8, 0.0)
    call CameraSetupSetField(gg_cam_Wall04, CAMERA_FIELD_ANGLE_OF_ATTACK, 356.3, 0.0)
    call CameraSetupSetField(gg_cam_Wall04, CAMERA_FIELD_TARGET_DISTANCE, 2049.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall04, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall04, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall04, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall04, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall04, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall04, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall04, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Wall04, 7897.4, 804.4, 0.0)

    set gg_cam_Wall03=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Wall03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall03, CAMERA_FIELD_ROTATION, 98.6, 0.0)
    call CameraSetupSetField(gg_cam_Wall03, CAMERA_FIELD_ANGLE_OF_ATTACK, 359.2, 0.0)
    call CameraSetupSetField(gg_cam_Wall03, CAMERA_FIELD_TARGET_DISTANCE, 2049.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall03, CAMERA_FIELD_ROLL, 7.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall03, CAMERA_FIELD_FIELD_OF_VIEW, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall03, CAMERA_FIELD_FARZ, 5400.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall03, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall03, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall03, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Wall03, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Wall03, 7172.2, 777.1, 0.0)

endfunction

//***************************************************************************
//*
//*  Custom Script Code
//*
//***************************************************************************




//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: Unit Event Config
//
// GUI Unit Event by Bribe, version 2.5.0.0
//===========================================================================
function Trig_Unit_Event_Config_Actions takes nothing returns nothing
    //  
    // Copy Unit Event Ability from Object Editor, then set DetectRemoveAbility to it as follows:
    //  
    set udg_DetectRemoveAbility='A65I'
    //  
    // Paste it a second time, then set DetectTransformAbility to it as follows:
    //  
    set udg_DetectTransformAbility='A65J'
    //  
    // One additional event to run right before Unit Indexer initializes, added 29 May 2017 for ZiBitheWand3r3r 
    set udg_UnitIndexEvent=- 1.00
    //  
    // Initialize Unit Event now that all the InitTrig_ functions have run
    //  
    set udg_IsUnitPreplaced[0]=true
    call ExecuteFunc("UnitEventInit")
    set udg_UnitIndexEvent=3.00
    set udg_IsUnitPreplaced[0]=udg_IsUnitTransforming[0]
endfunction

//===========================================================================
function InitTrig_Unit_Event_Config takes nothing returns nothing
    set gg_trg_Unit_Event_Config=CreateTrigger()
    call TriggerAddAction(gg_trg_Unit_Event_Config, function Trig_Unit_Event_Config_Actions)
endfunction

//===========================================================================
// Trigger: Unit Event
//===========================================================================
//===========================================================================
function UnitEventDestroyGroup takes integer i returns nothing
    if udg_CargoTransportGroup[i] != null then
        call DestroyGroup(udg_CargoTransportGroup[i])
        set udg_CargoTransportGroup[i]=null
    endif
endfunction
function UnitEventCheckAfter takes nothing returns nothing
    local integer i= 0
    loop
        set i=udg_CheckDeathList[i]
        exitwhen i == 0
        if udg_IsUnitNew[i] then
            //The unit was just created.
            set udg_IsUnitNew[i]=false
        elseif udg_IsUnitTransforming[i] then
           //Added 21 July 2017 to fix the issue re-adding this ability in the same instant
           set udg_UDex=i
           set udg_UnitTypeEvent=0.00
           set udg_UnitTypeEvent=1.00
           set udg_UnitTypeOf[i]=GetUnitTypeId(udg_UDexUnits[i]) //Set this afterward to give the user extra reference
           set udg_IsUnitTransforming[i]=false
           call UnitAddAbility(udg_UDexUnits[i], udg_DetectTransformAbility)
        elseif udg_IsUnitAlive[i] then
            //The unit has started reincarnating.
            set udg_IsUnitReincarnating[i]=true
            set udg_IsUnitAlive[i]=false
            set udg_UDex=i
            set udg_DeathEvent=0.50
            set udg_DeathEvent=0.00
        endif
        set udg_CheckDeathInList[i]=false
    endloop
    //Empty the list
    set udg_CheckDeathList[0]=0
endfunction
function UnitEventCheckAfterProxy takes integer i returns nothing
    if udg_CheckDeathList[0] == 0 then
        call TimerStart(udg_CheckDeathTimer, 0.00, false, function UnitEventCheckAfter)
    endif
    if not udg_CheckDeathInList[i] then
        set udg_CheckDeathList[i]=udg_CheckDeathList[0]
        set udg_CheckDeathList[0]=i
        set udg_CheckDeathInList[i]=true
    endif
endfunction

function UnitEventOnUnload takes nothing returns nothing
    local integer i= udg_UDex
    call GroupRemoveUnit(udg_CargoTransportGroup[GetUnitUserData(udg_CargoTransportUnit[i])], udg_UDexUnits[i])
    set udg_IsUnitBeingUnloaded[i]=true
    set udg_CargoEvent=0.00
    set udg_CargoEvent=2.00
    set udg_CargoEvent=0.00
    set udg_IsUnitBeingUnloaded[i]=false
    if not IsUnitLoaded(udg_UDexUnits[i]) or IsUnitType(udg_CargoTransportUnit[i], UNIT_TYPE_DEAD) or GetUnitTypeId(udg_CargoTransportUnit[i]) == 0 then
        set udg_CargoTransportUnit[i]=null
    endif
endfunction

function UnitEventOnDeath takes nothing returns boolean
    local integer pdex= udg_UDex
    set udg_UDex=GetUnitUserData(GetTriggerUnit())
    if udg_UDex != 0 then
        set udg_KillerOfUnit[udg_UDex]=GetKillingUnit() //Added 29 May 2017 for GIMLI_2 
        set udg_IsUnitAlive[udg_UDex]=false
        set udg_DeathEvent=0.00
        set udg_DeathEvent=1.00
        set udg_DeathEvent=0.00
        set udg_KillerOfUnit[udg_UDex]=null
        if udg_CargoTransportUnit[udg_UDex] != null then
            call UnitEventOnUnload()
        endif
    endif
    set udg_UDex=pdex
    return false
endfunction
  
function UnitEventOnOrder takes nothing returns boolean
    local integer pdex= udg_UDex
    local unit u= GetFilterUnit()
    local integer i= GetUnitUserData(u)
    if i > 0 then
        set udg_UDex=i
        if GetUnitAbilityLevel(u, udg_DetectRemoveAbility) == 0 then
            if not udg_IsUnitRemoved[i] then
                set udg_IsUnitRemoved[i]=true
                set udg_IsUnitAlive[i]=false
                set udg_SummonerOfUnit[i]=null
                
                //For backwards-compatibility:
                set udg_DeathEvent=0.00
                set udg_DeathEvent=3.00
                set udg_DeathEvent=0.00
                
                //Fire deindex event for UDex:
                set udg_UnitIndexEvent=0.00
                set udg_UnitIndexEvent=2.00
                set udg_UnitIndexEvent=0.00
                
                set udg_UDexNext[udg_UDexPrev[i]]=udg_UDexNext[i]
                set udg_UDexPrev[udg_UDexNext[i]]=udg_UDexPrev[i]
                
                // Recycle the index for later use
                set udg_UDexUnits[i]=null
                set udg_UDexPrev[i]=udg_UDexLastRecycled
                set udg_UDexLastRecycled=i
                call UnitEventDestroyGroup(i)
            endif
        elseif not udg_IsUnitAlive[i] then
            if not IsUnitType(u, UNIT_TYPE_DEAD) then
                set udg_IsUnitAlive[i]=true
                set udg_DeathEvent=0.00
                set udg_DeathEvent=2.00
                set udg_DeathEvent=0.00
                set udg_IsUnitReincarnating[i]=false
            endif
        elseif IsUnitType(u, UNIT_TYPE_DEAD) then
            if udg_IsUnitNew[i] then
                //This unit was created as a corpse.
                set udg_IsUnitAlive[i]=false
                set udg_DeathEvent=0.00
                set udg_DeathEvent=1.00
                set udg_DeathEvent=0.00
            elseif udg_CargoTransportUnit[i] == null or not IsUnitType(u, UNIT_TYPE_HERO) then
                //The unit may have just started reincarnating.
                call UnitEventCheckAfterProxy(i)
            endif
        elseif GetUnitAbilityLevel(u, udg_DetectTransformAbility) == 0 and not udg_IsUnitTransforming[i] then
            set udg_IsUnitTransforming[i]=true
            call UnitEventCheckAfterProxy(i) //This block has been updated on 21 July 2017
        endif
        if udg_CargoTransportUnit[i] != null and not udg_IsUnitBeingUnloaded[i] and not IsUnitLoaded(u) or IsUnitType(u, UNIT_TYPE_DEAD) then
            call UnitEventOnUnload()
        endif
        set udg_UDex=pdex
    endif
    set u=null
    return false
endfunction
function UnitEventOnSummon takes nothing returns boolean
    local integer pdex= udg_UDex
    set udg_UDex=GetUnitUserData(GetTriggerUnit())
    if udg_IsUnitNew[udg_UDex] then
        set udg_SummonerOfUnit[udg_UDex]=GetSummoningUnit()
        set udg_UnitIndexEvent=0.00
        set udg_UnitIndexEvent=0.50
        set udg_UnitIndexEvent=0.00
    endif
    set udg_UDex=pdex
    return false
endfunction
function UnitEventOnLoad takes nothing returns boolean
    local integer pdex= udg_UDex
    local integer i= GetUnitUserData(GetTriggerUnit())
    local integer index
    if i != 0 then
        set udg_UDex=i
        if udg_CargoTransportUnit[i] != null then
            call UnitEventOnUnload()
        endif
        //Loaded corpses do not issue an order when unloaded, therefore must
        //use the enter-region event method taken from Jesus4Lyf's Transport.
        if not udg_IsUnitAlive[i] then
            call SetUnitX(udg_UDexUnits[i], udg_WorldMaxX)
            call SetUnitY(udg_UDexUnits[i], udg_WorldMaxY)
        endif
        
        set udg_CargoTransportUnit[i]=GetTransportUnit()
        set index=GetUnitUserData(udg_CargoTransportUnit[i])
        if udg_CargoTransportGroup[index] == null then
            set udg_CargoTransportGroup[index]=CreateGroup()
        endif
        call GroupAddUnit(udg_CargoTransportGroup[index], udg_UDexUnits[i])
        set udg_CargoEvent=0.00
        set udg_CargoEvent=1.00
        set udg_CargoEvent=0.00
        set udg_UDex=pdex
    endif
    return false
endfunction
function UnitEventEnter takes nothing returns boolean
    local integer pdex= udg_UDex
    local integer i= udg_UDexLastRecycled
    local unit u= GetFilterUnit()
    if udg_UnitIndexerEnabled and GetUnitAbilityLevel(u, udg_DetectRemoveAbility) == 0 then
        //Generate a unique integer index for this unit
        if i == 0 then
            set i=udg_UDexMax + 1
            set udg_UDexMax=i
        else
            set udg_UDexLastRecycled=udg_UDexPrev[i]
        endif
        //Link index to unit, unit to index
        set udg_UDexUnits[i]=u
        call SetUnitUserData(u, i)
        
        //For backwards-compatibility, add the unit to a linked list
        set udg_UDexNext[i]=udg_UDexNext[0]
        set udg_UDexPrev[udg_UDexNext[0]]=i
        set udg_UDexNext[0]=i
        set udg_UDexPrev[i]=0

        set udg_CheckDeathInList[i]=false

        call UnitAddAbility(u, udg_DetectRemoveAbility)
        call UnitMakeAbilityPermanent(u, true, udg_DetectRemoveAbility)
        call UnitAddAbility(u, udg_DetectTransformAbility)
        set udg_UnitTypeOf[i]=GetUnitTypeId(u)
        set udg_IsUnitNew[i]=true
        set udg_IsUnitAlive[i]=true
        set udg_IsUnitRemoved[i]=false
        set udg_IsUnitReincarnating[i]=false
        set udg_IsUnitPreplaced[i]=udg_IsUnitPreplaced[0] //Added 29 May 2017 for Spellbound
        call UnitEventCheckAfterProxy(i)
        
        //Fire index event for UDex
        set udg_UDex=i
        set udg_UnitIndexEvent=0.00
        set udg_UnitIndexEvent=1.00
        set udg_UnitIndexEvent=0.00
    else
        set udg_UDex=GetUnitUserData(u)
        if udg_CargoTransportUnit[udg_UDex] != null and not IsUnitLoaded(u) then
            //The unit was dead, but has re-entered the map.
            call UnitEventOnUnload()
        endif
    endif
    set udg_UDex=pdex
    set u=null
    return false
endfunction
//===========================================================================
function UnitEventInit takes nothing returns nothing
    local integer i= bj_MAX_PLAYER_SLOTS
    local player p
    local trigger t= CreateTrigger()
    local trigger load= CreateTrigger()
    local trigger death= CreateTrigger()
    local trigger summon= CreateTrigger()
    local rect r= GetWorldBounds()
    local region re= CreateRegion()
    local boolexpr enterB= Filter(function UnitEventEnter)
    local boolexpr orderB= Filter(function UnitEventOnOrder)
    set udg_WorldMaxX=GetRectMaxX(r)
    set udg_WorldMaxY=GetRectMaxY(r)
    call RegionAddRect(re, r)
    call RemoveRect(r)
    call UnitEventDestroyGroup(0)
    call UnitEventDestroyGroup(1)
    
    set udg_CheckDeathList[0]=0
    set udg_UnitIndexerEnabled=true
    call TriggerRegisterEnterRegion(CreateTrigger(), re, enterB)
    call TriggerAddCondition(load, Filter(function UnitEventOnLoad))
    call TriggerAddCondition(death, Filter(function UnitEventOnDeath))
    call TriggerAddCondition(summon, Filter(function UnitEventOnSummon))
    loop
        set i=i - 1
        set p=Player(i)
        call SetPlayerAbilityAvailable(p, udg_DetectRemoveAbility, false)
        call SetPlayerAbilityAvailable(p, udg_DetectTransformAbility, false)
        call TriggerRegisterPlayerUnitEvent(summon, p, EVENT_PLAYER_UNIT_SUMMON, null)
        call TriggerRegisterPlayerUnitEvent(t, p, EVENT_PLAYER_UNIT_ISSUED_ORDER, orderB)
        call TriggerRegisterPlayerUnitEvent(death, p, EVENT_PLAYER_UNIT_DEATH, null)
        call TriggerRegisterPlayerUnitEvent(load, p, EVENT_PLAYER_UNIT_LOADED, null)
        call GroupEnumUnitsOfPlayer(bj_lastCreatedGroup, p, enterB)
        exitwhen i == 0
    endloop
    set summon=null
    set death=null
    set load=null
    set re=null
    set enterB=null
    set orderB=null
    set p=null
    set r=null
    set t=null
endfunction
function InitTrig_Unit_Event takes nothing returns nothing
endfunction
//===========================================================================
// Trigger: Initialization
//===========================================================================
function Trig_Initialization_Func024001002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'e000' )
endfunction

function Trig_Initialization_Func024A takes nothing returns nothing
    call SetUnitVertexColorBJ(GetEnumUnit(), 30.00, 30.00, 30.00, 0)
    call SetUnitAnimation(GetEnumUnit(), "death")
endfunction

function Trig_Initialization_Func026001002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'o61W' )
endfunction

function Trig_Initialization_Func026A takes nothing returns nothing
    call SetUnitAnimation(GetEnumUnit(), "stand ready")
endfunction

function Trig_Initialization_Func027A takes nothing returns nothing
    call SetUnitAnimation(GetEnumUnit(), "stand ready")
endfunction

function Trig_Initialization_Func053A takes nothing returns nothing
    call GroupAddUnitSimple(GetEnumUnit(), udg_AssaultGroupLokTar)
endfunction

function Trig_Initialization_Func054002 takes nothing returns nothing
    call ShowUnitHide(GetEnumUnit())
endfunction

function Trig_Initialization_Func059A takes nothing returns nothing
    call GroupAddUnitSimple(GetEnumUnit(), udg_BattlefieldActors)
endfunction

function Trig_Initialization_Func061002 takes nothing returns nothing
    call ShowUnitHide(GetEnumUnit())
endfunction

function Trig_Initialization_Actions takes nothing returns nothing
    call ClearMapMusicBJ()
    call SetUnitAnimation(gg_unit_H00C_0087, "cinematic sitting one")
    call SetSkyModel("Environment\\Sky\\DalaranRuinsSky\\DalaranRuinsSky.mdl")
    call SetTerrainFogExBJ(0, 1000, 5000.00, 0.20, 50.00, 35.00, 18.00)
    call SetTimeOfDay(0.00)
    call UseTimeOfDayBJ(false)
    // //
    call SetUnitAnimation(gg_unit_o605_0020, "cinematic writing one")
    call SetUnitAnimation(gg_unit_O60F_0042, "cinematic listening one")
    // //
    call AddUnitAnimationPropertiesBJ(true, "cinematic", gg_unit_o608_0019)
    call SetUnitMoveSpeed(gg_unit_o608_0019, 100.00)
    call BlzSetUnitRealFieldBJ(gg_unit_o608_0019, UNIT_RF_ANIMATION_WALK_SPEED, 100.00)
    call SetUnitBlendTimeBJ(gg_unit_o608_0019, 0.50)
    // //
    call SetUnitAnimation(gg_unit_o608_0024, "cinematic poses one")
    call ShowUnitHide(gg_unit_o608_0024)
    // //
    call SetUnitAnimation(gg_unit_h605_0160, "cinematic guard one")
    call SetUnitAnimation(gg_unit_h605_0086, "cinematic guard one")
    call SetUnitAnimation(gg_unit_h605_0002, "cinematic guard one")
    call SetUnitAnimation(gg_unit_h605_0161, "cinematic guard one")
    call ForGroupBJ(GetUnitsInRectMatching(gg_rct_BattleField, Condition(function Trig_Initialization_Func024001002)), function Trig_Initialization_Func024A)
    // //
    call ForGroupBJ(GetUnitsInRectMatching(gg_rct_Artillery, Condition(function Trig_Initialization_Func026001002)), function Trig_Initialization_Func026A)
    call ForGroupBJ(GetUnitsInRectOfPlayer(gg_rct_StandReady, Player(0)), function Trig_Initialization_Func027A)
    // //
    call SetDoodadAnimationRectBJ("death", 'YOtf', gg_rct_FireHide)
    // //
    call SetDoodadAnimationRectBJ("death", 'D6D8', gg_rct_Bloodsplat02)
    call SetDoodadAnimationRectBJ("death", 'D6D9', gg_rct_Bloodsplat02)
    call SetDoodadAnimationRectBJ("death", 'D6DA', gg_rct_Bloodsplat02)
    call SetDoodadAnimationRectBJ("death", 'D6DB', gg_rct_Bloodsplat02)
    call SetDoodadAnimationRectBJ("death", 'D6DC', gg_rct_Bloodsplat02)
    call SetDoodadAnimationRectBJ("death", 'D6DD', gg_rct_Bloodsplat02)
    // //
    call SetDoodadAnimationRectBJ("death", 'D6DD', gg_rct_Bloodsplat01)
    call SetDoodadAnimationRectBJ("death", 'D6DC', gg_rct_Bloodsplat01)
    call SetDoodadAnimationRectBJ("death", 'D6DB', gg_rct_Bloodsplat01)
    call SetDoodadAnimationRectBJ("death", 'D6DA', gg_rct_Bloodsplat01)
    call SetDoodadAnimationRectBJ("death", 'D6D9', gg_rct_Bloodsplat01)
    call SetDoodadAnimationRectBJ("death", 'D6D8', gg_rct_Bloodsplat01)
    // //
    call SetDoodadAnimationRectBJ("death", 'D6AE', gg_rct_Lights01)
    call SetDoodadAnimationRectBJ("death", 'YOcp', gg_rct_Lights01)
    // //
    call ShowDestructableBJ(false, gg_dest_B01I_2177)
    call ShowDestructableBJ(false, gg_dest_B01J_4720)
    call ShowDestructableBJ(false, gg_dest_B01K_6864)
    // //
    // //
    call ForGroupBJ(GetUnitsInRectOfPlayer(gg_rct_AttackSpawn, Player(0)), function Trig_Initialization_Func053A)
    call ForGroupBJ(udg_AssaultGroupLokTar, function Trig_Initialization_Func054002)
    // //
    call ShowUnitHide(gg_unit_h60L_0257)
    call ShowUnitHide(gg_unit_o61W_0266)
    // //
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_BattlefieldActors), function Trig_Initialization_Func059A)
    // //
    call ForGroupBJ(udg_BattlefieldActors, function Trig_Initialization_Func061002)
    // //
    call ShowUnitHide(gg_unit_h623_0265)
    call ShowUnitHide(gg_unit_o60G_0264)
    // //
    call ShowUnitHide(gg_unit_o004_0258)
    // //
    call ConditionalTriggerExecute(gg_trg_CinematicSequence)
endfunction

//===========================================================================
function InitTrig_Initialization takes nothing returns nothing
    set gg_trg_Initialization=CreateTrigger()
    call TriggerAddAction(gg_trg_Initialization, function Trig_Initialization_Actions)
endfunction

//===========================================================================
// Trigger: Cinematic Tree Stand
//===========================================================================
function Trig_Cinematic_Tree_Stand_Func001Func001Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() < 45.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cinematic_Tree_Stand_Func001Func001Func003C takes nothing returns boolean
    if ( ( GetDestructableTypeId(GetEnumDestructable()) == 'YTct' ) ) then
        return true
    endif
    if ( ( GetDestructableTypeId(GetEnumDestructable()) == 'VTlt' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Cinematic_Tree_Stand_Func001Func001C takes nothing returns boolean
    if ( not Trig_Cinematic_Tree_Stand_Func001Func001Func003C() ) then
        return false
    endif
    if ( not ( IsDestructableAliveBJ(GetEnumDestructable()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cinematic_Tree_Stand_Func001A takes nothing returns nothing
    if ( Trig_Cinematic_Tree_Stand_Func001Func001C() ) then
        if ( Trig_Cinematic_Tree_Stand_Func001Func001Func001C() ) then
            call QueueDestructableAnimationBJ(GetEnumDestructable(), ( "Stand " + I2S(GetRandomInt(1, 2)) ))
        else
            // Does nothing
        endif
    else
        // Does nothing
    endif
endfunction

function Trig_Cinematic_Tree_Stand_Actions takes nothing returns nothing
    call EnumDestructablesInRectAll(GetPlayableMapRect(), function Trig_Cinematic_Tree_Stand_Func001A)
endfunction

//===========================================================================
function InitTrig_Cinematic_Tree_Stand takes nothing returns nothing
    set gg_trg_Cinematic_Tree_Stand=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Cinematic_Tree_Stand, 5.00)
    call TriggerAddAction(gg_trg_Cinematic_Tree_Stand, function Trig_Cinematic_Tree_Stand_Actions)
endfunction

//===========================================================================
// Trigger: Blood
//===========================================================================
function Trig_Blood_Conditions takes nothing returns boolean
    if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_ETHEREAL) == false ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_DEAD) == false ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_UNDEAD) == false ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_MECHANICAL) == false ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_TOWNHALL) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func001Func003Func003Func003Func003Func003Func003Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 8 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func001Func003Func003Func003Func003Func003Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 7 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func001Func003Func003Func003Func003Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 6 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func001Func003Func003Func003Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 5 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func001Func003Func003Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 4 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func001Func003Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func001Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func001C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func002Func001Func003Func003Func003Func003Func003Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 7 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func002Func001Func003Func003Func003Func003Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 6 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func002Func001Func003Func003Func003Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 5 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func002Func001Func003Func003Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 4 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func002Func001Func003Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func002Func001Func003C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func002Func001C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 8) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005Func002C takes nothing returns boolean
    if ( not ( GetUnitRace(GetAttackedUnitBJ()) == RACE_ORC ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Func005C takes nothing returns boolean
    if ( not ( GetUnitRace(GetAttackedUnitBJ()) == RACE_HUMAN ) ) then
        return false
    endif
    return true
endfunction

function Trig_Blood_Actions takes nothing returns nothing
    local unit blood_unit
    local effect blood_effect
    set blood_unit=GetAttackedUnitBJ()
    call TriggerSleepAction(0.50)
    if ( Trig_Blood_Func005C() ) then
        if ( Trig_Blood_Func005Func001C() ) then
            call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodSorceress.mdl")
            set blood_effect=GetLastCreatedEffectBJ()
        else
            if ( Trig_Blood_Func005Func001Func003C() ) then
                call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodRifleman.mdl")
                set blood_effect=GetLastCreatedEffectBJ()
            else
                if ( Trig_Blood_Func005Func001Func003Func003C() ) then
                    call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodPriest.mdl")
                    set blood_effect=GetLastCreatedEffectBJ()
                else
                    if ( Trig_Blood_Func005Func001Func003Func003Func003C() ) then
                        call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodPeasant.mdl")
                        set blood_effect=GetLastCreatedEffectBJ()
                    else
                        if ( Trig_Blood_Func005Func001Func003Func003Func003Func003C() ) then
                            call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodMortarTeam.mdl")
                            set blood_effect=GetLastCreatedEffectBJ()
                        else
                            if ( Trig_Blood_Func005Func001Func003Func003Func003Func003Func003C() ) then
                                call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl")
                                set blood_effect=GetLastCreatedEffectBJ()
                            else
                                if ( Trig_Blood_Func005Func001Func003Func003Func003Func003Func003Func003C() ) then
                                    call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Other\\HumanBloodCinematicEffect\\HumanBloodCinematicEffect.mdl")
                                    set blood_effect=GetLastCreatedEffectBJ()
                                else
                                    if ( Trig_Blood_Func005Func001Func003Func003Func003Func003Func003Func003Func003C() ) then
                                        call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodFootman.mdl")
                                        set blood_effect=GetLastCreatedEffectBJ()
                                    else
                                    endif
                                endif
                            endif
                        endif
                    endif
                endif
            endif
        endif
    else
        if ( Trig_Blood_Func005Func002C() ) then
            if ( Trig_Blood_Func005Func002Func001C() ) then
                call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodWolfrider.mdl")
                set blood_effect=GetLastCreatedEffectBJ()
            else
                if ( Trig_Blood_Func005Func002Func001Func003C() ) then
                    call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodWitchDoctor.mdl")
                    set blood_effect=GetLastCreatedEffectBJ()
                else
                    if ( Trig_Blood_Func005Func002Func001Func003Func003C() ) then
                        call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodTauren.mdl")
                        set blood_effect=GetLastCreatedEffectBJ()
                    else
                        if ( Trig_Blood_Func005Func002Func001Func003Func003Func003C() ) then
                            call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodPeon.mdl")
                            set blood_effect=GetLastCreatedEffectBJ()
                        else
                            if ( Trig_Blood_Func005Func002Func001Func003Func003Func003Func003C() ) then
                                call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodHeadhunter.mdl")
                                set blood_effect=GetLastCreatedEffectBJ()
                            else
                                if ( Trig_Blood_Func005Func002Func001Func003Func003Func003Func003Func003C() ) then
                                    call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodGrunt.mdl")
                                    set blood_effect=GetLastCreatedEffectBJ()
                                else
                                    if ( Trig_Blood_Func005Func002Func001Func003Func003Func003Func003Func003Func003C() ) then
                                        call AddSpecialEffectTargetUnitBJ("origin", blood_unit, "Objects\\Spawnmodels\\Other\\OrcBloodCinematicEffect\\OrcBloodCinematicEffect.mdl")
                                        set blood_effect=GetLastCreatedEffectBJ()
                                    else
                                    endif
                                endif
                            endif
                        endif
                    endif
                endif
            endif
        else
        endif
    endif
    call TriggerSleepAction(2.00)
    call DestroyEffectBJ(blood_effect)
endfunction

//===========================================================================
function InitTrig_Blood takes nothing returns nothing
    set gg_trg_Blood=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Blood, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_Blood, Condition(function Trig_Blood_Conditions))
    call TriggerAddAction(gg_trg_Blood, function Trig_Blood_Actions)
endfunction


//===========================================================================
// Trigger: CinematicSequence
//===========================================================================
function Trig_CinematicSequence_Func097001002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'o60P' )
endfunction

function Trig_CinematicSequence_Func097A takes nothing returns nothing
    call IssueImmediateOrderBJ(GetEnumUnit(), "stop")
endfunction

function Trig_CinematicSequence_Func124002 takes nothing returns nothing
    call ShowUnitShow(GetEnumUnit())
endfunction

function Trig_CinematicSequence_Func134002 takes nothing returns nothing
    call IssuePointOrderLocBJ(GetEnumUnit(), "move", GetRandomLocInRect(gg_rct_AttackWaveEnter02))
endfunction

function Trig_CinematicSequence_Func199A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction

function Trig_CinematicSequence_Func201A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction

function Trig_CinematicSequence_Func232002 takes nothing returns nothing
    call ShowUnitShow(GetEnumUnit())
endfunction

function Trig_CinematicSequence_Actions takes nothing returns nothing
    call CinematicModeBJ(true, GetPlayersAll())
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 0.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    // //
    call PlayMusicBJ(gg_snd_WarCraft2OrcsEnding01)
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_Banner01, Player(0), 0)
    call TriggerSleepAction(1.00)
    // //
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=GetRandomInt(10, 20)
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call CreatePermanentCorpseLocBJ(bj_CORPSETYPE_FLESH, 'h60L', Player(9), GetRandomLocInRect(gg_rct_BattleField), GetRandomDirectionDeg())
        call CreatePermanentCorpseLocBJ(bj_CORPSETYPE_FLESH, 'h623', Player(9), GetRandomLocInRect(gg_rct_BattleField), GetRandomDirectionDeg())
        call CreatePermanentCorpseLocBJ(bj_CORPSETYPE_FLESH, 'h60K', Player(9), GetRandomLocInRect(gg_rct_BattleField), GetRandomDirectionDeg())
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    // //
    // //
    set bj_forLoopBIndex=1
    set bj_forLoopBIndexEnd=GetRandomInt(6, 10)
    loop
        exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
        call CreatePermanentCorpseLocBJ(bj_CORPSETYPE_FLESH, 'h60B', Player(9), GetRandomLocInRect(gg_rct_BattleField), GetRandomDirectionDeg())
        set bj_forLoopBIndex=bj_forLoopBIndex + 1
    endloop
    // //
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 2.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(2.00)
    // //
    // //
    // Army
    // //
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_Banner02, Player(0), 5.00)
    // //
    // //
    call IssuePointOrderLocBJ(gg_unit_o608_0019, "move", GetRectCenter(gg_rct_Tharbek01))
    call TriggerSleepAction(( DistanceBetweenPoints(GetUnitLoc(gg_unit_o608_0019), GetRectCenter(gg_rct_Tharbek01)) / GetUnitMoveSpeed(gg_unit_o608_0019) ))
    call SetUnitAnimation(gg_unit_o608_0019, "cinematic listening one")
    // //
    call SetUnitLookAt(gg_unit_o608_0019, "bone_head", gg_unit_ogru_0021, 0, 0, 90)
    // //
    call TriggerSleepAction(1.00)
    call ResetUnitLookAt(gg_unit_o608_0019)
    call TriggerSleepAction(1.00)
    // //
    call SetUnitAnimation(gg_unit_o608_0019, "cinematic wave two")
    call QueueUnitAnimationBJ(gg_unit_o608_0019, "cinematic listening one")
    // //
    call TriggerSleepAction(1.75)
    // //
    // //
    // Catapults
    // //
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_Catapults, Player(0), 0)
    call SetTerrainFogExBJ(0, 1000.00, 6000.00, 0.20, 17.60, 9.00, 6.66)
    // //
    call SetUnitAnimation(gg_unit_o61W_0031, "attack")
    call QueueUnitAnimationBJ(gg_unit_o61W_0031, "stand")
    call TriggerSleepAction(0.25)
    call IssuePointOrderLocBJ(gg_unit_o60P_0018, "attackground", GetRectCenter(gg_rct_CatAim07))
    // //
    call SetUnitAnimation(gg_unit_o61W_0030, "attack")
    call QueueUnitAnimationBJ(gg_unit_o61W_0030, "stand")
    call TriggerSleepAction(0.25)
    call IssuePointOrderLocBJ(gg_unit_o60P_0017, "attackground", GetRectCenter(gg_rct_CatAim06))
    // //
    call SetUnitAnimation(gg_unit_o61W_0029, "attack")
    call QueueUnitAnimationBJ(gg_unit_o61W_0029, "stand")
    call TriggerSleepAction(0.25)
    call IssuePointOrderLocBJ(gg_unit_o60P_0016, "attackground", GetRectCenter(gg_rct_CatAim05))
    // //
    call SetUnitAnimation(gg_unit_o61W_0028, "attack")
    call QueueUnitAnimationBJ(gg_unit_o61W_0028, "stand")
    call TriggerSleepAction(0.25)
    call IssuePointOrderLocBJ(gg_unit_o60P_0015, "attackground", GetRectCenter(gg_rct_CatAim04))
    // //
    // These are crushing walls
    call IssuePointOrderLocBJ(gg_unit_o60P_0023, "attackground", GetRectCenter(gg_rct_Explosion02))
    // //
    call SetUnitAnimation(gg_unit_o61W_0027, "attack")
    call QueueUnitAnimationBJ(gg_unit_o61W_0027, "stand")
    call TriggerSleepAction(0.25)
    call IssuePointOrderLocBJ(gg_unit_o60P_0014, "attackground", GetRectCenter(gg_rct_CatAim03))
    // //
    // These are crushing walls
    call IssuePointOrderLocBJ(gg_unit_o60P_0041, "attackground", GetRectCenter(gg_rct_Explosion01))
    // //
    call SetUnitAnimation(gg_unit_o61W_0026, "attack")
    call QueueUnitAnimationBJ(gg_unit_o61W_0026, "stand")
    call TriggerSleepAction(0.25)
    call IssuePointOrderLocBJ(gg_unit_o60P_0013, "attackground", GetRectCenter(gg_rct_CatAim02))
    // //
    call SetUnitAnimation(gg_unit_o61W_0025, "attack")
    call QueueUnitAnimationBJ(gg_unit_o61W_0025, "stand")
    call TriggerSleepAction(0.25)
    call IssuePointOrderLocBJ(gg_unit_o60P_0012, "attackground", GetRectCenter(gg_rct_CatAim01))
    // //
    // //
    // //
    // Wall
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_Wall01, Player(0), 0)
    call SetDoodadAnimationRectBJ("death", 'D64K', gg_rct_MountainsWallpaper)
    call SetTerrainFogExBJ(0, 1000.00, 5000.00, 0.20, 17.60, 9.00, 6.66)
    // //
    call TriggerSleepAction(0.25)
    // //
    call ForGroupBJ(GetUnitsInRectMatching(gg_rct_Artillery, Condition(function Trig_CinematicSequence_Func097001002)), function Trig_CinematicSequence_Func097A)
    // //
    // //
    call TriggerSleepAction(1.50)
    // //
    call KillDestructable(gg_dest_B000_2158)
    call KillDestructable(gg_dest_B008_3899)
    // //
    call TriggerSleepAction(0.25)
    // //
    call KillDestructable(gg_dest_B000_0362)
    call KillDestructable(gg_dest_B000_2149)
    // //
    call TriggerSleepAction(0.25)
    // //
    call KillDestructable(gg_dest_B000_2148)
    // //
    call RemoveUnit(gg_unit_o60P_0041)
    call RemoveUnit(gg_unit_o60P_0023)
    // //
    // //
    // City
    // //
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_Wall02, Player(0), 0)
    call SetDayNightModels("", "")
    // //
    call ForGroupBJ(udg_AssaultGroupLokTar, function Trig_CinematicSequence_Func124002)
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_Wall03, Player(0), 0.25)
    call TriggerSleepAction(0.25)
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_Wall02, Player(0), 0.25)
    call TriggerSleepAction(0.25)
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_Wall04, Player(0), 5.00)
    // //
    call ForGroupBJ(udg_AssaultGroupLokTar, function Trig_CinematicSequence_Func134002)
    // //
    call TriggerSleepAction(0.50)
    call IssuePointOrderLocBJ(gg_unit_o60P_0044, "attackground", GetRectCenter(gg_rct_Explosion04))
    call TriggerSleepAction(1.00)
    call KillUnit(gg_unit_n00D_0208)
    // //
    // //
    call TriggerSleepAction(2.00)
    call KillUnit(gg_unit_ncb9_0112)
    // //
    // //
    call TriggerSleepAction(2.00)
    call RemoveUnit(gg_unit_o60P_0044)
    call TriggerSleepAction(2.00)
    // //
    // ThroneRoom
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_FinalDoor00, Player(0), 0)
    call SetDayNightModels("environment\\dnc\\dnclordaeron\\dnclordaeronterrain\\dnclordaeronterrain.mdx", "environment\\dnc\\dnclordaeron\\dnclordaeronterrain\\dnclordaeronterrain.mdx")
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_FinalDoor01, Player(0), 0.50)
    call TriggerSleepAction(0.50)
    // //
    call TriggerSleepAction(0.50)
    call SetDestructableAnimationBJ(gg_dest_DTc1_8519, "stand hit")
    call TriggerSleepAction(1.50)
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_King01, Player(0), 0)
    call TriggerSleepAction(2.00)
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_FinalDoor03, Player(0), 0)
    call TriggerSleepAction(1.00)
    call SetDestructableAnimationBJ(gg_dest_DTc1_8519, "stand hit")
    call TriggerSleepAction(1.50)
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_King03, Player(0), 0)
    // Guards!
    call TriggerSleepAction(2.50)
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_FinalDoor03, Player(0), 0)
    call KillDestructable(gg_dest_DTc1_8519)
    call TriggerSleepAction(1.00)
    // //
    // Create Dragons
    // //
    call ShowUnitShow(gg_unit_o004_0258)
    // //
    call AddSpecialEffectTargetUnitBJ("sprite first", gg_unit_o004_0258, "units\\creeps\\RedDragon\\RedDragon.mdl")
    set udg_Dragon01=GetLastCreatedEffectBJ()
    call BlzPlaySpecialEffect(udg_Dragon01, ANIM_TYPE_WALK)
    // //
    call AddSpecialEffectTargetUnitBJ("sprite second", gg_unit_o004_0258, "units\\creeps\\RedDragon\\RedDragon.mdl")
    set udg_Dragon02=GetLastCreatedEffectBJ()
    call BlzPlaySpecialEffect(udg_Dragon02, ANIM_TYPE_WALK)
    // //
    call AddSpecialEffectTargetUnitBJ("sprite third", gg_unit_o004_0258, "units\\creeps\\RedDragon\\RedDragon.mdl")
    set udg_Dragon03=GetLastCreatedEffectBJ()
    call BlzPlaySpecialEffect(udg_Dragon03, ANIM_TYPE_WALK)
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_King02, Player(0), 0)
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_King01, Player(0), 2.00)
    call TriggerSleepAction(2.00)
    // //
    call ForGroupBJ(GetUnitsInRectOfPlayer(gg_rct_Artillery, Player(0)), function Trig_CinematicSequence_Func199A)
    // //
    call ForGroupBJ(udg_AssaultGroupLokTar, function Trig_CinematicSequence_Func201A)
    // //
    call SetDoodadAnimationRectBJ("stand", 'D6D8', gg_rct_Bloodsplat02)
    call SetDoodadAnimationRectBJ("stand", 'D6D9', gg_rct_Bloodsplat02)
    call SetDoodadAnimationRectBJ("stand", 'D6DA', gg_rct_Bloodsplat02)
    call SetDoodadAnimationRectBJ("stand", 'D6DB', gg_rct_Bloodsplat02)
    call SetDoodadAnimationRectBJ("stand", 'D6DC', gg_rct_Bloodsplat02)
    call SetDoodadAnimationRectBJ("stand", 'D6DD', gg_rct_Bloodsplat02)
    // //
    call SetDoodadAnimationRectBJ("stand", 'D6DD', gg_rct_Bloodsplat01)
    call SetDoodadAnimationRectBJ("stand", 'D6DC', gg_rct_Bloodsplat01)
    call SetDoodadAnimationRectBJ("stand", 'D6DB', gg_rct_Bloodsplat01)
    call SetDoodadAnimationRectBJ("stand", 'D6DA', gg_rct_Bloodsplat01)
    call SetDoodadAnimationRectBJ("stand", 'D6D9', gg_rct_Bloodsplat01)
    call SetDoodadAnimationRectBJ("stand", 'D6D8', gg_rct_Bloodsplat01)
    // //
    call ShowDestructableBJ(true, gg_dest_B01J_4720)
    call ShowDestructableBJ(true, gg_dest_B01K_6864)
    // //
    call SetDoodadAnimationRectBJ("stand", 'YOtf', gg_rct_FireHide)
    // //
    // Battlefield
    // //
    // //
    // //
    call ShowUnitShow(gg_unit_h623_0265)
    call ShowUnitShow(gg_unit_o60G_0264)
    call ShowUnitShow(gg_unit_h60L_0257)
    // //
    call ShowUnitShow(gg_unit_o61W_0266)
    // //
    call ForGroupBJ(udg_BattlefieldActors, function Trig_CinematicSequence_Func232002)
    call IssueTargetOrderBJ(gg_unit_o60G_0259, "attack", gg_unit_h623_0260)
    call IssueTargetOrderBJ(gg_unit_h623_0260, "attack", gg_unit_o60G_0259)
    // //
    call IssuePointOrderLocBJ(gg_unit_hmil_0261, "move", GetRectCenter(gg_rct_RunHere))
    call IssuePointOrderLocBJ(gg_unit_o60G_0262, "move", GetRectCenter(gg_rct_RunHere))
    call IssuePointOrderLocBJ(gg_unit_o60G_0263, "move", GetRectCenter(gg_rct_RunHere))
    // //
    call IssuePointOrderLocBJ(gg_unit_h623_0265, "move", GetRectCenter(gg_rct_DefenderAim))
    // //
    call SetTerrainFogExBJ(0, 500.00, 8000.00, 0.20, 17.60, 9.00, 6.66)
    call SetDoodadAnimationRectBJ("stand", 'D6AE', gg_rct_Lights01)
    call SetDoodadAnimationRectBJ("stand", 'YOcp', gg_rct_Lights01)
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_LordaeronRuins02, Player(0), 0)
    call SetDayNightModels("", "")
    // //
    call CameraSetupApplyForPlayer(true, gg_cam_LordaeronRuins01, Player(0), 10.00)
    call TriggerSleepAction(2.00)
    call IssuePointOrderLocBJ(gg_unit_o60G_0264, "move", GetRectCenter(gg_rct_GruntAim))
    // //
    call KillUnit(gg_unit_h623_0260)
    call IssuePointOrderLocBJ(gg_unit_o60G_0259, "move", GetRectCenter(gg_rct_GruntGoHere))
    call TriggerSleepAction(1.00)
    call KillDestructable(gg_dest_B005_3579)
    // //
    call TriggerSleepAction(3.00)
    call IssuePointOrderLocBJ(gg_unit_h60L_0257, "move", GetRectCenter(gg_rct_Knight01))
    call IssuePointOrderLocBJ(gg_unit_o61W_0266, "move", GetRectCenter(gg_rct_GruntKillsKnight))
    call TriggerSleepAction(2.00)
    call KillUnit(gg_unit_h006_1019)
    call TriggerSleepAction(4.00)
    call KillDestructable(gg_dest_B005_2276)
    // //
    call TriggerSleepAction(2.00)
    // //
    // Tharbek
    // //
    call ShowDestructableBJ(true, gg_dest_B01I_2177)
    call ShowUnitShow(gg_unit_o608_0024)
    call CameraSetupApplyForPlayer(true, gg_cam_Tharbek01, Player(0), 0)
    call SetDoodadAnimationRectBJ("stand", 'YOcp', gg_rct_Lights01)
    call TriggerSleepAction(2.00)
    // //
    call KillDestructable(gg_dest_B005_0661)
    // //
    call TriggerSleepAction(6.00)
    // //
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 4.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    // //
    call ConditionalTriggerExecute(gg_trg_Credits)
    // //
    // //
endfunction

//===========================================================================
function InitTrig_CinematicSequence takes nothing returns nothing
    set gg_trg_CinematicSequence=CreateTrigger()
    call TriggerAddAction(gg_trg_CinematicSequence, function Trig_CinematicSequence_Actions)
endfunction

//===========================================================================
// Trigger: AssaultDirectrionTroops01
//===========================================================================
function Trig_AssaultDirectrionTroops01_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetEnteringUnit(), udg_AssaultGroupLokTar) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_AssaultDirectrionTroops01_Func001C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 3) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_AssaultDirectrionTroops01_Actions takes nothing returns nothing
    if ( Trig_AssaultDirectrionTroops01_Func001C() ) then
        call IssuePointOrderLocBJ(GetEnteringUnit(), "move", GetRandomLocInRect(gg_rct_Redirect02))
    else
        call IssuePointOrderLocBJ(GetEnteringUnit(), "move", GetRandomLocInRect(gg_rct_Redirect01))
    endif
endfunction

//===========================================================================
function InitTrig_AssaultDirectrionTroops01 takes nothing returns nothing
    set gg_trg_AssaultDirectrionTroops01=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_AssaultDirectrionTroops01, gg_rct_AttackWaveEnter02)
    call TriggerAddCondition(gg_trg_AssaultDirectrionTroops01, Condition(function Trig_AssaultDirectrionTroops01_Conditions))
    call TriggerAddAction(gg_trg_AssaultDirectrionTroops01, function Trig_AssaultDirectrionTroops01_Actions)
endfunction

//===========================================================================
// Trigger: KillKnight
//===========================================================================
function Trig_KillKnight_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == gg_unit_h60L_0257 ) ) then
        return false
    endif
    return true
endfunction

function Trig_KillKnight_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetUnitAnimation(gg_unit_h60L_0257, "stand ready")
    call TriggerSleepAction(0.50)
    call SetUnitTimeScalePercent(gg_unit_h60L_0257, 200.00)
    call KillUnit(gg_unit_h60L_0257)
endfunction

//===========================================================================
function InitTrig_KillKnight takes nothing returns nothing
    set gg_trg_KillKnight=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_KillKnight, gg_rct_Knight01)
    call TriggerAddCondition(gg_trg_KillKnight, Condition(function Trig_KillKnight_Conditions))
    call TriggerAddAction(gg_trg_KillKnight, function Trig_KillKnight_Actions)
endfunction

//===========================================================================
// Trigger: GruntAttackanim
//===========================================================================
function Trig_GruntAttackanim_Conditions takes nothing returns boolean
    if ( not ( GetEnteringUnit() == gg_unit_o61W_0266 ) ) then
        return false
    endif
    return true
endfunction

function Trig_GruntAttackanim_Actions takes nothing returns nothing
    call TriggerSleepAction(0.25)
    call SetUnitAnimation(gg_unit_o61W_0266, "attack")
    call QueueUnitAnimationBJ(gg_unit_o61W_0266, "attack")
    call QueueUnitAnimationBJ(gg_unit_o61W_0266, "attack")
    call QueueUnitAnimationBJ(gg_unit_o61W_0266, "attack")
    call QueueUnitAnimationBJ(gg_unit_o61W_0266, "attack")
    call QueueUnitAnimationBJ(gg_unit_o61W_0266, "attack")
endfunction

//===========================================================================
function InitTrig_GruntAttackanim takes nothing returns nothing
    set gg_trg_GruntAttackanim=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_GruntAttackanim, gg_rct_GruntKillsKnight)
    call TriggerAddCondition(gg_trg_GruntAttackanim, Condition(function Trig_GruntAttackanim_Conditions))
    call TriggerAddAction(gg_trg_GruntAttackanim, function Trig_GruntAttackanim_Actions)
endfunction

//===========================================================================
// Trigger: Credits
//===========================================================================
function Trig_Credits_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    // //
    // //
    // //
    // //
    // //
    call CustomVictoryBJ(Player(0), false, false)
    // //
    // //
    // //
endfunction

//===========================================================================
function InitTrig_Credits takes nothing returns nothing
    set gg_trg_Credits=CreateTrigger()
    call TriggerAddAction(gg_trg_Credits, function Trig_Credits_Actions)
endfunction

//===========================================================================
// Trigger: SliceFootman
//===========================================================================
function Trig_SliceFootman_Conditions takes nothing returns boolean
    if ( not ( GetTriggerUnit() == gg_unit_h623_0265 ) ) then
        return false
    endif
    return true
endfunction

function Trig_SliceFootman_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call KillUnit(gg_unit_h623_0265)
endfunction

//===========================================================================
function InitTrig_SliceFootman takes nothing returns nothing
    set gg_trg_SliceFootman=CreateTrigger()
    call TriggerRegisterUnitInRangeSimple(gg_trg_SliceFootman, 64.00, gg_unit_o60G_0264)
    call TriggerAddCondition(gg_trg_SliceFootman, Condition(function Trig_SliceFootman_Conditions))
    call TriggerAddAction(gg_trg_SliceFootman, function Trig_SliceFootman_Actions)
endfunction

//===========================================================================
// Trigger: DuskFogLoop
//===========================================================================
function Trig_DuskFogLoop_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCinematic == false ) ) then
        return false
    endif
    if ( not ( udg_MidgameCinematic == false ) ) then
        return false
    endif
    if ( not ( udg_CrossIslandIntroCinQ == false ) ) then
        return false
    endif
    if ( not ( udg_CrossIslandOutroCinQ == false ) ) then
        return false
    endif
    if ( not ( udg_ContinueToLordaeronCinematic == false ) ) then
        return false
    endif
    if ( not ( udg_FinalCinematic == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_DuskFogLoop_Func008001 takes nothing returns boolean
    return ( udg_FogMax <= 9500.00 )
endfunction

function Trig_DuskFogLoop_Actions takes nothing returns nothing
    if ( (udg_FogMax <= 9500.00) ) then // INLINED!!
        call PauseTimerBJ(true, udg_DuskTimer)
    else
        call DoNothing()
    endif
    set udg_FogMax=( udg_FogMax - 100.00 )
    set udg_FogMin=( udg_FogMin - 100.00 )
    call SetTerrainFogExBJ(0, udg_FogMin, udg_FogMax, 0.20, 50.00, 50.00, 68.00)
endfunction

//===========================================================================
function InitTrig_DuskFogLoop takes nothing returns nothing
    set gg_trg_DuskFogLoop=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_DuskFogLoop, udg_DuskTimer)
    call TriggerAddCondition(gg_trg_DuskFogLoop, Condition(function Trig_DuskFogLoop_Conditions))
    call TriggerAddAction(gg_trg_DuskFogLoop, function Trig_DuskFogLoop_Actions)
endfunction

//===========================================================================
// Trigger: DawnFogLoop
//===========================================================================
function Trig_DawnFogLoop_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCinematic == false ) ) then
        return false
    endif
    if ( not ( udg_MidgameCinematic == false ) ) then
        return false
    endif
    if ( not ( udg_CrossIslandIntroCinQ == false ) ) then
        return false
    endif
    if ( not ( udg_CrossIslandOutroCinQ == false ) ) then
        return false
    endif
    if ( not ( udg_ContinueToLordaeronCinematic == false ) ) then
        return false
    endif
    if ( not ( udg_FinalCinematic == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_DawnFogLoop_Func008001 takes nothing returns boolean
    return ( udg_FogMax >= 12500.00 )
endfunction

function Trig_DawnFogLoop_Actions takes nothing returns nothing
    if ( (udg_FogMax >= 12500.00) ) then // INLINED!!
        call PauseTimerBJ(true, udg_DawnTimer)
    else
        call DoNothing()
    endif
    set udg_FogMax=( udg_FogMax + 100.00 )
    set udg_FogMin=( udg_FogMin + 100.00 )
    call SetTerrainFogExBJ(0, udg_FogMin, udg_FogMax, 0.20, 50.00, 50.00, 68.00)
endfunction

//===========================================================================
function InitTrig_DawnFogLoop takes nothing returns nothing
    set gg_trg_DawnFogLoop=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_DawnFogLoop, udg_DawnTimer)
    call TriggerAddCondition(gg_trg_DawnFogLoop, Condition(function Trig_DawnFogLoop_Conditions))
    call TriggerAddAction(gg_trg_DawnFogLoop, function Trig_DawnFogLoop_Actions)
endfunction

//===========================================================================
// Trigger: Dawn
//===========================================================================
function Trig_Dawn_Actions takes nothing returns nothing
    call SetDoodadAnimationRectBJ("death", 'NOfp', GetPlayableMapRect())
    call SetDoodadAnimationRectBJ("death", 'NOfg', GetPlayableMapRect())
    call StartTimerBJ(udg_DawnTimer, true, 1.00)
endfunction

//===========================================================================
function InitTrig_Dawn takes nothing returns nothing
    set gg_trg_Dawn=CreateTrigger()
    call TriggerRegisterGameStateEventTimeOfDay(gg_trg_Dawn, EQUAL, 6.00)
    call TriggerAddAction(gg_trg_Dawn, function Trig_Dawn_Actions)
endfunction

//===========================================================================
// Trigger: Dusk
//===========================================================================
function Trig_Dusk_Actions takes nothing returns nothing
    call SetDoodadAnimationRectBJ("stand", 'NOfp', GetPlayableMapRect())
    call SetDoodadAnimationRectBJ("stand", 'NOfg', GetPlayableMapRect())
    call StartTimerBJ(udg_DuskTimer, true, 1.00)
endfunction

//===========================================================================
function InitTrig_Dusk takes nothing returns nothing
    set gg_trg_Dusk=CreateTrigger()
    call TriggerRegisterGameStateEventTimeOfDay(gg_trg_Dusk, EQUAL, 18.00)
    call TriggerAddAction(gg_trg_Dusk, function Trig_Dusk_Actions)
endfunction

//===========================================================================
// Trigger: Rune of Blood Ogre Magi
//===========================================================================
function Trig_Rune_of_Blood_Ogre_Magi_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A004' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rune_of_Blood_Ogre_Magi_Actions takes nothing returns nothing
    set udg_TempPointRune=GetSpellTargetLoc()
    call CreateNUnitsAtLoc(1, 'u602', GetTriggerPlayer(), udg_TempPointRune, bj_UNIT_FACING)
    set udg_DummyRune=GetLastCreatedUnit()
    call UnitAddAbilityBJ('A654', udg_DummyRune)
    call IssuePointOrderLocBJ(udg_DummyRune, "stasistrap", udg_TempPointRune)
    call UnitApplyTimedLifeBJ(2.00, 'BTLF', udg_DummyRune)
    call RemoveLocation(udg_TempPointRune)
endfunction

//===========================================================================
function InitTrig_Rune_of_Blood_Ogre_Magi takes nothing returns nothing
    set gg_trg_Rune_of_Blood_Ogre_Magi=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Rune_of_Blood_Ogre_Magi, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_Rune_of_Blood_Ogre_Magi, Condition(function Trig_Rune_of_Blood_Ogre_Magi_Conditions))
    call TriggerAddAction(gg_trg_Rune_of_Blood_Ogre_Magi, function Trig_Rune_of_Blood_Ogre_Magi_Actions)
endfunction

//===========================================================================
// Trigger: SunderArmor
//===========================================================================
function Trig_SunderArmor_Conditions takes nothing returns boolean
    if ( not ( udg_HeavyHammersResearched == true ) ) then
        return false
    endif
    if ( not ( IsUnitEnemy(GetAttackedUnitBJ(), udg_AP1_Player) == true ) ) then
        return false
    endif
    if ( not ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_GROUND) == true ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetAttacker()) == 'o61W' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SunderArmor_Func002C takes nothing returns boolean
    if ( not ( udg_Chance == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_SunderArmor_Actions takes nothing returns nothing
    set udg_Chance=GetRandomInt(1, 5)
    if ( Trig_SunderArmor_Func002C() ) then
        set udg_TempPointGrunt=GetUnitLoc(GetAttackedUnitBJ())
        call CreateNUnitsAtLoc(1, 'u602', udg_AP1_Player, udg_TempPointGrunt, bj_UNIT_FACING)
        set udg_DummyGrunt=GetLastCreatedUnit()
        call UnitAddAbilityBJ('A65N', udg_DummyGrunt)
        call IssueTargetOrderBJ(udg_DummyGrunt, "innerfire", GetAttackedUnitBJ())
        call UnitApplyTimedLifeBJ(2.00, 'BTLF', udg_DummyGrunt)
        call RemoveLocation(udg_TempPointGrunt)
    else
    endif
endfunction

//===========================================================================
function InitTrig_SunderArmor takes nothing returns nothing
    set gg_trg_SunderArmor=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_SunderArmor, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_SunderArmor, Condition(function Trig_SunderArmor_Conditions))
    call TriggerAddAction(gg_trg_SunderArmor, function Trig_SunderArmor_Actions)
endfunction

//===========================================================================
// Trigger: HeavyHammersResearched
//===========================================================================
function Trig_HeavyHammersResearched_Conditions takes nothing returns boolean
    if ( not ( GetResearched() == 'R60F' ) ) then
        return false
    endif
    return true
endfunction

function Trig_HeavyHammersResearched_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_HeavyHammersResearched=true
endfunction

//===========================================================================
function InitTrig_HeavyHammersResearched takes nothing returns nothing
    set gg_trg_HeavyHammersResearched=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_HeavyHammersResearched, Player(0), EVENT_PLAYER_UNIT_RESEARCH_FINISH)
    call TriggerAddCondition(gg_trg_HeavyHammersResearched, Condition(function Trig_HeavyHammersResearched_Conditions))
    call TriggerAddAction(gg_trg_HeavyHammersResearched, function Trig_HeavyHammersResearched_Actions)
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_Unit_Event_Config()
    call InitTrig_Unit_Event()
    call InitTrig_Initialization()
    call InitTrig_Cinematic_Tree_Stand()
    call InitTrig_Blood()
    call InitTrig_CinematicSequence()
    call InitTrig_AssaultDirectrionTroops01()
    call InitTrig_KillKnight()
    call InitTrig_GruntAttackanim()
    call InitTrig_Credits()
    call InitTrig_SliceFootman()
    call InitTrig_DuskFogLoop()
    call InitTrig_DawnFogLoop()
    call InitTrig_Dawn()
    call InitTrig_Dusk()
    call InitTrig_Rune_of_Blood_Ogre_Magi()
    call InitTrig_SunderArmor()
    call InitTrig_HeavyHammersResearched()
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute(gg_trg_Unit_Event_Config)
    call ConditionalTriggerExecute(gg_trg_Initialization)
endfunction

//***************************************************************************
//*
//*  Upgrades
//*
//***************************************************************************

function InitUpgrades_Player0 takes nothing returns nothing
    call SetPlayerTechResearched(Player(0), 'Ropm', 1)
    call SetPlayerTechMaxAllowed(Player(0), 'R603', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R60C', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R60D', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R60L', 0)
    call SetPlayerTechResearched(Player(0), 'R602', 1)
    call SetPlayerTechMaxAllowed(Player(0), 'R60M', 0)
endfunction

function InitUpgrades_Player1 takes nothing returns nothing
    call SetPlayerTechResearched(Player(1), 'Rhde', 1)
endfunction

function InitUpgrades_Player4 takes nothing returns nothing
    call SetPlayerTechResearched(Player(4), 'R001', 3)
    call SetPlayerTechResearched(Player(4), 'Rusl', 1)
endfunction

function InitUpgrades_Player5 takes nothing returns nothing
    call SetPlayerTechResearched(Player(5), 'Rhme', 3)
    call SetPlayerTechResearched(Player(5), 'Rhar', 3)
endfunction

function InitUpgrades_Player9 takes nothing returns nothing
    call SetPlayerTechResearched(Player(9), 'Rhgb', 1)
    call SetPlayerTechResearched(Player(9), 'Rhde', 1)
endfunction

function InitUpgrades_Player15 takes nothing returns nothing
    call SetPlayerTechResearched(Player(15), 'Rhde', 1)
    call SetPlayerTechResearched(Player(15), 'Rhse', 1)
endfunction

function InitUpgrades takes nothing returns nothing
    call InitUpgrades_Player0()
    call SetPlayerTechResearched(Player(1), 'Rhde', 1) // INLINED!!
    call InitUpgrades_Player4()
    call InitUpgrades_Player5()
    call InitUpgrades_Player9()
    call InitUpgrades_Player15()
endfunction

//***************************************************************************
//*
//*  TechTree
//*
//***************************************************************************

function InitTechTree_Player0 takes nothing returns nothing
    call SetPlayerTechMaxAllowed(Player(0), 'h600', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'oshm', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'odoc', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'otbr', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'owyv', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'okod', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'orai', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'otau', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ohun', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ocat', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Oshd', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Otch', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Ofar', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Obla', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ogre', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ostr', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ofrt', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'obar', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ofor', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'otto', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'osld', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'obea', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'otrb', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'owtw', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ovln', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ospm', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'oalt', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'n609', 0)
endfunction

function InitTechTree takes nothing returns nothing
    call InitTechTree_Player0()
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation(Player(0), 0)
    call ForcePlayerStartLocation(Player(0), 0)
    call SetPlayerColor(Player(0), ConvertPlayerColor(0))
    call SetPlayerRacePreference(Player(0), RACE_PREF_ORC)
    call SetPlayerRaceSelectable(Player(0), false)
    call SetPlayerController(Player(0), MAP_CONTROL_USER)

    // Player 1
    call SetPlayerStartLocation(Player(1), 1)
    call SetPlayerColor(Player(1), ConvertPlayerColor(1))
    call SetPlayerRacePreference(Player(1), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(1), false)
    call SetPlayerController(Player(1), MAP_CONTROL_COMPUTER)

    // Player 4
    call SetPlayerStartLocation(Player(4), 2)
    call ForcePlayerStartLocation(Player(4), 2)
    call SetPlayerColor(Player(4), ConvertPlayerColor(4))
    call SetPlayerRacePreference(Player(4), RACE_PREF_ORC)
    call SetPlayerRaceSelectable(Player(4), false)
    call SetPlayerController(Player(4), MAP_CONTROL_COMPUTER)

    // Player 5
    call SetPlayerStartLocation(Player(5), 3)
    call ForcePlayerStartLocation(Player(5), 3)
    call SetPlayerColor(Player(5), ConvertPlayerColor(5))
    call SetPlayerRacePreference(Player(5), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(5), false)
    call SetPlayerController(Player(5), MAP_CONTROL_COMPUTER)

    // Player 8
    call SetPlayerStartLocation(Player(8), 4)
    call ForcePlayerStartLocation(Player(8), 4)
    call SetPlayerColor(Player(8), ConvertPlayerColor(8))
    call SetPlayerRacePreference(Player(8), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(8), false)
    call SetPlayerController(Player(8), MAP_CONTROL_COMPUTER)

    // Player 9
    call SetPlayerStartLocation(Player(9), 5)
    call ForcePlayerStartLocation(Player(9), 5)
    call SetPlayerColor(Player(9), ConvertPlayerColor(9))
    call SetPlayerRacePreference(Player(9), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(9), false)
    call SetPlayerController(Player(9), MAP_CONTROL_COMPUTER)

    // Player 12
    call SetPlayerStartLocation(Player(12), 6)
    call ForcePlayerStartLocation(Player(12), 6)
    call SetPlayerColor(Player(12), ConvertPlayerColor(12))
    call SetPlayerRacePreference(Player(12), RACE_PREF_ORC)
    call SetPlayerRaceSelectable(Player(12), false)
    call SetPlayerController(Player(12), MAP_CONTROL_COMPUTER)

    // Player 14
    call SetPlayerStartLocation(Player(14), 7)
    call ForcePlayerStartLocation(Player(14), 7)
    call SetPlayerColor(Player(14), ConvertPlayerColor(14))
    call SetPlayerRacePreference(Player(14), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(14), false)
    call SetPlayerController(Player(14), MAP_CONTROL_NEUTRAL)

    // Player 15
    call SetPlayerStartLocation(Player(15), 8)
    call ForcePlayerStartLocation(Player(15), 8)
    call SetPlayerColor(Player(15), ConvertPlayerColor(15))
    call SetPlayerRacePreference(Player(15), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(15), false)
    call SetPlayerController(Player(15), MAP_CONTROL_COMPUTER)

    // Player 19
    call SetPlayerStartLocation(Player(19), 9)
    call ForcePlayerStartLocation(Player(19), 9)
    call SetPlayerColor(Player(19), ConvertPlayerColor(19))
    call SetPlayerRacePreference(Player(19), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(19), false)
    call SetPlayerController(Player(19), MAP_CONTROL_NEUTRAL)

    // Player 20
    call SetPlayerStartLocation(Player(20), 10)
    call SetPlayerColor(Player(20), ConvertPlayerColor(20))
    call SetPlayerRacePreference(Player(20), RACE_PREF_ORC)
    call SetPlayerRaceSelectable(Player(20), false)
    call SetPlayerController(Player(20), MAP_CONTROL_NEUTRAL)

    // Player 21
    call SetPlayerStartLocation(Player(21), 11)
    call SetPlayerColor(Player(21), ConvertPlayerColor(21))
    call SetPlayerRacePreference(Player(21), RACE_PREF_ORC)
    call SetPlayerRaceSelectable(Player(21), false)
    call SetPlayerController(Player(21), MAP_CONTROL_COMPUTER)

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_269
    call SetPlayerTeam(Player(0), 0)
    call SetPlayerState(Player(0), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(1), 0)
    call SetPlayerState(Player(1), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(4), 0)
    call SetPlayerState(Player(4), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(5), 0)
    call SetPlayerState(Player(5), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(8), 0)
    call SetPlayerState(Player(8), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(9), 0)
    call SetPlayerState(Player(9), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(12), 0)
    call SetPlayerState(Player(12), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(14), 0)
    call SetPlayerState(Player(14), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(15), 0)
    call SetPlayerState(Player(15), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(19), 0)
    call SetPlayerState(Player(19), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(20), 0)
    call SetPlayerState(Player(20), PLAYER_STATE_ALLIED_VICTORY, 1)

    //   Allied
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(12), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(14), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(15), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(19), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(20), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(12), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(14), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(15), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(19), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(20), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(12), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(14), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(15), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(19), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(20), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(12), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(14), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(15), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(19), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(20), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(12), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(14), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(15), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(19), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(20), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(12), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(14), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(15), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(19), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(20), true)
    call SetPlayerAllianceStateAllyBJ(Player(12), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(12), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(12), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(12), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(12), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(12), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(12), Player(14), true)
    call SetPlayerAllianceStateAllyBJ(Player(12), Player(15), true)
    call SetPlayerAllianceStateAllyBJ(Player(12), Player(19), true)
    call SetPlayerAllianceStateAllyBJ(Player(12), Player(20), true)
    call SetPlayerAllianceStateAllyBJ(Player(14), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(14), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(14), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(14), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(14), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(14), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(14), Player(12), true)
    call SetPlayerAllianceStateAllyBJ(Player(14), Player(15), true)
    call SetPlayerAllianceStateAllyBJ(Player(14), Player(19), true)
    call SetPlayerAllianceStateAllyBJ(Player(14), Player(20), true)
    call SetPlayerAllianceStateAllyBJ(Player(15), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(15), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(15), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(15), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(15), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(15), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(15), Player(12), true)
    call SetPlayerAllianceStateAllyBJ(Player(15), Player(14), true)
    call SetPlayerAllianceStateAllyBJ(Player(15), Player(19), true)
    call SetPlayerAllianceStateAllyBJ(Player(15), Player(20), true)
    call SetPlayerAllianceStateAllyBJ(Player(19), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(19), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(19), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(19), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(19), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(19), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(19), Player(12), true)
    call SetPlayerAllianceStateAllyBJ(Player(19), Player(14), true)
    call SetPlayerAllianceStateAllyBJ(Player(19), Player(15), true)
    call SetPlayerAllianceStateAllyBJ(Player(19), Player(20), true)
    call SetPlayerAllianceStateAllyBJ(Player(20), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(20), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(20), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(20), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(20), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(20), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(20), Player(12), true)
    call SetPlayerAllianceStateAllyBJ(Player(20), Player(14), true)
    call SetPlayerAllianceStateAllyBJ(Player(20), Player(15), true)
    call SetPlayerAllianceStateAllyBJ(Player(20), Player(19), true)

    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(12), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(14), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(15), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(19), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(20), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(12), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(14), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(15), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(19), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(20), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(12), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(14), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(15), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(19), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(20), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(12), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(14), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(15), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(19), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(20), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(12), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(14), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(15), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(19), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(20), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(12), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(14), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(15), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(19), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(20), true)
    call SetPlayerAllianceStateVisionBJ(Player(12), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(12), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(12), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(12), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(12), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(12), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(12), Player(14), true)
    call SetPlayerAllianceStateVisionBJ(Player(12), Player(15), true)
    call SetPlayerAllianceStateVisionBJ(Player(12), Player(19), true)
    call SetPlayerAllianceStateVisionBJ(Player(12), Player(20), true)
    call SetPlayerAllianceStateVisionBJ(Player(14), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(14), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(14), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(14), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(14), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(14), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(14), Player(12), true)
    call SetPlayerAllianceStateVisionBJ(Player(14), Player(15), true)
    call SetPlayerAllianceStateVisionBJ(Player(14), Player(19), true)
    call SetPlayerAllianceStateVisionBJ(Player(14), Player(20), true)
    call SetPlayerAllianceStateVisionBJ(Player(15), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(15), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(15), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(15), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(15), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(15), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(15), Player(12), true)
    call SetPlayerAllianceStateVisionBJ(Player(15), Player(14), true)
    call SetPlayerAllianceStateVisionBJ(Player(15), Player(19), true)
    call SetPlayerAllianceStateVisionBJ(Player(15), Player(20), true)
    call SetPlayerAllianceStateVisionBJ(Player(19), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(19), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(19), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(19), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(19), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(19), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(19), Player(12), true)
    call SetPlayerAllianceStateVisionBJ(Player(19), Player(14), true)
    call SetPlayerAllianceStateVisionBJ(Player(19), Player(15), true)
    call SetPlayerAllianceStateVisionBJ(Player(19), Player(20), true)
    call SetPlayerAllianceStateVisionBJ(Player(20), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(20), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(20), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(20), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(20), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(20), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(20), Player(12), true)
    call SetPlayerAllianceStateVisionBJ(Player(20), Player(14), true)
    call SetPlayerAllianceStateVisionBJ(Player(20), Player(15), true)
    call SetPlayerAllianceStateVisionBJ(Player(20), Player(19), true)

    // Force: TRIGSTR_267
    call SetPlayerTeam(Player(21), 1)

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount(1, 6)
    call SetStartLocPrio(1, 0, 2, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(1, 1, 3, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(1, 2, 6, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(1, 3, 7, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(1, 4, 10, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(1, 5, 11, MAP_LOC_PRIO_LOW)

    call SetEnemyStartLocPrioCount(1, 2)
    call SetEnemyStartLocPrio(1, 0, 3, MAP_LOC_PRIO_HIGH)
    call SetEnemyStartLocPrio(1, 1, 5, MAP_LOC_PRIO_LOW)

    call SetStartLocPrioCount(2, 5)
    call SetStartLocPrio(2, 0, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 1, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 2, 10, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 3, 11, MAP_LOC_PRIO_HIGH)

    call SetEnemyStartLocPrioCount(2, 7)
    call SetEnemyStartLocPrio(2, 0, 1, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(2, 1, 3, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(2, 2, 4, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(2, 3, 5, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(2, 4, 6, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(2, 5, 7, MAP_LOC_PRIO_LOW)

    call SetStartLocPrioCount(3, 4)
    call SetStartLocPrio(3, 0, 2, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(3, 1, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 2, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 3, 10, MAP_LOC_PRIO_HIGH)

    call SetEnemyStartLocPrioCount(3, 8)
    call SetEnemyStartLocPrio(3, 0, 0, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(3, 1, 1, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(3, 2, 2, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(3, 3, 4, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(3, 4, 5, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(3, 5, 6, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(3, 6, 7, MAP_LOC_PRIO_LOW)

    call SetStartLocPrioCount(4, 2)
    call SetStartLocPrio(4, 0, 6, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(4, 1, 9, MAP_LOC_PRIO_LOW)

    call SetEnemyStartLocPrioCount(4, 1)
    call SetEnemyStartLocPrio(4, 0, 6, MAP_LOC_PRIO_LOW)

    call SetStartLocPrioCount(5, 1)
    call SetStartLocPrio(5, 0, 9, MAP_LOC_PRIO_HIGH)

    call SetEnemyStartLocPrioCount(5, 4)
    call SetEnemyStartLocPrio(5, 0, 1, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(5, 1, 2, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(5, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetEnemyStartLocPrio(5, 3, 9, MAP_LOC_PRIO_LOW)

    call SetStartLocPrioCount(6, 2)
    call SetStartLocPrio(6, 0, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 1, 9, MAP_LOC_PRIO_LOW)

    call SetEnemyStartLocPrioCount(6, 2)
    call SetEnemyStartLocPrio(6, 0, 3, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(6, 1, 7, MAP_LOC_PRIO_LOW)

    call SetStartLocPrioCount(7, 5)
    call SetStartLocPrio(7, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 2, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 3, 6, MAP_LOC_PRIO_LOW)

    call SetEnemyStartLocPrioCount(7, 2)
    call SetEnemyStartLocPrio(7, 0, 4, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(7, 1, 5, MAP_LOC_PRIO_LOW)

    call SetStartLocPrioCount(8, 4)
    call SetStartLocPrio(8, 0, 2, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 1, 3, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 2, 5, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 3, 11, MAP_LOC_PRIO_LOW)

    call SetEnemyStartLocPrioCount(8, 9)
    call SetEnemyStartLocPrio(8, 0, 1, MAP_LOC_PRIO_HIGH)
    call SetEnemyStartLocPrio(8, 1, 2, MAP_LOC_PRIO_HIGH)
    call SetEnemyStartLocPrio(8, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetEnemyStartLocPrio(8, 3, 4, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(8, 4, 5, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(8, 5, 6, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(8, 6, 10, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(8, 7, 11, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(9, 7)
    call SetStartLocPrio(9, 0, 1, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(9, 1, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 2, 3, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(9, 3, 4, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(9, 4, 5, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(9, 5, 6, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(9, 6, 7, MAP_LOC_PRIO_LOW)

    call SetEnemyStartLocPrioCount(9, 5)
    call SetEnemyStartLocPrio(9, 0, 2, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(9, 1, 3, MAP_LOC_PRIO_HIGH)
    call SetEnemyStartLocPrio(9, 2, 4, MAP_LOC_PRIO_HIGH)
    call SetEnemyStartLocPrio(9, 3, 7, MAP_LOC_PRIO_HIGH)
    call SetEnemyStartLocPrio(9, 4, 11, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(10, 2)
    call SetStartLocPrio(10, 0, 2, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(10, 1, 8, MAP_LOC_PRIO_LOW)

    call SetEnemyStartLocPrioCount(10, 2)
    call SetEnemyStartLocPrio(10, 0, 2, MAP_LOC_PRIO_LOW)
    call SetEnemyStartLocPrio(10, 1, 3, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(11, 2)
    call SetStartLocPrio(11, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(11, 1, 1, MAP_LOC_PRIO_LOW)

    call SetEnemyStartLocPrioCount(11, 1)
    call SetEnemyStartLocPrio(11, 0, 3, MAP_LOC_PRIO_HIGH)
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds(- 18432.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), - 26240.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 15872.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 9728.0 - GetCameraMargin(CAMERA_MARGIN_TOP), - 18432.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 9728.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 15872.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), - 26240.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
    call SetDayNightModels("Environment\\DNC\\DNCDalaran\\DNCDalaranTerrain\\DNCDalaranTerrain.mdl", "Environment\\DNC\\DNCDalaran\\DNCDalaranUnit\\DNCDalaranUnit.mdl")
    call SetTerrainFogEx(0, 2500.0, 18000.0, 0.500, 0.502, 0.502, 0.686)
    call SetWaterBaseColor(84, 135, 188, 255)
    call NewSoundEnvironment("lake")
    call SetAmbientDaySound("CityScapeDay")
    call SetAmbientNightSound("CityScapeNight")
    call SetMapMusic("Music", true, 0)
    call InitSounds()
    call CreateRegions()
    call CreateCameras()
    call InitUpgrades()
    call InitTechTree_Player0() // INLINED!!
    call CreateAllDestructables()
    call CreateAllItems()
    call CreateAllUnits()
    call InitBlizzard()

call ExecuteFunc("jasshelper__initstructs19870953")
call ExecuteFunc("TimerUtils___init")
call ExecuteFunc("IsUnitContructing___init")

    call InitGlobals()
    call InitCustomTriggers()
    call RunInitializationTriggers()

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName("TRIGSTR_001")
    call SetMapDescription("TRIGSTR_003")
    call SetPlayers(12)
    call SetTeams(12)
    call SetGamePlacement(MAP_PLACEMENT_USE_MAP_SETTINGS)

    call DefineStartLocation(0, 128.0, 3968.0)
    call DefineStartLocation(1, 5632.0, 5632.0)
    call DefineStartLocation(2, 5248.0, 3904.0)
    call DefineStartLocation(3, 8896.0, 4480.0)
    call DefineStartLocation(4, 7360.0, - 1664.0)
    call DefineStartLocation(5, 3264.0, 1856.0)
    call DefineStartLocation(6, 7680.0, - 14912.0)
    call DefineStartLocation(7, - 2432.0, 3264.0)
    call DefineStartLocation(8, 1600.0, 4672.0)
    call DefineStartLocation(9, 9792.0, 5440.0)
    call DefineStartLocation(10, 1088.0, - 14784.0)
    call DefineStartLocation(11, 2176.0, - 17280.0)

    // Player setup
    call InitCustomPlayerSlots()
    call InitCustomTeams()
    call InitAllyPriorities()
endfunction




//Struct method generated initializers/callers:

//Functions for BigArrays:
function sa___prototype8_TimerUtils___init takes nothing returns boolean

     local integer i=0
     local integer o=- 1
     local boolean oops= false
        if ( TimerUtils___didinit ) then
    return true
        else
            set TimerUtils___didinit=true
        endif
            set TimerUtils___ht=InitHashtable()
            loop
                exitwhen ( i == TimerUtils___QUANTITY )
                set s__TimerUtils___tT[i]= CreateTimer()
                call SaveInteger(TimerUtils___ht, 0, GetHandleId((s__TimerUtils___tT[i] )), ( TimerUtils___HELD)) // INLINED!!
                set i=i + 1
            endloop
            set TimerUtils___tN=TimerUtils___QUANTITY
    return true
endfunction

function jasshelper__initstructs19870953 takes nothing returns nothing
    set st___prototype8[1]=CreateTrigger()
    call TriggerAddAction(st___prototype8[1],function sa___prototype8_TimerUtils___init)
    call TriggerAddCondition(st___prototype8[1],Condition(function sa___prototype8_TimerUtils___init))

call ExecuteFunc("s__BlizzardMessage___InitStruct_BlizzardMessage___BMInit__onInit")

















































call ExecuteFunc("s__WorldBounds_WorldBounds___WorldBoundInit__onInit")






call ExecuteFunc("s__RegisterNativeEvent___NativeEvent_RegisterNativeEvent___NativeEventInit__onInit")


call ExecuteFunc("s__IntegerList_Alloc__onInit")

call ExecuteFunc("s__ConstructEvent___PeriodicData_Alloc__onInit")

call ExecuteFunc("s__ConstructEvent_ConstructEvent___ConstructEventInit__onInit")

call ExecuteFunc("s__SpellEffectEvent___S_SpellEffectEvent___M__onInit")

endfunction

