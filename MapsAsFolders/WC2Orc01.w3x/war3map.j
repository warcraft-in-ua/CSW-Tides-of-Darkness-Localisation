globals
//globals from BlizzardMessage:
constant boolean LIBRARY_BlizzardMessage=true
   
constant real MSG_DURATION= 2.00
   
        
       
constant integer ALLY_HERO_DIES_HUMAN= 0
constant integer ALLY_HERO_DIES_NAGA= 1
constant integer ALLY_HERO_DIES_NIGHTELF= 2
constant integer ALLY_HERO_DIES_ORC= 3
constant integer ALLY_HERO_DIES_UNDEAD= 4
constant integer ALLY_TOWN_UNDER_ATTACK_HUMAN= 5
constant integer ALLY_TOWN_UNDER_ATTACK_NAGA= 6
constant integer ALLY_TOWN_UNDER_ATTACK_NIGHTELF= 7
constant integer ALLY_TOWN_UNDER_ATTACK_ORC= 8
constant integer ALLY_TOWN_UNDER_ATTACK_UNDEAD= 9
constant integer ALLY_UNDER_ATTACK_HUMAN= 10
constant integer ALLY_UNDER_ATTACK_NAGA= 11
constant integer ALLY_UNDER_ATTACK_NIGHTELF= 12
constant integer ALLY_UNDER_ATTACK_ORC= 13
constant integer ALLY_UNDER_ATTACK_UNDEAD= 14
constant integer ARRANGED_TEAM_INVITATION= 15
constant integer AUTO_CAST_BUTTON_CLICK= 16
constant integer CANT_PLACE_HUMAN= 17
constant integer CANT_PLACE_NAGA= 18
constant integer CANT_PLACE_NIGHTELF= 19
constant integer CANT_PLACE_ORC= 20
constant integer CANT_PLACE_UNDEAD= 21
constant integer CANT_ROOT_NIGHTELF= 22
constant integer CHATROOM_TIMER_TICK= 23
constant integer CLAN_INVITATION= 24
constant integer CONSTRUCTING_BUILDING_DEFAULT= 25
constant integer CONSTRUCTING_BUILDING_NAGA= 26
constant integer CONSTRUCTING_BUILDING_NIGHTELF= 27
constant integer CONSTRUCTING_BUILDING_ORC= 28
constant integer CONSTRUCTING_BUILDING_UNDEAD= 29
constant integer CREEP_AGGRO= 30
constant integer ERROR_MESSAGE= 31
constant integer GAME_FOUND= 32
constant integer GLUE_SCREEN_CLICK= 33
constant integer GOLD_MINE_COLLAPSE_HUMAN= 34
constant integer GOLD_MINE_COLLAPSE_NAGA= 35
constant integer GOLD_MINE_COLLAPSE_NIGHTELF= 36
constant integer GOLD_MINE_COLLAPSE_ORC= 37
constant integer GOLD_MINE_COLLAPSE_UNDEAD= 38
constant integer GOLD_MINE_LOW_GENERIC= 39
constant integer GOLD_MINE_LOW_HUMAN= 40
constant integer GOLD_MINE_LOW_NAGA= 41
constant integer GOLD_MINE_LOW_NIGHTELF= 42
constant integer GOLD_MINE_LOW_ORC= 43
constant integer GOLD_MINE_LOW_UNDEAD= 44
constant integer GOOD_JOB= 45
constant integer HERO_DIES_GENERIC= 46
constant integer HERO_DIES_HUMAN= 47
constant integer HERO_DIES_NAGA= 48
constant integer HERO_DIES_NIGHTELF= 49
constant integer HERO_DIES_ORC= 50
constant integer HERO_DIES_UNDEAD= 51
constant integer HINT= 52
constant integer IN_GAME_CHAT_WHAT= 53
constant integer INTERFACE_CLICK= 54
constant integer INTERFACE_ERROR= 55
constant integer INVENTORY_FULL_HUMAN= 56
constant integer INVENTORY_FULL_NAGA= 57
constant integer INVENTORY_FULL_NIGHTELF= 58
constant integer INVENTORY_FULL_ORC= 59
constant integer INVENTORY_FULL_UNDEAD= 60
constant integer ITEM_DROP= 61
constant integer ITEM_GET= 62
constant integer ITEM_REWARD= 63
constant integer JOB_DONE_SOUND_HUMAN= 64
constant integer JOB_DONE_SOUND_NAGA= 65
constant integer JOB_DONE_SOUND_NIGHTELF= 66
constant integer JOB_DONE_SOUND_ORC= 67
constant integer JOB_DONE_SOUND_UNDEAD= 68
constant integer MAP_PING= 69
constant integer MENU_BUTTON_CLICK= 70
constant integer NEW_TOURNAMENT= 71
constant integer NO_FOOD_HUMAN= 72
constant integer NO_FOOD_NAGA= 73
constant integer NO_FOOD_NIGHTELF= 74
constant integer NO_FOOD_ORC= 75
constant integer NO_FOOD_UNDEAD= 76
constant integer NO_GOLD_GENERIC= 77
constant integer NO_GOLD_HUMAN= 78
constant integer NO_GOLD_NAGA= 79
constant integer NO_GOLD_NIGHTELF= 80
constant integer NO_GOLD_ORC= 81
constant integer NO_GOLD_UNDEAD= 82
constant integer NO_LUMBER_HUMAN= 83
constant integer NO_LUMBER_NAGA= 84
constant integer NO_LUMBER_NIGHTELF= 85
constant integer NO_LUMBER_ORC= 86
constant integer NO_LUMBER_UNDEAD= 87
constant integer NO_MANA_GENERIC= 88
constant integer NO_MANA_HUMAN= 89
constant integer NO_MANA_NAGA= 90
constant integer NO_MANA_NIGHTELF= 91
constant integer NO_MANA_ORC= 92
constant integer NO_MANA_UNDEAD= 93
constant integer OFF_BLIGHT_UNDEAD= 94
constant integer PAUSE_GAME= 95
constant integer PLACE_BUILDING_DEFAULT= 96
constant integer QUEST_COMPLETED= 97
constant integer QUEST_FAILED= 98
constant integer QUEST_LOG_MODIFIED= 99
constant integer QUEST_NEW= 100
constant integer QUEST_UPDATE= 101
constant integer RALLY_POINT_PLACE= 102
constant integer RESCUE= 103
constant integer RESEARCH_COMPLETE_GENERIC= 104
constant integer RESEARCH_COMPLETE_HUMAN= 105
constant integer RESEARCH_COMPLETE_NAGA= 106
constant integer RESEARCH_COMPLETE_NIGHTELF= 107
constant integer RESEARCH_COMPLETE_ORC= 108
constant integer RESEARCH_COMPLETE_UNDEAD= 109
constant integer SCORE_SCREEN_TAB_CLICK= 110
constant integer SECRET_FOUND= 111
constant integer SUB_GROUP_SELECTION_CHANGE= 112
constant integer TOWN_ATTACK_GENERIC= 113
constant integer TOWN_ATTACK_HUMAN= 114
constant integer TOWN_ATTACK_NAGA= 115
constant integer TOWN_ATTACK_NIGHTELF= 116
constant integer TOWN_ATTACK_ORC= 117
constant integer TOWN_ATTACK_UNDEAD= 118
constant integer UNDER_ATTACK_HUMAN= 119
constant integer UNDER_ATTACK_NAGA= 120
constant integer UNDER_ATTACK_NIGHTELF= 121
constant integer UNDER_ATTACK_ORC= 122
constant integer UNDER_ATTACK_UNDEAD= 123
constant integer UPGRADE_COMPLETE_GENERIC= 124
constant integer UPGRADE_COMPLETE_HUMAN= 125
constant integer UPGRADE_COMPLETE_NAGA= 126
constant integer UPGRADE_COMPLETE_NIGHTELF= 127
constant integer UPGRADE_COMPLETE_ORC= 128
constant integer UPGRADE_COMPLETE_UNDEAD= 129
constant integer UPKEEP_LEVEL= 130
constant integer WARNING= 131
constant integer WAYPOINT= 132
   
string array SOUND_LABEL
//endglobals from BlizzardMessage
//globals from LinkedList:
constant boolean LIBRARY_LinkedList=true
constant boolean LinkedList__THROW_ERRORS= true
//endglobals from LinkedList
//globals from Table:
constant boolean LIBRARY_Table=true
integer Table__less= 0
integer Table__more= 8190
    //Configure it if you use more than 8190 "key" variables in your map (this will never happen though).
    
hashtable Table__ht= InitHashtable()
constant integer Table__sizeK=8
constant integer Table__listK=9
//endglobals from Table
//globals from TimerUtils:
constant boolean LIBRARY_TimerUtils=true
        //How to tweak timer utils:
        // USE_HASH_TABLE = true  (new blue)
        //  * SAFEST
        //  * SLOWEST (though hash tables are kind of fast)
        //
        // USE_HASH_TABLE = false, USE_FLEXIBLE_OFFSET = true  (orange)
        //  * kinda safe (except there is a limit in the number of timers)
        //  * ALMOST FAST
        //
        // USE_HASH_TABLE = false, USE_FLEXIBLE_OFFSET = false (red)
        //  * THE FASTEST (though is only  faster than the previous method
        //                  after using the optimizer on the map)
        //  * THE LEAST SAFE ( you may have to tweak OFSSET manually for it to
        //                     work)
        //
constant boolean TimerUtils__USE_HASH_TABLE= true
constant boolean TimerUtils__USE_FLEXIBLE_OFFSET= false

constant integer TimerUtils__OFFSET= 0x100000
integer TimerUtils__VOFFSET= TimerUtils__OFFSET
              
        //Timers to preload at map init:
constant integer TimerUtils__QUANTITY= 256
        
        //Changing this  to something big will allow you to keep recycling
        // timers even when there are already AN INCREDIBLE AMOUNT of timers in
        // the stack. But it will make things far slower so that's probably a bad idea...
constant integer TimerUtils__ARRAY_SIZE= 8190

// processed:         integer array TimerUtils__data[TimerUtils__ARRAY_SIZE]
hashtable TimerUtils__ht
// processed:         timer array TimerUtils__tT[TimerUtils__ARRAY_SIZE]
integer TimerUtils__tN= 0
constant integer TimerUtils__HELD=0x28829022
        //use a totally random number here, the more improbable someone uses it, the better.
        
boolean TimerUtils__didinit= false
//endglobals from TimerUtils
//globals from WorldBounds:
constant boolean LIBRARY_WorldBounds=true
//endglobals from WorldBounds
//globals from Alloc:
constant boolean LIBRARY_Alloc=true
//endglobals from Alloc
//globals from DelayedOrder:
constant boolean LIBRARY_DelayedOrder=true
//endglobals from DelayedOrder
//globals from EffectUtils:
constant boolean LIBRARY_EffectUtils=true
//endglobals from EffectUtils
//globals from IsUnitContructing:
constant boolean LIBRARY_IsUnitContructing=true
//endglobals from IsUnitContructing
//globals from RegisterNativeEvent:
constant boolean LIBRARY_RegisterNativeEvent=true
integer RegisterNativeEvent__eventIndex= 500
//endglobals from RegisterNativeEvent
//globals from ListT:
constant boolean LIBRARY_ListT=true
//endglobals from ListT
//globals from RegisterPlayerUnitEvent:
constant boolean LIBRARY_RegisterPlayerUnitEvent=true
//endglobals from RegisterPlayerUnitEvent
//globals from ConstructEvent:
constant boolean LIBRARY_ConstructEvent=true
integer EVENT_UNIT_CONSTRUCTION_START
integer EVENT_UNIT_CONSTRUCTION_FINISH
integer EVENT_UNIT_CONSTRUCTION_CANCEL
integer EVENT_UNIT_CONSTRUCTION_INTERRUPT
integer ConstructEvent__ongoing= 0
timer ConstructEvent__looper= CreateTimer()
unit ConstructEvent__eventBuilder= null
unit ConstructEvent__eventConstruct= null

unit array ConstructEvent__builders
boolean array ConstructEvent__finished
integer array ConstructEvent__instances
boolean array ConstructEvent__cancelled
//endglobals from ConstructEvent
//globals from OrderEvent:
constant boolean LIBRARY_OrderEvent=true
integer OrderEvent__t= 0
//endglobals from OrderEvent
//globals from SpellEffectEvent:
constant boolean LIBRARY_SpellEffectEvent=true
//endglobals from SpellEffectEvent
//globals from OilHarvest:
constant boolean LIBRARY_OilHarvest=true
    // Parameters
constant real OilHarvest__TEXT_TAG_HEIGHT= 360.
constant real OilHarvest__FONT_SIZE= TextTagSize2Height(10.)
constant string OilHarvest__FONT_COLOUR= "|cff0a32aa"
    
constant integer OilHarvest__OIL_PATCH_AMOUNT_DEFAULT= 12500
constant integer OilHarvest__OIL_PATCH_UNIT_ID= 'n60P'
constant real OilHarvest__OIL_ZONE_LENGTH= 200.
constant real OilHarvest__OIL_ZONE_HEIGHT= 200.

constant integer OilHarvest__OIL_LOW_WARNING_THRESHOLD= 1000
constant real OilHarvest__LOW_WARNING_DURATION= 4.
constant integer OilHarvest__LOW_WARNING_R= 255
constant integer OilHarvest__LOW_WARNING_G= 255
constant integer OilHarvest__LOW_WARNING_B= 0
constant boolean OilHarvest__LOW_WARNING_STYLE= false
constant string OilHarvest__LOW_WARNING_ORC= "Sound\\Interface\\Warning\\Orc\\GruntOilPatchLow1.flac"
constant string OilHarvest__LOW_WARNING_HUMAN= "Sound\\Interface\\Warning\\Human\\HumanOilPatchLow1.flac"
constant string OilHarvest__LOW_WARNING_MESSAGE= "The oil patch is running low"
constant string OilHarvest__LOW_WARNING_COLOUR_CODE= "|c00FF7F00"

constant real OilHarvest__DEPLETED_WARNING_DURATION= 4.
constant integer OilHarvest__DEPLETED_WARNING_R= 255
constant integer OilHarvest__DEPLETED_WARNING_G= 0
constant integer OilHarvest__DEPLETED_WARNING_B= 0
constant boolean OilHarvest__DEPLETED_WARNING_STYLE= false
constant string OilHarvest__DEPLETED_WARNING_ORC= "Sound\\Interface\\Warning\\Orc\\GruntOilPatchDepleted1.flac"
constant string OilHarvest__DEPLETED_WARNING_HUMAN= "Sound\\Interface\\Warning\\Human\\HumanOilPatchLow1.flac"
constant string OilHarvest__DEPLETED_WARNING_MESSAGE= "|c00640000Oil patch is depleted|r"
constant string OilHarvest__DEPLETED_WARNING_COLOUR_CODE= "|c00640000"

    // Amount of Oil collected per run
constant integer OilHarvest__OIL_COLLECTION_RATE_DEFAULT= 100
constant real OilHarvest__OIL_COLLECTION_INTERVAL= 3.
constant integer OilHarvest__ORDER_COLLECTOR_ACTION_ORDER= 852529
constant integer OilHarvest__ORDER_SMART= 851971

    // frames
constant real OilHarvest__OIL_UI_ICON_SIZE= .01640625
constant integer OilHarvest__OIL_UI_FONT_SIZE= 11
constant real OilHarvest__OIL_UI_MASTER_FRAME_X= .0705
constant real OilHarvest__OIL_UI_MASTER_FRAME_Y= OilHarvest__OIL_UI_ICON_SIZE
constant real OilHarvest__OIL_UI_FRAME_OFFSET= .016
constant real OilHarvest__OIL_UI_AMOUNT_OFFSET= .0005
constant string OilHarvest__OIL_UI_ICON_PATH= "UI\\resourceoil.dds"
    // private constant real OIL_UI_

framehandle OilHarvest__oilMasterFrame= null
framehandle OilHarvest__oilHoverFrame= null
framehandle OilHarvest__oilIcon= null
framehandle OilHarvest__oilAmount= null
framehandle OilHarvest__oilTooltip= null
framehandle OilHarvest__oilTooltipTitle= null

    // Abilities

        // This identifies Oil Patches as being just that, Oil Patches. It will automatically create a rect around the
        // Oil Patch so that any Rigs constructed on top of it will know which Patch it's supposed to interract with.
        // Can be a hidden dummy ability.
constant integer OIL_PATCH_ABIL= 'A00J'

        // The ability that idenfies a unit as being an Oil Rig, and thus will accept Collectors to gather Oil from it.
        // Can be a hidden dummy ability.
constant integer OIL_RIG_ABIL= 'A00K'

        // The ability that identifies a unit as being an Oil Depot, and thus will accept Collectors droping off Oil at it.
        // Can be a hidden dummy ability.
constant integer OIL_DEPOT_ABIL= 'A00L'

        // This identifies a unit as a Collector. The ability must be based on Channel, must only target player-owned
        // units, and must have ORDER_COLLECTOR_ACTION_ORDER as the order id. This is how the system knows the Collector
        // is in range to either queue it for harvesting oil at Rigs or for delivering oil at Depots (Shipyards). This
        // ability is hidden and only interacts with the system. The range must be something like 100 or lower.
constant integer OIL_COLLECTOR_ABIL= 'A00N'

        // this is the ability you see on Collectors. An empty Collector will be tasked to automatically go harvest.
        // A full Collector will automatically go deliver the oil. It is no necessary to add this ability to Tankers,
        // the system will do that for you.
constant integer COLLECTOR_ACTION_ABIL= 'A00M'

            // When the Collector has no Oil, the COLLECTOR_ACTION_ABIL will have this Icon.
constant string COLLECTOR_ABIL_ICON_EMPTY= "ReplaceableTextures\\CommandButtons\\BTNGatherGold.blp"

            // When the Collector has no Oil, the COLLECTOR_ACTION_ABIL will have this Tooltip (Name).
constant string COLLECTOR_ABIL_NAME_EMPTY= "Gather Oil"

            // When the Collector has no Oil, the COLLECTOR_ACTION_ABIL will have this Tooltip Extended (Description).
constant string COLLECTOR_ABIL_DESCRIPTION_EMPTY= "Collect Oil from Oil Rigs."

            // When the Collector has Oil, the COLLECTOR_ACTION_ABIL will have this Icon.
constant string COLLECTOR_ABIL_ICON_FULL= "ReplaceableTextures\\CommandButtons\\BTNReturnGoods.blp"

            // When the Collector has Oil, the COLLECTOR_ACTION_ABIL will have this Tooltip (Name).
constant string COLLECTOR_ABIL_NAME_FULL= "Deliver Oil"

            // When the Collector has Oil, the COLLECTOR_ACTION_ABIL will have this Tooltip Extended (Description).
constant string COLLECTOR_ABIL_DESCRIPTION_FULL= "Return the Oil to the nearest Shipyard."

    // lists
integer array OilHarvest__playerListRigs
integer array OilHarvest__playerListDepots
integer OilHarvest__listZones= 0

    // Other
integer array OilHarvest__playerOil
integer array OilHarvest__playerOilRate
constant real OilHarvest__MAX_DISTANCE= 9999999999999.
unit OilHarvest__tankerTarget= null

    // utility
constant location OilHarvest__loc= Location(0., 0.)
constant group OilHarvest__hideGroup= CreateGroup()
constant real OilHarvest__AREA_HIDE_RADIUS= 512.
boolean OilHarvest__uiVisible= true

constant player OilHarvest__NEUTRAL_PLAYER= Player(PLAYER_NEUTRAL_PASSIVE)

//endglobals from OilHarvest
    // User-defined
questitem udg_ResRequirem02= null
quest udg_Resources= null
questitem udg_ResRequirem01= null
quest udg_Landing= null
questitem udg_LandingRequirment01= null
questitem udg_LandingRequirment02= null
boolean udg_ResQuest= false
boolean udg_IntroCinemathic= false
boolean udg_IntroSkipped= false
unit udg_Rend= null
gamecache udg_Cache= null
boolean udg_NumberOfFarms= false
boolean udg_FinalCinematic= false
boolean udg_FinalSkipped= false
boolean udg_HumanCinematic= false
boolean udg_HumanCinematicSkipped= false
boolean udg_WolfCinematic= false
boolean udg_WolfCinematicSkipped= false
integer udg_Farms= 0
quest udg_WolfsQuest= null
questitem udg_WRequirem= null
unit udg_Footman01= null
unit udg_Footman02= null
unit udg_Footman03= null
quest udg_HumanQuest= null
questitem udg_HRequirem01= null
questitem udg_HRequirem02= null
timer udg_Timer= null
unit udg_PeonFinal01= null
unit udg_PeonFinal02= null
unit udg_PeonFinal03= null
unit udg_PeonFinal04= null
timerdialog udg_Timerwindow= null
group udg_SelectionGroup= null
boolean udg_ItIsAGoodDayToDie= false
boolean udg_OnScreen= false
boolean udg_Showpath= false
group udg_HiddenTroops= null
integer udg_GoldStash= 0
integer udg_LumberStash= 0
boolean udg_HumanKilledCinematic= false
boolean udg_HumanKilledCinematicSkipped= false
leaderboard udg_Board= null
real udg_WolfAttackDelayUpBoundary= 0
real udg_WolfAttackDelayDownBoundary= 0
real udg_TimerValue= 0
unit udg_TentA= null
unit udg_TentB= null
unit udg_OperationalGrunt= null
unit udg_HumanShipAloc= null
unit udg_Footman04= null
unit udg_Footman05= null
unit udg_Footman06= null
unit udg_Footman07= null
unit udg_Utok= null
camerasetup udg_VarCurrentCamera= null
string udg_Playlist
unit udg_Captain= null
group udg_PausedUnits= null
fogmodifier array udg_VisibilityModWaterfall
fogmodifier array udg_VisibilityModCliffs
boolean array udg_VisibilityBoolWaterfall
boolean array udg_VisibilityBoolCliff
boolean udg_SecretFound= false
real udg_Chance= 0
boolean array udg_CheckDeathInList
boolean array udg_IsUnitTransforming
integer array udg_UnitTypeOf
string array udg_UnitName
real udg_UnitInActionEvent= 0
boolean array udg_UnitInAction
unit array udg_KillerOfUnit
boolean array udg_IsUnitPreplaced
integer array udg_UDexPrev
integer array udg_UDexNext
unit array udg_SummonerOfUnit
boolean array udg_IsUnitNew
real udg_WorldMaxY= 0
real udg_WorldMaxX= 0
real udg_UnitTypeEvent= 0
integer udg_DetectTransformAbility= 0
boolean array udg_IsUnitRemoved
group array udg_CargoTransportGroup
unit array udg_CargoTransportUnit
real udg_CargoEvent= 0
boolean array udg_IsUnitBeingUnloaded
boolean array udg_IsUnitReincarnating
integer array udg_CheckDeathList
timer udg_CheckDeathTimer= null
real udg_DeathEvent= 0
boolean array udg_IsUnitAlive
integer udg_DetectRemoveAbility= 0
real udg_UnitIndexEvent= 0
integer udg_UDexLastRecycled= 0
boolean udg_UnitIndexerEnabled= false
integer udg_UDex= 0
unit array udg_UDexUnits
integer udg_UDexMax= 0
real udg_UnitIndexExEvent= 0
boolean array udg_IsUnitConstructing
unit udg_IndexExUnit= null
integer udg_Codex_EntriesNumber= 0
sound udg_Codex_EntrySound01= null
sound udg_Codex_EntrySound02= null
boolean udg_Codex_EntryDiscovered01= false
string udg_Codex_EntryTitle01
string udg_Codex_EntryContent01
boolean udg_Codex_EntryDiscovered02= false
string udg_Codex_EntryTitle02
string udg_Codex_EntryContent02
boolean udg_Codex_UIEnabled= false
integer udg_Codex_UISelectedEntry= 0
boolean udg_Codex_EntryDiscovered03= false
boolean udg_Codex_EntryDiscovered04= false
boolean udg_Codex_EntryDiscovered05= false
boolean udg_Codex_EntryDiscovered06= false
string udg_Codex_EntryTitle03
string udg_Codex_EntryTitle04
string udg_Codex_EntryTitle05
string udg_Codex_EntryTitle06
string udg_Codex_EntryContent03
string udg_Codex_EntryContent04
string udg_Codex_EntryContent05
string udg_Codex_EntryContent06
sound udg_Codex_EntrySound03= null
sound udg_Codex_EntrySound04= null
sound udg_Codex_EntrySound05= null
sound udg_Codex_EntrySound06= null
location udg_Rend_TempPoint_Q= null
location udg_Rend_TempPoint_R= null
unit udg_Rend_Dummy_R= null
integer udg_Rend_Attack_Count= 0
unit udg_FakeRend= null
integer udg_CreepHP= 0
integer udg_CreepDMG= 0
boolean udg_Neutral_Smart_Order= false
boolean udg_BearViewOn= false
fogmodifier udg_BearViewMod= null

    // Generated
rect gg_rct_Supply_Crates= null
rect gg_rct_Pig_Farm= null
rect gg_rct_Boat02= null
rect gg_rct_Boat00= null
rect gg_rct_UrukStart= null
rect gg_rct_Uruk01= null
rect gg_rct_Uruk02= null
rect gg_rct_Grunt01= null
rect gg_rct_Grunt02= null
rect gg_rct_Grunt03= null
rect gg_rct_Footman01= null
rect gg_rct_Footman02= null
rect gg_rct_Footman03= null
rect gg_rct_Footman04= null
rect gg_rct_Footman05= null
rect gg_rct_Footman06= null
rect gg_rct_HumanShip= null
rect gg_rct_Pitfire= null
rect gg_rct_PigEscapes= null
rect gg_rct_WolfLair= null
rect gg_rct_OrcCamp= null
rect gg_rct_WolfSpawn01= null
rect gg_rct_Rect_024= null
rect gg_rct_Grunt04= null
rect gg_rct_Grunt05= null
rect gg_rct_Ocean01= null
rect gg_rct_Ocean02= null
rect gg_rct_Ocean03= null
rect gg_rct_Ocean04= null
rect gg_rct_Ocean05= null
rect gg_rct_BoatFinal= null
rect gg_rct_PeonFinal02= null
rect gg_rct_PeonFinal01= null
rect gg_rct_PeonFinal00= null
rect gg_rct_BoarStart= null
rect gg_rct_Wolf01Start= null
rect gg_rct_Wolf02Start= null
rect gg_rct_Rect_039= null
rect gg_rct_BoneFire= null
rect gg_rct_UrukFinal= null
rect gg_rct_HumanInvasionArea= null
rect gg_rct_BannerLordaeron= null
rect gg_rct_WolfCinHide= null
rect gg_rct_PeonStartGame= null
rect gg_rct_PeonFinal03= null
rect gg_rct_TentA= null
rect gg_rct_TentB= null
rect gg_rct_OperationalGrunt= null
rect gg_rct_UtokFinal= null
rect gg_rct_PeonsWorking= null
rect gg_rct_AdditionalFootman01= null
rect gg_rct_AdditionalFootman01Patrol= null
rect gg_rct_AdditionalFootman02= null
rect gg_rct_PatrolREmoveCinematicAnim= null
rect gg_rct_Captain_Speak= null
rect gg_rct_Ocean06= null
rect gg_rct_Wterfall01= null
rect gg_rct_Wterfall02= null
rect gg_rct_Wterfall03= null
rect gg_rct_Wterfall04= null
rect gg_rct_TreesBlockedWay= null
rect gg_rct_Bear01Walking= null
rect gg_rct_Bear02Walking= null
rect gg_rct_Wterfall002Fog= null
rect gg_rct_Wterfall002FogX= null
rect gg_rct_WolfLair02= null
rect gg_rct_WolfLair03= null
rect gg_rct_TreeBridgeActivated= null
rect gg_rct_FootmanCutTheTree01= null
rect gg_rct_FootmanCutTheTree02= null
rect gg_rct_Ocean07= null
rect gg_rct_Ocean08= null
rect gg_rct_Ocean09= null
rect gg_rct_River01= null
rect gg_rct_River02= null
rect gg_rct_Ocean10= null
rect gg_rct_Ocean11= null
rect gg_rct_Ocean12= null
rect gg_rct_Ocean13= null
rect gg_rct_WaterFall01VisibilityModCenter= null
rect gg_rct_WaterFall02VisibilityModCenter= null
rect gg_rct_WaterFall03VisibilityModCenter= null
rect gg_rct_CoolCliffs03VisibilityModCenter= null
rect gg_rct_CoolCliffs01VisibilityTriggered= null
rect gg_rct_CoolCliffs02VisibilityTriggered= null
rect gg_rct_WaterFall02VisibilityTriggered= null
rect gg_rct_WaterFall03VisibilityTriggered= null
rect gg_rct_WaterFall01VisibilityTriggered= null
rect gg_rct_WaterFall04VisibilityTriggered= null
rect gg_rct_Wolf03Start= null
rect gg_rct_BoarGo= null
rect gg_rct_PatrolREmoveCinematicAnim2= null
rect gg_rct_FakeBOatDirection= null
rect gg_rct_BridgeSound= null
rect gg_rct_Boat01= null
rect gg_rct_PlatformA= null
rect gg_rct_PlatformB= null
rect gg_rct_CreatePeons= null
rect gg_rct_WolfLairEscapeCave02= null
rect gg_rct_WolfLairEscapeCave03= null
rect gg_rct_WolfLairEscapeCave01= null
rect gg_rct_ShowBear= null
camerasetup gg_cam_Intro01= null
camerasetup gg_cam_Intro02= null
camerasetup gg_cam_Human01= null
camerasetup gg_cam_Final01= null
camerasetup gg_cam_Intro08= null
camerasetup gg_cam_Camp= null
camerasetup gg_cam_Boar01= null
camerasetup gg_cam_Boar03= null
camerasetup gg_cam_HumansAppear= null
camerasetup gg_cam_SignalFireAlarm= null
camerasetup gg_cam_Catapult= null
camerasetup gg_cam_Intro09= null
camerasetup gg_cam_Human03= null
camerasetup gg_cam_Human04= null
camerasetup gg_cam_FinalBoatLoading= null
camerasetup gg_cam_Intro10= null
camerasetup gg_cam_Intro11= null
camerasetup gg_cam_Human00= null
camerasetup gg_cam_Catapult02= null
camerasetup gg_cam_Catapult03= null
camerasetup gg_cam_Catapult04= null
camerasetup gg_cam_Human05= null
camerasetup gg_cam_IntroBoatA= null
camerasetup gg_cam_IntroBoatB= null
camerasetup gg_cam_IntroDialogueA= null
sound gg_snd_GoodJob= null
sound gg_snd_Loading= null
sound gg_snd_WaterWavesLoop1= null
sound gg_snd_WaterLakeLoop1= null
sound gg_snd_Seagull1= null
sound gg_snd_DuskWolf= null
sound gg_snd_QuillBoarWhat2= null
sound gg_snd_Seagull101= null
sound gg_snd_Warning= null
sound gg_snd_BattleShipDeath1= null
sound gg_snd_QuillboarDeath= null
sound gg_snd_BundleOfLumber= null
sound gg_snd_ReceiveGold= null
sound gg_snd_O07FootmanA1101= null
sound gg_snd_O07FootmanA2201= null
sound gg_snd_H02Footman2301= null
sound gg_snd_T02Grunt04901= null
sound gg_snd_WC2Orc01Peon1= null
string gg_snd_OrcDefeat
sound gg_snd_WC2Orc01Utok1= null
sound gg_snd_WC2Orc01Utok2= null
sound gg_snd_WC2Orc01Rend9= null
sound gg_snd_WC2Orc01Rend8= null
sound gg_snd_WC2Orc01Rend7= null
sound gg_snd_WC2Orc01Rend6= null
sound gg_snd_WC2Orc01Rend5= null
sound gg_snd_WC2Orc01Rend4= null
sound gg_snd_WC2Orc01Rend3= null
sound gg_snd_WC2Orc01Rend2= null
sound gg_snd_WC2Orc01Rend1= null
sound gg_snd_WC2Orc01Peon3= null
sound gg_snd_WC2Orc01Peon2= null
sound gg_snd_PigFarmWhat1= null
sound gg_snd_CS_Prologue2_Foley1= null
sound gg_snd_CS_BG_Camp= null
sound gg_snd_CS_HU_2_Intro_Foley201= null
sound gg_snd_CS_BG_Camp01= null
sound gg_snd_CS_H01b_Orc_gesture_v2= null
sound gg_snd_OrcBuildingBirthWhat1= null
sound gg_snd_MetalLightSliceMetal1= null
sound gg_snd_AshenvaleBrazierLoop1= null
sound gg_snd_WC2Orc01Footman1= null
sound gg_snd_WC2Orc01Footman2= null
sound gg_snd_WC2Orc01Footman3= null
sound gg_snd_AbilityRend= null
sound gg_snd_AbilityWolfPack= null
sound gg_snd_BoatWhat1= null
sound gg_snd_BoatWhat2= null
sound gg_snd_BoatWhat3= null
sound gg_snd_BoatYes2= null
sound gg_snd_BoatYes1= null
sound gg_snd_WaterWaterFallLoop1= null
sound gg_snd_SupportColumnDeath1= null
sound gg_snd_WC2Orc01Captain1= null
sound gg_snd_WC2Orc01Captain2= null
sound gg_snd_WC2Orc01Captain3= null
sound gg_snd_WC2Orc01Rend10= null
sound gg_snd_Loading01= null
sound gg_snd_Loading02= null
sound gg_snd_SecretFound= null
sound gg_snd_TreeFall1= null
sound gg_snd_NagaBuildingCancel= null
sound gg_snd_FootmanYesAttack2= null
sound gg_snd_FootmanYesAttack3= null
sound gg_snd_FootmanWarcry1= null
sound gg_snd_CaptainWarcry1= null
sound gg_snd_SecretFound01= null
sound gg_snd_SecretFound02= null
sound gg_snd_Ability_Devastate= null
sound gg_snd_Ability_Rend= null
trigger gg_trg_Unit_Event_Config= null
trigger gg_trg_Unit_Event= null
trigger gg_trg_OilTextHide= null
trigger gg_trg_OilTextShow= null
trigger gg_trg_Rend_I_Devastate= null
trigger gg_trg_Rend_I_Rend= null
trigger gg_trg_LoreInitialization= null
trigger gg_trg_Codex_UI_Reload= null
trigger gg_trg_Codex_UI_Maintenance_Runtime= null
trigger gg_trg_Codex_UI_Maintenance_Menu= null
trigger gg_trg_Codex_UI_Pause= null
trigger gg_trg_Codex_UI_Unpause= null
trigger gg_trg_Codex_UI_Entry_One_Button_Clicked= null
trigger gg_trg_Codex_UI_Entry_Two_Button_Clicked= null
trigger gg_trg_Codex_UI_Entry_Three_Button_Clicked= null
trigger gg_trg_Codex_UI_Entry_Four_Button_Clicked= null
trigger gg_trg_Codex_UI_Entry_Five_Button_Clicked= null
trigger gg_trg_Codex_UI_Entry_Six_Button_Clicked= null
trigger gg_trg_Codex_UI_Update_Entries= null
trigger gg_trg_Codex_UI_Done_Button_Clicked= null
trigger gg_trg_RendLore= null
trigger gg_trg_UtokLore= null
trigger gg_trg_PeonWeightOn= null
trigger gg_trg_PeonWeightOff= null
trigger gg_trg_Initialization= null
trigger gg_trg_FaceanimLoader= null
trigger gg_trg_Cinematic_Tree_Stand= null
trigger gg_trg_MusicList= null
trigger gg_trg_Exp_Gain= null
trigger gg_trg_Creep_Multiplier= null
trigger gg_trg_Neutral_Smart_Attack= null
trigger gg_trg_Easy= null
trigger gg_trg_Normal= null
trigger gg_trg_Hard= null
trigger gg_trg_SnowcapsOn= null
trigger gg_trg_SnowcapsOff= null
trigger gg_trg_PeriodicSeagull_1= null
trigger gg_trg_PeriodicSeagull_2= null
trigger gg_trg_SettingQuests= null
trigger gg_trg_HintUtokAttackedTriggered= null
trigger gg_trg_HintUtokAttackedQ= null
trigger gg_trg_HintGoldIncrementQ= null
trigger gg_trg_HintLumberIncrementQ= null
trigger gg_trg_QuestsCompleted= null
trigger gg_trg_QuestMCampChanged01= null
trigger gg_trg_QuestMCampChanged02= null
trigger gg_trg_QuestCampCompletedTriggered= null
trigger gg_trg_QuestMCampCompleted= null
trigger gg_trg_QuestResChanged01= null
trigger gg_trg_QuestMessageResGoldUpdated= null
trigger gg_trg_QuestResChanged02= null
trigger gg_trg_QuestMessageResLumberUpdated= null
trigger gg_trg_QuestResCompleted= null
trigger gg_trg_QuestMessageResCompleted= null
trigger gg_trg_HumansQuest= null
trigger gg_trg_HumansQuestChanged= null
trigger gg_trg_HumansCompleted= null
trigger gg_trg_WolfQuestTriggered= null
trigger gg_trg_WolfQuest= null
trigger gg_trg_WolfsCompletedTriggered= null
trigger gg_trg_WolfCompleted= null
trigger gg_trg_WolfDen01Destroyed= null
trigger gg_trg_WolfDen02Destroyed= null
trigger gg_trg_WolfDen03Destroyed= null
trigger gg_trg_GoldIncrement= null
trigger gg_trg_LumberIncrement= null
trigger gg_trg_Gold_BundleA= null
trigger gg_trg_Gold_BundleB= null
trigger gg_trg_Gold_BundleC= null
trigger gg_trg_Gold_BundleD= null
trigger gg_trg_Gold_BundleE= null
trigger gg_trg_Lumber_BundleA= null
trigger gg_trg_Lumber_BundleB= null
trigger gg_trg_Lumber_BundleC= null
trigger gg_trg_Lumber_BundleD= null
trigger gg_trg_Lumber_BundleE= null
trigger gg_trg_Farm01= null
trigger gg_trg_Farm02= null
trigger gg_trg_Farm03= null
trigger gg_trg_Farm04= null
trigger gg_trg_FarmConstructed= null
trigger gg_trg_BoneFire= null
trigger gg_trg_Timer= null
trigger gg_trg_TimerExpires= null
trigger gg_trg_TentDropsLumber= null
trigger gg_trg_BonefireDefeat= null
trigger gg_trg_ResourcesDefeat= null
trigger gg_trg_Defeat= null
trigger gg_trg_Waterfall01On= null
trigger gg_trg_Waterfall01Off= null
trigger gg_trg_Waterfall02On= null
trigger gg_trg_Waterfall02Off= null
trigger gg_trg_Waterfall03On= null
trigger gg_trg_Waterfall03Off= null
trigger gg_trg_Waterfall04On= null
trigger gg_trg_Waterfall04Off= null
trigger gg_trg_Cliff01On= null
trigger gg_trg_Cliff01Off= null
trigger gg_trg_Cliff02On= null
trigger gg_trg_Cliff02Off= null
trigger gg_trg_Cliff03On= null
trigger gg_trg_Cliff03Off= null
trigger gg_trg_SelectPeon= null
trigger gg_trg_Wolf_Attack= null
trigger gg_trg_HeroDies= null
trigger gg_trg_HumanTaunt= null
trigger gg_trg_CaptainTaunt= null
trigger gg_trg_HumanTauntTurnedOn= null
trigger gg_trg_PeonDies= null
trigger gg_trg_BearWalking02= null
trigger gg_trg_BearWalking01= null
trigger gg_trg_BearAttacked01= null
trigger gg_trg_BearAttacked02= null
trigger gg_trg_TreeBridgeActivated= null
trigger gg_trg_TreeRestoreHP= null
trigger gg_trg_BearViewOn= null
trigger gg_trg_BearViewOff= null
trigger gg_trg_Intro_Cinemathic= null
trigger gg_trg_BoatSounds= null
trigger gg_trg_BoatAboarding= null
trigger gg_trg_IntroOrcsMoving= null
trigger gg_trg_IntroRendAnim= null
trigger gg_trg_Intro_Skipped= null
trigger gg_trg_Intro_Cleanup= null
trigger gg_trg_CameraStore= null
trigger gg_trg_CameraRestore= null
trigger gg_trg_SelectionStore= null
trigger gg_trg_SelectionRestore= null
trigger gg_trg_PauseActors= null
trigger gg_trg_UnpauseActors= null
trigger gg_trg_HumanCinematicTriggered= null
trigger gg_trg_HumanCinematicQ= null
trigger gg_trg_HumanCinematicCaptainTurn= null
trigger gg_trg_HumanCinematicFootmanTurn= null
trigger gg_trg_Human_Skipped= null
trigger gg_trg_Human_CleanUp= null
trigger gg_trg_FootmanRemoveAnimTag01= null
trigger gg_trg_FootmanRemoveAnimTag02= null
trigger gg_trg_Wolf_CinematicQ= null
trigger gg_trg_Wolf_Skipped= null
trigger gg_trg_Wolf_CleanUp= null
trigger gg_trg_HumansKilledCinTriggered= null
trigger gg_trg_HumanKilledCinQ= null
trigger gg_trg_HumanKilledSkipped= null
trigger gg_trg_HumanKilledCleanUp= null
trigger gg_trg_Final_Cinematic= null
trigger gg_trg_Final_Skipped= null
trigger gg_trg_Finalization= null
trigger gg_trg_Peonsworking= null
trigger gg_trg_Tag_off= null
trigger gg_trg_Tag_on_01= null
trigger gg_trg_Tag_on_02= null
trigger gg_trg_Next_Level_Prep= null
trigger gg_trg_Glittering_Prizes= null
trigger gg_trg_Deck_me_out= null
trigger gg_trg_Every_little_thing_she_does= null
trigger gg_trg_It_is_a_good_day_to_die= null
trigger gg_trg_On_screen= null
trigger gg_trg_Showpath= null
trigger gg_trg_Mid01= null
trigger gg_trg_Mid02= null
trigger gg_trg_Mid03= null
trigger gg_trg_OutroDebug= null
trigger gg_trg_CleanCache= null
unit gg_unit_o60P_0036= null
unit gg_unit_o605_0006= null
unit gg_unit_o001_0007= null
unit gg_unit_o001_0008= null
unit gg_unit_o60D_0009= null
unit gg_unit_o614_0010= null
unit gg_unit_O617_0012= null
item gg_item_I001_0063= null
unit gg_unit_o60Q_0014= null
unit gg_unit_nbsp_0048= null
unit gg_unit_hdes_0016= null
unit gg_unit_n60O_0011= null
unit gg_unit_npig_0019= null
unit gg_unit_npig_0020= null
unit gg_unit_npig_0022= null
unit gg_unit_npig_0023= null
unit gg_unit_npig_0024= null
unit gg_unit_npig_0025= null
unit gg_unit_nwwf_0028= null
unit gg_unit_nwwf_0029= null
unit gg_unit_nwwf_0030= null
unit gg_unit_nwlt_0031= null
unit gg_unit_nwlt_0032= null
unit gg_unit_nwlt_0033= null
unit gg_unit_nspp_0034= null
unit gg_unit_npig_0049= null
unit gg_unit_npig_0050= null
unit gg_unit_npig_0002= null
unit gg_unit_npig_0003= null
unit gg_unit_o605_0004= null
unit gg_unit_n60O_0013= null
item gg_item_I002_0064= null
unit gg_unit_h60B_0096= null
unit gg_unit_h60B_0097= null
unit gg_unit_ngnv_0015= null
unit gg_unit_ngnb_0051= null
unit gg_unit_h60K_0094= null
unit gg_unit_h60K_0098= null
unit gg_unit_hcth_0058= null
unit gg_unit_h60K_0060= null
unit gg_unit_h60K_0099= null
unit gg_unit_nplg_0055= null
unit gg_unit_nplb_0056= null
unit gg_unit_nwen_0077= null
unit gg_unit_o60Q_0100= null
unit gg_unit_h60B_0095= null
unit gg_unit_h60K_0093= null
destructable gg_dest_B61A_0022= null
destructable gg_dest_B61C_1509= null
destructable gg_dest_B60W_0549= null
destructable gg_dest_B60W_0547= null
destructable gg_dest_B60W_0546= null
destructable gg_dest_B60W_0551= null
destructable gg_dest_B61A_0540= null
destructable gg_dest_B619_1130= null
destructable gg_dest_B619_1112= null
destructable gg_dest_B619_1082= null
destructable gg_dest_B617_1717= null
destructable gg_dest_LTt4_0967= null
destructable gg_dest_B619_1067= null
destructable gg_dest_B00C_2126= null
destructable gg_dest_B00C_1903= null
destructable gg_dest_B61A_0541= null
destructable gg_dest_B61A_0539= null
destructable gg_dest_LTcr_1048= null
destructable gg_dest_B60L_1510= null
destructable gg_dest_B60L_1774= null
destructable gg_dest_B60L_1777= null
destructable gg_dest_B60L_1872= null
destructable gg_dest_B60L_1894= null
destructable gg_dest_B60L_1901= null
destructable gg_dest_B00C_2125= null
destructable gg_dest_B619_1935= null
destructable gg_dest_B61A_1936= null
destructable gg_dest_B60W_1937= null
destructable gg_dest_B005_1940= null
destructable gg_dest_LTba_1954= null
destructable gg_dest_LTba_1955= null
destructable gg_dest_LTba_1956= null
destructable gg_dest_LTba_1957= null
destructable gg_dest_LTba_1958= null
destructable gg_dest_LTba_1959= null
destructable gg_dest_LTcr_1960= null
destructable gg_dest_LTcr_1961= null
destructable gg_dest_LTcr_1962= null

trigger l__library_init

//JASSHelper struct globals:
constant integer si__BlizzardMessage__InitStruct=1
constant integer si__Table__dex=2
constant integer si__Table__handles=3
constant integer si__Table__agents=4
constant integer si__Table__reals=5
constant integer si__Table__booleans=6
constant integer si__Table__strings=7
constant integer si__Table__integers=8
constant integer si__Table__players=9
constant integer si__Table__widgets=10
constant integer si__Table__destructables=11
constant integer si__Table__items=12
constant integer si__Table__units=13
constant integer si__Table__abilitys=14
constant integer si__Table__timers=15
constant integer si__Table__triggers=16
constant integer si__Table__triggerconditions=17
constant integer si__Table__triggeractions=18
constant integer si__Table__events=19
constant integer si__Table__forces=20
constant integer si__Table__groups=21
constant integer si__Table__locations=22
constant integer si__Table__rects=23
constant integer si__Table__boolexprs=24
constant integer si__Table__sounds=25
constant integer si__Table__effects=26
constant integer si__Table__unitpools=27
constant integer si__Table__itempools=28
constant integer si__Table__quests=29
constant integer si__Table__questitems=30
constant integer si__Table__defeatconditions=31
constant integer si__Table__timerdialogs=32
constant integer si__Table__leaderboards=33
constant integer si__Table__multiboards=34
constant integer si__Table__multiboarditems=35
constant integer si__Table__trackables=36
constant integer si__Table__dialogs=37
constant integer si__Table__buttons=38
constant integer si__Table__texttags=39
constant integer si__Table__lightnings=40
constant integer si__Table__images=41
constant integer si__Table__ubersplats=42
constant integer si__Table__regions=43
constant integer si__Table__fogstates=44
constant integer si__Table__fogmodifiers=45
constant integer si__Table__hashtables=46
constant integer si__Table=47
constant integer si__TableArray=48
integer s__TableArray_tempTable
integer s__TableArray_tempEnd
constant integer si__HashTable=49
constant integer si__WorldBounds=50
integer s__WorldBounds_maxX
integer s__WorldBounds_maxY
integer s__WorldBounds_minX
integer s__WorldBounds_minY
integer s__WorldBounds_centerX
integer s__WorldBounds_centerY
rect s__WorldBounds_world
region s__WorldBounds_worldRegion
constant integer si__DelayedOrder=51
integer si__DelayedOrder_F=0
integer si__DelayedOrder_I=0
integer array si__DelayedOrder_V
unit array s__DelayedOrder_u
integer array s__DelayedOrder_o
constant integer si__DelayedOrderXY=52
integer si__DelayedOrderXY_F=0
integer si__DelayedOrderXY_I=0
integer array si__DelayedOrderXY_V
unit array s__DelayedOrderXY_u
integer array s__DelayedOrderXY_o
real array s__DelayedOrderXY_x
real array s__DelayedOrderXY_y
constant integer si__DelayedOrderTarget=53
integer si__DelayedOrderTarget_F=0
integer si__DelayedOrderTarget_I=0
integer array si__DelayedOrderTarget_V
unit array s__DelayedOrderTarget_u
integer array s__DelayedOrderTarget_o
widget array s__DelayedOrderTarget_w
constant integer si__EffectUtils=54
integer si__EffectUtils_F=0
integer si__EffectUtils_I=0
integer array si__EffectUtils_V
effect array s__EffectUtils_vfx
boolean array s__EffectUtils_hide
constant integer si__IsUnitContructing=55
integer si__IsUnitContructing_F=0
integer si__IsUnitContructing_I=0
integer array si__IsUnitContructing_V
unit array s__IsUnitContructing_source
integer array s__IsUnitContructing_id
constant integer si__RegisterNativeEvent__NativeEvent=56
integer s__RegisterNativeEvent__NativeEvent_table
constant integer si__IntegerListItem=57
constant integer si__IntegerList=58
integer array s__IntegerList_first
integer array s__IntegerList_last
integer array s__IntegerList_count
integer s__IntegerList_Alloc___recycler
integer s__IntegerList_Alloc___instanceCount= 0
integer s__IntegerList_Alloc___recyclerCount= 0
constant integer si__ConstructEvent__PeriodicData=59
unit array s__ConstructEvent__PeriodicData_builder
race array s__ConstructEvent__PeriodicData_btype
real array s__ConstructEvent__PeriodicData_cx
real array s__ConstructEvent__PeriodicData_cy
real array s__ConstructEvent__PeriodicData_distance
integer array s__ConstructEvent__PeriodicData_order
real array s__ConstructEvent__PeriodicData_ox
real array s__ConstructEvent__PeriodicData_oy
integer s__ConstructEvent__PeriodicData_Alloc___recycler
integer s__ConstructEvent__PeriodicData_Alloc___instanceCount= 0
integer s__ConstructEvent__PeriodicData_Alloc___recyclerCount= 0
constant integer si__ConstructEvent=60
integer si__ConstructEvent_F=0
integer si__ConstructEvent_I=0
integer array si__ConstructEvent_V
integer s__ConstructEvent_START
integer s__ConstructEvent_CANCEL
integer s__ConstructEvent_FINISH
integer s__ConstructEvent_INTERRUPT
constant integer si__SpellEffectEvent__S=61
integer s__SpellEffectEvent__S_tb
constant integer si__OilDisplay=62
integer si__OilDisplay_F=0
integer si__OilDisplay_I=0
integer array si__OilDisplay_V
texttag array s__OilDisplay_tag
player array s__OilDisplay_owner
integer array s__OilDisplay_index
integer array s__OilDisplay_tagStack
integer s__OilDisplay_count= 0
constant integer si__Zone=63
integer si__Zone_F=0
integer si__Zone_I=0
integer array si__Zone_V
real array s__Zone_xMin
real array s__Zone_xMax
real array s__Zone_yMin
real array s__Zone_yMax
real array s__Zone_xMid
real array s__Zone_yMid
rect array s__Zone_r
constant integer si__OilPatch=64
integer si__OilPatch_F=0
integer si__OilPatch_I=0
integer array si__OilPatch_V
unit array s__OilPatch_source
integer array s__OilPatch_zone
integer array s__OilPatch_amount
integer array s__OilPatch_patchIndex
integer array s__OilPatch_display
boolean array s__OilPatch_giveLowWarning
integer s__OilPatch_structTable
real s__OilPatch_zoneX= OilHarvest__OIL_ZONE_LENGTH * .5
real s__OilPatch_zoneY= OilHarvest__OIL_ZONE_HEIGHT * .5
constant integer si__OilCollector=65
integer si__OilCollector_F=0
integer si__OilCollector_I=0
integer array si__OilCollector_V
unit array s__OilCollector_source
unit array s__OilCollector_destination
unit array s__OilCollector_assignedRigUnit
ability array s__OilCollector_gatherAbility
integer array s__OilCollector_amount
trigger array s__OilCollector_deathListener
trigger array s__OilCollector_orderListener
integer array s__OilCollector_activeRig
integer s__OilCollector_structTable
constant real s__OilCollector_X_SPEED= .0355 * Cos(1.5708)
constant real s__OilCollector_Y_SPEED= .0355 * Sin(1.5708)
constant integer si__OilRig=66
integer si__OilRig_F=0
integer si__OilRig_I=0
integer array si__OilRig_V
unit array s__OilRig_source
unit array s__OilRig_nearestDepot
timer array s__OilRig_clock
integer array s__OilRig_patch
integer array s__OilRig_queue
real array s__OilRig_x
real array s__OilRig_y
boolean array s__OilRig_lockOut
integer array s__OilRig_dockedCollector
integer s__OilRig_structTable
constant integer si__OilDepot=67
integer si__OilDepot_F=0
integer si__OilDepot_I=0
integer array si__OilDepot_V
unit array s__OilDepot_source
unit array s__OilDepot_nearestRig
real array s__OilDepot_x
real array s__OilDepot_y
trigger array s__OilDepot_deathListener
integer s__OilDepot_structTable
constant integer si__OilUI=68
integer si__OilUI_F=0
integer si__OilUI_I=0
integer array si__OilUI_V
integer array s__TimerUtils__data
timer array s__TimerUtils__tT
trigger array st___prototype8

endglobals
native UnitAlive takes unit id returns boolean


//Generated allocator of OilUI
function s__OilUI__allocate takes nothing returns integer
 local integer this=si__OilUI_F
    if (this!=0) then
        set si__OilUI_F=si__OilUI_V[this]
    else
        set si__OilUI_I=si__OilUI_I+1
        set this=si__OilUI_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__OilUI_V[this]=-1
 return this
endfunction

//Generated destructor of OilUI
function s__OilUI_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__OilUI_V[this]!=-1) then
        return
    endif
    set si__OilUI_V[this]=si__OilUI_F
    set si__OilUI_F=this
endfunction

//Generated allocator of OilDepot
function s__OilDepot__allocate takes nothing returns integer
 local integer this=si__OilDepot_F
    if (this!=0) then
        set si__OilDepot_F=si__OilDepot_V[this]
    else
        set si__OilDepot_I=si__OilDepot_I+1
        set this=si__OilDepot_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__OilDepot_V[this]=-1
 return this
endfunction

//Generated destructor of OilDepot
function s__OilDepot_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__OilDepot_V[this]!=-1) then
        return
    endif
    set si__OilDepot_V[this]=si__OilDepot_F
    set si__OilDepot_F=this
endfunction

//Generated allocator of OilRig
function s__OilRig__allocate takes nothing returns integer
 local integer this=si__OilRig_F
    if (this!=0) then
        set si__OilRig_F=si__OilRig_V[this]
    else
        set si__OilRig_I=si__OilRig_I+1
        set this=si__OilRig_I
    endif
    if (this>8190) then
        return 0
    endif

   set s__OilRig_lockOut[this]= false
    set si__OilRig_V[this]=-1
 return this
endfunction

//Generated destructor of OilRig
function s__OilRig_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__OilRig_V[this]!=-1) then
        return
    endif
    set si__OilRig_V[this]=si__OilRig_F
    set si__OilRig_F=this
endfunction

//Generated allocator of OilCollector
function s__OilCollector__allocate takes nothing returns integer
 local integer this=si__OilCollector_F
    if (this!=0) then
        set si__OilCollector_F=si__OilCollector_V[this]
    else
        set si__OilCollector_I=si__OilCollector_I+1
        set this=si__OilCollector_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__OilCollector_V[this]=-1
 return this
endfunction

//Generated destructor of OilCollector
function s__OilCollector_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__OilCollector_V[this]!=-1) then
        return
    endif
    set si__OilCollector_V[this]=si__OilCollector_F
    set si__OilCollector_F=this
endfunction

//Generated allocator of OilPatch
function s__OilPatch__allocate takes nothing returns integer
 local integer this=si__OilPatch_F
    if (this!=0) then
        set si__OilPatch_F=si__OilPatch_V[this]
    else
        set si__OilPatch_I=si__OilPatch_I+1
        set this=si__OilPatch_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__OilPatch_V[this]=-1
 return this
endfunction

//Generated destructor of OilPatch
function s__OilPatch_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__OilPatch_V[this]!=-1) then
        return
    endif
    set si__OilPatch_V[this]=si__OilPatch_F
    set si__OilPatch_F=this
endfunction

//Generated allocator of Zone
function s__Zone__allocate takes nothing returns integer
 local integer this=si__Zone_F
    if (this!=0) then
        set si__Zone_F=si__Zone_V[this]
    else
        set si__Zone_I=si__Zone_I+1
        set this=si__Zone_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__Zone_V[this]=-1
 return this
endfunction

//Generated destructor of Zone
function s__Zone_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__Zone_V[this]!=-1) then
        return
    endif
    set si__Zone_V[this]=si__Zone_F
    set si__Zone_F=this
endfunction

//Generated allocator of OilDisplay
function s__OilDisplay__allocate takes nothing returns integer
 local integer this=si__OilDisplay_F
    if (this!=0) then
        set si__OilDisplay_F=si__OilDisplay_V[this]
    else
        set si__OilDisplay_I=si__OilDisplay_I+1
        set this=si__OilDisplay_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__OilDisplay_V[this]=-1
 return this
endfunction

//Generated destructor of OilDisplay
function s__OilDisplay_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__OilDisplay_V[this]!=-1) then
        return
    endif
    set si__OilDisplay_V[this]=si__OilDisplay_F
    set si__OilDisplay_F=this
endfunction

//Generated allocator of ConstructEvent
function s__ConstructEvent__allocate takes nothing returns integer
 local integer this=si__ConstructEvent_F
    if (this!=0) then
        set si__ConstructEvent_F=si__ConstructEvent_V[this]
    else
        set si__ConstructEvent_I=si__ConstructEvent_I+1
        set this=si__ConstructEvent_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__ConstructEvent_V[this]=-1
 return this
endfunction

//Generated destructor of ConstructEvent
function s__ConstructEvent_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__ConstructEvent_V[this]!=-1) then
        return
    endif
    set si__ConstructEvent_V[this]=si__ConstructEvent_F
    set si__ConstructEvent_F=this
endfunction

//Generated allocator of IsUnitContructing
function s__IsUnitContructing__allocate takes nothing returns integer
 local integer this=si__IsUnitContructing_F
    if (this!=0) then
        set si__IsUnitContructing_F=si__IsUnitContructing_V[this]
    else
        set si__IsUnitContructing_I=si__IsUnitContructing_I+1
        set this=si__IsUnitContructing_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__IsUnitContructing_V[this]=-1
 return this
endfunction

//Generated destructor of IsUnitContructing
function s__IsUnitContructing_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__IsUnitContructing_V[this]!=-1) then
        return
    endif
    set si__IsUnitContructing_V[this]=si__IsUnitContructing_F
    set si__IsUnitContructing_F=this
endfunction

//Generated allocator of EffectUtils
function s__EffectUtils__allocate takes nothing returns integer
 local integer this=si__EffectUtils_F
    if (this!=0) then
        set si__EffectUtils_F=si__EffectUtils_V[this]
    else
        set si__EffectUtils_I=si__EffectUtils_I+1
        set this=si__EffectUtils_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__EffectUtils_V[this]=-1
 return this
endfunction

//Generated destructor of EffectUtils
function s__EffectUtils_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__EffectUtils_V[this]!=-1) then
        return
    endif
    set si__EffectUtils_V[this]=si__EffectUtils_F
    set si__EffectUtils_F=this
endfunction

//Generated allocator of DelayedOrderTarget
function s__DelayedOrderTarget__allocate takes nothing returns integer
 local integer this=si__DelayedOrderTarget_F
    if (this!=0) then
        set si__DelayedOrderTarget_F=si__DelayedOrderTarget_V[this]
    else
        set si__DelayedOrderTarget_I=si__DelayedOrderTarget_I+1
        set this=si__DelayedOrderTarget_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__DelayedOrderTarget_V[this]=-1
 return this
endfunction

//Generated destructor of DelayedOrderTarget
function s__DelayedOrderTarget_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__DelayedOrderTarget_V[this]!=-1) then
        return
    endif
    set si__DelayedOrderTarget_V[this]=si__DelayedOrderTarget_F
    set si__DelayedOrderTarget_F=this
endfunction

//Generated allocator of DelayedOrderXY
function s__DelayedOrderXY__allocate takes nothing returns integer
 local integer this=si__DelayedOrderXY_F
    if (this!=0) then
        set si__DelayedOrderXY_F=si__DelayedOrderXY_V[this]
    else
        set si__DelayedOrderXY_I=si__DelayedOrderXY_I+1
        set this=si__DelayedOrderXY_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__DelayedOrderXY_V[this]=-1
 return this
endfunction

//Generated destructor of DelayedOrderXY
function s__DelayedOrderXY_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__DelayedOrderXY_V[this]!=-1) then
        return
    endif
    set si__DelayedOrderXY_V[this]=si__DelayedOrderXY_F
    set si__DelayedOrderXY_F=this
endfunction

//Generated allocator of DelayedOrder
function s__DelayedOrder__allocate takes nothing returns integer
 local integer this=si__DelayedOrder_F
    if (this!=0) then
        set si__DelayedOrder_F=si__DelayedOrder_V[this]
    else
        set si__DelayedOrder_I=si__DelayedOrder_I+1
        set this=si__DelayedOrder_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__DelayedOrder_V[this]=-1
 return this
endfunction

//Generated destructor of DelayedOrder
function s__DelayedOrder_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__DelayedOrder_V[this]!=-1) then
        return
    endif
    set si__DelayedOrder_V[this]=si__DelayedOrder_F
    set si__DelayedOrder_F=this
endfunction
function sc___prototype8_execute takes integer i returns nothing

    call TriggerExecute(st___prototype8[i])
endfunction
function sc___prototype8_evaluate takes integer i returns nothing

    call TriggerEvaluate(st___prototype8[i])

endfunction

//library BlizzardMessage:
   


    function BlizzardMessage takes string msg,string colorCode,integer soundLabel,player forPlayer returns nothing
        local sound snd
        local string s
   
       
            set snd=CreateSoundFromLabel(SOUND_LABEL[soundLabel], false, false, false, 10, 10)
           
            if colorCode != null then
                set s="|r"
            else
                set colorCode=""
                set s=""
            endif
           
            if GetLocalPlayer() == forPlayer then
                call ClearTextMessages()
                call DisplayTimedTextToPlayer(forPlayer, 0.52, 0.96, MSG_DURATION, "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n" + colorCode + msg + s)
                call StartSound(snd)
            endif
           
            if s != null then
                set s=""
            endif
           
            set snd=null
           
    endfunction
   
    function BlizzardMessageTimed takes string msg,string colorCode,real dur,integer soundLabel,player forPlayer returns nothing
        local sound snd
        local string s
   
       
            set snd=CreateSoundFromLabel(SOUND_LABEL[soundLabel], false, false, false, 10, 10)
           
            if colorCode != null then
                set s="|r"
            else
                set colorCode=""
                set s=""
            endif
           
            if GetLocalPlayer() == forPlayer then
                call ClearTextMessages()
                call DisplayTimedTextToPlayer(forPlayer, 0.52, 0.96, dur, "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n" + colorCode + msg + s)
                call StartSound(snd)
            endif
           
            if s != null then
                set s=""
            endif
           
            set snd=null
           
    endfunction

   
        function s__BlizzardMessage__InitStruct_init takes nothing returns nothing
            set SOUND_LABEL[0]="AllyHeroDiesHuman"
            set SOUND_LABEL[1]="AllyHeroDiesNaga"
            set SOUND_LABEL[2]="AllyHeroDiesNightElf"
            set SOUND_LABEL[3]="AllyHeroDiesOrc"
            set SOUND_LABEL[4]="AllyHeroDiesUndead"
            set SOUND_LABEL[5]="AllyTownUnderAttackHuman"
            set SOUND_LABEL[6]="AllyTownUnderAttackNaga"
            set SOUND_LABEL[7]="AllyTownUnderAttackNightElf"
            set SOUND_LABEL[8]="AllyTownUnderAttackOrc"
            set SOUND_LABEL[9]="AllyTownUnderAttackUndead"
            set SOUND_LABEL[10]="AllyUnderAttackHuman"
            set SOUND_LABEL[11]="AllyUnderAttackNaga"
            set SOUND_LABEL[12]="AllyUnderAttackNightElf"
            set SOUND_LABEL[13]="AllyUnderAttackOrc"
            set SOUND_LABEL[14]="AllyUnderAttackUndead"
            set SOUND_LABEL[15]="ArrangedTeamInvitation"
            set SOUND_LABEL[16]="AutoCastButtonClick"
            set SOUND_LABEL[17]="CantPlaceHuman"
            set SOUND_LABEL[18]="CantPlaceNaga"
            set SOUND_LABEL[19]="CantPlaceNightElf"
            set SOUND_LABEL[20]="CantPlaceOrc"
            set SOUND_LABEL[21]="CantPlaceUndead"
            set SOUND_LABEL[22]="CantRootNightElf"
            set SOUND_LABEL[23]="ChatroomTimerTick"
            set SOUND_LABEL[24]="ClanInvitation"
            set SOUND_LABEL[25]="ConstructingBuildingDefault"
            set SOUND_LABEL[26]="ConstructingBuildingNaga"
            set SOUND_LABEL[27]="ConstructingBuildingNightElf"
            set SOUND_LABEL[28]="ConstructingBuildingOrc"
            set SOUND_LABEL[29]="ConstructingBuildingUndead"
            set SOUND_LABEL[30]="CreepAggro"
            set SOUND_LABEL[31]="ErrorMessage"
            set SOUND_LABEL[32]="GameFound"
            set SOUND_LABEL[33]="GlueScreenClick"
            set SOUND_LABEL[34]="GoldMineCollapseHuman"
            set SOUND_LABEL[35]="GoldMineCollapseNaga"
            set SOUND_LABEL[36]="GoldMineCollapseNightElf"
            set SOUND_LABEL[37]="GoldMineCollapseOrc"
            set SOUND_LABEL[38]="GoldMineCollapseUndead"
            set SOUND_LABEL[39]="GoldMineLowGeneric"
            set SOUND_LABEL[40]="GoldMineLowHuman"
            set SOUND_LABEL[41]="GoldMineLowNaga"
            set SOUND_LABEL[42]="GoldMineLowNightElf"
            set SOUND_LABEL[43]="GoldMineLowOrc"
            set SOUND_LABEL[44]="GoldMineLowUndead"
            set SOUND_LABEL[45]="GoodJob"
            set SOUND_LABEL[46]="HeroDiesGeneric"
            set SOUND_LABEL[47]="HeroDiesHuman"
            set SOUND_LABEL[48]="HeroDiesNaga"
            set SOUND_LABEL[49]="HeroDiesNightElf"
            set SOUND_LABEL[50]="HeroDiesOrc"
            set SOUND_LABEL[51]="HeroDiesUndead"
            set SOUND_LABEL[52]="Hint"
            set SOUND_LABEL[53]="InGameChatWhat"
            set SOUND_LABEL[54]="InterfaceClick"
            set SOUND_LABEL[55]="InterfaceError"
            set SOUND_LABEL[56]="InventoryFullHuman"
            set SOUND_LABEL[57]="InventoryFullNaga"
            set SOUND_LABEL[58]="InventoryFullNightElf"
            set SOUND_LABEL[59]="InventoryFullOrc"
            set SOUND_LABEL[60]="InventoryFullUndead"
            set SOUND_LABEL[61]="ItemDrop"
            set SOUND_LABEL[62]="ItemGet"
            set SOUND_LABEL[63]="ItemReward"
            set SOUND_LABEL[64]="JobDoneSoundHuman"
            set SOUND_LABEL[65]="JobDoneSoundNaga"
            set SOUND_LABEL[66]="JobDoneSoundNightElf"
            set SOUND_LABEL[67]="JobDoneSoundOrc"
            set SOUND_LABEL[68]="JobDoneSoundUndead"
            set SOUND_LABEL[69]="MapPing"
            set SOUND_LABEL[70]="MenuButtonClick"
            set SOUND_LABEL[71]="NewTournament"
            set SOUND_LABEL[72]="NoFoodHuman"
            set SOUND_LABEL[73]="NoFoodNaga"
            set SOUND_LABEL[74]="NoFoodNightElf"
            set SOUND_LABEL[75]="NoFoodOrc"
            set SOUND_LABEL[76]="NoFoodUndead"
            set SOUND_LABEL[77]="NoGoldGeneric"
            set SOUND_LABEL[78]="NoGoldHuman"
            set SOUND_LABEL[79]="NoGoldNaga"
            set SOUND_LABEL[80]="NoGoldNightElf"
            set SOUND_LABEL[81]="NoGoldOrc"
            set SOUND_LABEL[82]="NoGoldUndead"
            set SOUND_LABEL[83]="NoLumberHuman"
            set SOUND_LABEL[84]="NoLumberNaga"
            set SOUND_LABEL[85]="NoLumberNightElf"
            set SOUND_LABEL[86]="NoLumberOrc"
            set SOUND_LABEL[87]="NoLumberUndead"
            set SOUND_LABEL[88]="NoManaGeneric"
            set SOUND_LABEL[89]="NoManaHuman"
            set SOUND_LABEL[90]="NoManaNaga"
            set SOUND_LABEL[91]="NoManaNightElf"
            set SOUND_LABEL[92]="NoManaOrc"
            set SOUND_LABEL[93]="NoManaUndead"
            set SOUND_LABEL[94]="OffBlightUndead"
            set SOUND_LABEL[95]="PauseGame"
            set SOUND_LABEL[96]="PlaceBuildingDefault"
            set SOUND_LABEL[97]="QuestCompleted"
            set SOUND_LABEL[98]="QuestFailed"
            set SOUND_LABEL[99]="QuestLogModified"
            set SOUND_LABEL[100]="QuestNew"
            set SOUND_LABEL[101]="QuestUpdate"
            set SOUND_LABEL[102]="RallyPointPlace"
            set SOUND_LABEL[103]="Rescue"
            set SOUND_LABEL[104]="ResearchCompleteGeneric"
            set SOUND_LABEL[105]="ResearchCompleteHuman"
            set SOUND_LABEL[106]="ResearchCompleteNaga"
            set SOUND_LABEL[107]="ResearchCompleteNightElf"
            set SOUND_LABEL[108]="ResearchCompleteOrc"
            set SOUND_LABEL[109]="ResearchCompleteUndead"
            set SOUND_LABEL[110]="ScoreScreenTabClick"
            set SOUND_LABEL[111]="SecretFound"
            set SOUND_LABEL[112]="SubGroupSelectionChange"
            set SOUND_LABEL[113]="TownAttackGeneric"
            set SOUND_LABEL[114]="TownAttackHuman"
            set SOUND_LABEL[115]="TownAttackNaga"
            set SOUND_LABEL[116]="TownAttackNightElf"
            set SOUND_LABEL[117]="TownAttackOrc"
            set SOUND_LABEL[118]="TownAttackUndead"
            set SOUND_LABEL[119]="UnderAttackHuman"
            set SOUND_LABEL[120]="UnderAttackNaga"
            set SOUND_LABEL[121]="UnderAttackNightElf"
            set SOUND_LABEL[122]="UnderAttackOrc"
            set SOUND_LABEL[123]="UnderAttackUndead"
            set SOUND_LABEL[124]="UpgradeCompleteGeneric"
            set SOUND_LABEL[125]="UpgradeCompleteHuman"
            set SOUND_LABEL[126]="UpgradeCompleteNaga"
            set SOUND_LABEL[127]="UpgradeCompleteNightElf"
            set SOUND_LABEL[128]="UpgradeCompleteOrc"
            set SOUND_LABEL[129]="UpgradeCompleteUndead"
            set SOUND_LABEL[130]="UpkeepLevel"
            set SOUND_LABEL[131]="Warning"
            set SOUND_LABEL[132]="WayPoint"
        endfunction
   
//Implemented from module BlizzardMessage__BMInit:
        function s__BlizzardMessage__InitStruct_BlizzardMessage__BMInit___onInit takes nothing returns nothing
            call s__BlizzardMessage__InitStruct_init()
        endfunction

//library BlizzardMessage ends
//library LinkedList:
    
    






























//library LinkedList ends
//library Table:
    
    
    function s__Table__dex__get_size takes nothing returns integer
        return Table__sizeK
    endfunction
    function s__Table__dex__get_list takes nothing returns integer
        return Table__listK
    endfunction
    
    function s__Table__handles_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__handles_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
    
    function s__Table__agents__setindex takes integer this,integer key,agent value returns nothing
        call SaveAgentHandle(Table__ht, this, key, value)
    endfunction
    
    
    
//Run these textmacros to include the entire hashtable API as wrappers.
//Don't be intimidated by the number of macros - Vexorian's map optimizer is
//supposed to kill functions which inline (all of these functions inline).
//textmacro instance: NEW_ARRAY_BASIC("Real", "Real", "real")
    function s__Table__reals__getindex takes integer this,integer key returns real
        return LoadReal(Table__ht, this, key)
    endfunction
    function s__Table__reals__setindex takes integer this,integer key,real value returns nothing
        call SaveReal(Table__ht, this, key, value)
    endfunction
    function s__Table__reals_has takes integer this,integer key returns boolean
        return HaveSavedReal(Table__ht, this, key)
    endfunction
    function s__Table__reals_remove takes integer this,integer key returns nothing
        call RemoveSavedReal(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY_BASIC("Real", "Real", "real")
//textmacro instance: NEW_ARRAY_BASIC("Boolean", "Boolean", "boolean")
    function s__Table__booleans__getindex takes integer this,integer key returns boolean
        return LoadBoolean(Table__ht, this, key)
    endfunction
    function s__Table__booleans__setindex takes integer this,integer key,boolean value returns nothing
        call SaveBoolean(Table__ht, this, key, value)
    endfunction
    function s__Table__booleans_has takes integer this,integer key returns boolean
        return HaveSavedBoolean(Table__ht, this, key)
    endfunction
    function s__Table__booleans_remove takes integer this,integer key returns nothing
        call RemoveSavedBoolean(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY_BASIC("Boolean", "Boolean", "boolean")
//textmacro instance: NEW_ARRAY_BASIC("String", "Str", "string")
    function s__Table__strings__getindex takes integer this,integer key returns string
        return LoadStr(Table__ht, this, key)
    endfunction
    function s__Table__strings__setindex takes integer this,integer key,string value returns nothing
        call SaveStr(Table__ht, this, key, value)
    endfunction
    function s__Table__strings_has takes integer this,integer key returns boolean
        return HaveSavedString(Table__ht, this, key)
    endfunction
    function s__Table__strings_remove takes integer this,integer key returns nothing
        call RemoveSavedString(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY_BASIC("String", "Str", "string")
//New textmacro to allow table.integer[] syntax for compatibility with textmacros that might desire it.
//textmacro instance: NEW_ARRAY_BASIC("Integer", "Integer", "integer")
    function s__Table__integers__getindex takes integer this,integer key returns integer
        return LoadInteger(Table__ht, this, key)
    endfunction
    function s__Table__integers__setindex takes integer this,integer key,integer value returns nothing
        call SaveInteger(Table__ht, this, key, value)
    endfunction
    function s__Table__integers_has takes integer this,integer key returns boolean
        return HaveSavedInteger(Table__ht, this, key)
    endfunction
    function s__Table__integers_remove takes integer this,integer key returns nothing
        call RemoveSavedInteger(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY_BASIC("Integer", "Integer", "integer")
    
//textmacro instance: NEW_ARRAY("Player", "player")
    function s__Table__players__getindex takes integer this,integer key returns player
        return LoadPlayerHandle(Table__ht, this, key)
    endfunction
    function s__Table__players__setindex takes integer this,integer key,player value returns nothing
        call SavePlayerHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__players_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__players_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Player", "player")
//textmacro instance: NEW_ARRAY("Widget", "widget")
    function s__Table__widgets__getindex takes integer this,integer key returns widget
        return LoadWidgetHandle(Table__ht, this, key)
    endfunction
    function s__Table__widgets__setindex takes integer this,integer key,widget value returns nothing
        call SaveWidgetHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__widgets_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__widgets_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Widget", "widget")
//textmacro instance: NEW_ARRAY("Destructable", "destructable")
    function s__Table__destructables__getindex takes integer this,integer key returns destructable
        return LoadDestructableHandle(Table__ht, this, key)
    endfunction
    function s__Table__destructables__setindex takes integer this,integer key,destructable value returns nothing
        call SaveDestructableHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__destructables_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__destructables_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Destructable", "destructable")
//textmacro instance: NEW_ARRAY("Item", "item")
    function s__Table__items__getindex takes integer this,integer key returns item
        return LoadItemHandle(Table__ht, this, key)
    endfunction
    function s__Table__items__setindex takes integer this,integer key,item value returns nothing
        call SaveItemHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__items_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__items_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Item", "item")
//textmacro instance: NEW_ARRAY("Unit", "unit")
    function s__Table__units__getindex takes integer this,integer key returns unit
        return LoadUnitHandle(Table__ht, this, key)
    endfunction
    function s__Table__units__setindex takes integer this,integer key,unit value returns nothing
        call SaveUnitHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__units_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__units_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Unit", "unit")
//textmacro instance: NEW_ARRAY("Ability", "ability")
    function s__Table__abilitys__getindex takes integer this,integer key returns ability
        return LoadAbilityHandle(Table__ht, this, key)
    endfunction
    function s__Table__abilitys__setindex takes integer this,integer key,ability value returns nothing
        call SaveAbilityHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__abilitys_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__abilitys_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Ability", "ability")
//textmacro instance: NEW_ARRAY("Timer", "timer")
    function s__Table__timers__getindex takes integer this,integer key returns timer
        return LoadTimerHandle(Table__ht, this, key)
    endfunction
    function s__Table__timers__setindex takes integer this,integer key,timer value returns nothing
        call SaveTimerHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__timers_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__timers_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Timer", "timer")
//textmacro instance: NEW_ARRAY("Trigger", "trigger")
    function s__Table__triggers__getindex takes integer this,integer key returns trigger
        return LoadTriggerHandle(Table__ht, this, key)
    endfunction
    function s__Table__triggers__setindex takes integer this,integer key,trigger value returns nothing
        call SaveTriggerHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__triggers_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__triggers_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Trigger", "trigger")
//textmacro instance: NEW_ARRAY("TriggerCondition", "triggercondition")
    function s__Table__triggerconditions__getindex takes integer this,integer key returns triggercondition
        return LoadTriggerConditionHandle(Table__ht, this, key)
    endfunction
    function s__Table__triggerconditions__setindex takes integer this,integer key,triggercondition value returns nothing
        call SaveTriggerConditionHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__triggerconditions_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__triggerconditions_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("TriggerCondition", "triggercondition")
//textmacro instance: NEW_ARRAY("TriggerAction", "triggeraction")
    function s__Table__triggeractions__getindex takes integer this,integer key returns triggeraction
        return LoadTriggerActionHandle(Table__ht, this, key)
    endfunction
    function s__Table__triggeractions__setindex takes integer this,integer key,triggeraction value returns nothing
        call SaveTriggerActionHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__triggeractions_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__triggeractions_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("TriggerAction", "triggeraction")
//textmacro instance: NEW_ARRAY("TriggerEvent", "event")
    function s__Table__events__getindex takes integer this,integer key returns event
        return LoadTriggerEventHandle(Table__ht, this, key)
    endfunction
    function s__Table__events__setindex takes integer this,integer key,event value returns nothing
        call SaveTriggerEventHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__events_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__events_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("TriggerEvent", "event")
//textmacro instance: NEW_ARRAY("Force", "force")
    function s__Table__forces__getindex takes integer this,integer key returns force
        return LoadForceHandle(Table__ht, this, key)
    endfunction
    function s__Table__forces__setindex takes integer this,integer key,force value returns nothing
        call SaveForceHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__forces_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__forces_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Force", "force")
//textmacro instance: NEW_ARRAY("Group", "group")
    function s__Table__groups__getindex takes integer this,integer key returns group
        return LoadGroupHandle(Table__ht, this, key)
    endfunction
    function s__Table__groups__setindex takes integer this,integer key,group value returns nothing
        call SaveGroupHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__groups_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__groups_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Group", "group")
//textmacro instance: NEW_ARRAY("Location", "location")
    function s__Table__locations__getindex takes integer this,integer key returns location
        return LoadLocationHandle(Table__ht, this, key)
    endfunction
    function s__Table__locations__setindex takes integer this,integer key,location value returns nothing
        call SaveLocationHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__locations_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__locations_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Location", "location")
//textmacro instance: NEW_ARRAY("Rect", "rect")
    function s__Table__rects__getindex takes integer this,integer key returns rect
        return LoadRectHandle(Table__ht, this, key)
    endfunction
    function s__Table__rects__setindex takes integer this,integer key,rect value returns nothing
        call SaveRectHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__rects_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__rects_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Rect", "rect")
//textmacro instance: NEW_ARRAY("BooleanExpr", "boolexpr")
    function s__Table__boolexprs__getindex takes integer this,integer key returns boolexpr
        return LoadBooleanExprHandle(Table__ht, this, key)
    endfunction
    function s__Table__boolexprs__setindex takes integer this,integer key,boolexpr value returns nothing
        call SaveBooleanExprHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__boolexprs_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__boolexprs_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("BooleanExpr", "boolexpr")
//textmacro instance: NEW_ARRAY("Sound", "sound")
    function s__Table__sounds__getindex takes integer this,integer key returns sound
        return LoadSoundHandle(Table__ht, this, key)
    endfunction
    function s__Table__sounds__setindex takes integer this,integer key,sound value returns nothing
        call SaveSoundHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__sounds_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__sounds_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Sound", "sound")
//textmacro instance: NEW_ARRAY("Effect", "effect")
    function s__Table__effects__getindex takes integer this,integer key returns effect
        return LoadEffectHandle(Table__ht, this, key)
    endfunction
    function s__Table__effects__setindex takes integer this,integer key,effect value returns nothing
        call SaveEffectHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__effects_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__effects_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Effect", "effect")
//textmacro instance: NEW_ARRAY("UnitPool", "unitpool")
    function s__Table__unitpools__getindex takes integer this,integer key returns unitpool
        return LoadUnitPoolHandle(Table__ht, this, key)
    endfunction
    function s__Table__unitpools__setindex takes integer this,integer key,unitpool value returns nothing
        call SaveUnitPoolHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__unitpools_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__unitpools_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("UnitPool", "unitpool")
//textmacro instance: NEW_ARRAY("ItemPool", "itempool")
    function s__Table__itempools__getindex takes integer this,integer key returns itempool
        return LoadItemPoolHandle(Table__ht, this, key)
    endfunction
    function s__Table__itempools__setindex takes integer this,integer key,itempool value returns nothing
        call SaveItemPoolHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__itempools_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__itempools_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("ItemPool", "itempool")
//textmacro instance: NEW_ARRAY("Quest", "quest")
    function s__Table__quests__getindex takes integer this,integer key returns quest
        return LoadQuestHandle(Table__ht, this, key)
    endfunction
    function s__Table__quests__setindex takes integer this,integer key,quest value returns nothing
        call SaveQuestHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__quests_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__quests_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Quest", "quest")
//textmacro instance: NEW_ARRAY("QuestItem", "questitem")
    function s__Table__questitems__getindex takes integer this,integer key returns questitem
        return LoadQuestItemHandle(Table__ht, this, key)
    endfunction
    function s__Table__questitems__setindex takes integer this,integer key,questitem value returns nothing
        call SaveQuestItemHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__questitems_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__questitems_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("QuestItem", "questitem")
//textmacro instance: NEW_ARRAY("DefeatCondition", "defeatcondition")
    function s__Table__defeatconditions__getindex takes integer this,integer key returns defeatcondition
        return LoadDefeatConditionHandle(Table__ht, this, key)
    endfunction
    function s__Table__defeatconditions__setindex takes integer this,integer key,defeatcondition value returns nothing
        call SaveDefeatConditionHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__defeatconditions_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__defeatconditions_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("DefeatCondition", "defeatcondition")
//textmacro instance: NEW_ARRAY("TimerDialog", "timerdialog")
    function s__Table__timerdialogs__getindex takes integer this,integer key returns timerdialog
        return LoadTimerDialogHandle(Table__ht, this, key)
    endfunction
    function s__Table__timerdialogs__setindex takes integer this,integer key,timerdialog value returns nothing
        call SaveTimerDialogHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__timerdialogs_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__timerdialogs_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("TimerDialog", "timerdialog")
//textmacro instance: NEW_ARRAY("Leaderboard", "leaderboard")
    function s__Table__leaderboards__getindex takes integer this,integer key returns leaderboard
        return LoadLeaderboardHandle(Table__ht, this, key)
    endfunction
    function s__Table__leaderboards__setindex takes integer this,integer key,leaderboard value returns nothing
        call SaveLeaderboardHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__leaderboards_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__leaderboards_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Leaderboard", "leaderboard")
//textmacro instance: NEW_ARRAY("Multiboard", "multiboard")
    function s__Table__multiboards__getindex takes integer this,integer key returns multiboard
        return LoadMultiboardHandle(Table__ht, this, key)
    endfunction
    function s__Table__multiboards__setindex takes integer this,integer key,multiboard value returns nothing
        call SaveMultiboardHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__multiboards_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__multiboards_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Multiboard", "multiboard")
//textmacro instance: NEW_ARRAY("MultiboardItem", "multiboarditem")
    function s__Table__multiboarditems__getindex takes integer this,integer key returns multiboarditem
        return LoadMultiboardItemHandle(Table__ht, this, key)
    endfunction
    function s__Table__multiboarditems__setindex takes integer this,integer key,multiboarditem value returns nothing
        call SaveMultiboardItemHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__multiboarditems_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__multiboarditems_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("MultiboardItem", "multiboarditem")
//textmacro instance: NEW_ARRAY("Trackable", "trackable")
    function s__Table__trackables__getindex takes integer this,integer key returns trackable
        return LoadTrackableHandle(Table__ht, this, key)
    endfunction
    function s__Table__trackables__setindex takes integer this,integer key,trackable value returns nothing
        call SaveTrackableHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__trackables_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__trackables_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Trackable", "trackable")
//textmacro instance: NEW_ARRAY("Dialog", "dialog")
    function s__Table__dialogs__getindex takes integer this,integer key returns dialog
        return LoadDialogHandle(Table__ht, this, key)
    endfunction
    function s__Table__dialogs__setindex takes integer this,integer key,dialog value returns nothing
        call SaveDialogHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__dialogs_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__dialogs_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Dialog", "dialog")
//textmacro instance: NEW_ARRAY("Button", "button")
    function s__Table__buttons__getindex takes integer this,integer key returns button
        return LoadButtonHandle(Table__ht, this, key)
    endfunction
    function s__Table__buttons__setindex takes integer this,integer key,button value returns nothing
        call SaveButtonHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__buttons_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__buttons_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Button", "button")
//textmacro instance: NEW_ARRAY("TextTag", "texttag")
    function s__Table__texttags__getindex takes integer this,integer key returns texttag
        return LoadTextTagHandle(Table__ht, this, key)
    endfunction
    function s__Table__texttags__setindex takes integer this,integer key,texttag value returns nothing
        call SaveTextTagHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__texttags_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__texttags_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("TextTag", "texttag")
//textmacro instance: NEW_ARRAY("Lightning", "lightning")
    function s__Table__lightnings__getindex takes integer this,integer key returns lightning
        return LoadLightningHandle(Table__ht, this, key)
    endfunction
    function s__Table__lightnings__setindex takes integer this,integer key,lightning value returns nothing
        call SaveLightningHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__lightnings_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__lightnings_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Lightning", "lightning")
//textmacro instance: NEW_ARRAY("Image", "image")
    function s__Table__images__getindex takes integer this,integer key returns image
        return LoadImageHandle(Table__ht, this, key)
    endfunction
    function s__Table__images__setindex takes integer this,integer key,image value returns nothing
        call SaveImageHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__images_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__images_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Image", "image")
//textmacro instance: NEW_ARRAY("Ubersplat", "ubersplat")
    function s__Table__ubersplats__getindex takes integer this,integer key returns ubersplat
        return LoadUbersplatHandle(Table__ht, this, key)
    endfunction
    function s__Table__ubersplats__setindex takes integer this,integer key,ubersplat value returns nothing
        call SaveUbersplatHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__ubersplats_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__ubersplats_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Ubersplat", "ubersplat")
//textmacro instance: NEW_ARRAY("Region", "region")
    function s__Table__regions__getindex takes integer this,integer key returns region
        return LoadRegionHandle(Table__ht, this, key)
    endfunction
    function s__Table__regions__setindex takes integer this,integer key,region value returns nothing
        call SaveRegionHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__regions_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__regions_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Region", "region")
//textmacro instance: NEW_ARRAY("FogState", "fogstate")
    function s__Table__fogstates__getindex takes integer this,integer key returns fogstate
        return LoadFogStateHandle(Table__ht, this, key)
    endfunction
    function s__Table__fogstates__setindex takes integer this,integer key,fogstate value returns nothing
        call SaveFogStateHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__fogstates_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__fogstates_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("FogState", "fogstate")
//textmacro instance: NEW_ARRAY("FogModifier", "fogmodifier")
    function s__Table__fogmodifiers__getindex takes integer this,integer key returns fogmodifier
        return LoadFogModifierHandle(Table__ht, this, key)
    endfunction
    function s__Table__fogmodifiers__setindex takes integer this,integer key,fogmodifier value returns nothing
        call SaveFogModifierHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__fogmodifiers_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__fogmodifiers_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("FogModifier", "fogmodifier")
//textmacro instance: NEW_ARRAY("Hashtable", "hashtable")
    function s__Table__hashtables__getindex takes integer this,integer key returns hashtable
        return LoadHashtableHandle(Table__ht, this, key)
    endfunction
    function s__Table__hashtables__setindex takes integer this,integer key,hashtable value returns nothing
        call SaveHashtableHandle(Table__ht, this, key, value)
    endfunction
    function s__Table__hashtables_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table__ht, this, key)
    endfunction
    function s__Table__hashtables_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table__ht, this, key)
    endfunction
//end of: NEW_ARRAY("Hashtable", "hashtable")
    
    
    // Implement modules for intuitive syntax (tb.handle; tb.unit; etc.)
//Implemented from module Table__realm:
    function s__Table__get_real takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__integerm:
    function s__Table__get_integer takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__booleanm:
    function s__Table__get_boolean takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__stringm:
    function s__Table__get_string takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__playerm:
    function s__Table__get_player takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__widgetm:
    function s__Table__get_widget takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__destructablem:
    function s__Table__get_destructable takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__itemm:
    function s__Table__get_item takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__unitm:
    function s__Table__get_unit takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__abilitym:
    function s__Table__get_ability takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__timerm:
    function s__Table__get_timer takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__triggerm:
    function s__Table__get_trigger takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__triggerconditionm:
    function s__Table__get_triggercondition takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__triggeractionm:
    function s__Table__get_triggeraction takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__eventm:
    function s__Table__get_event takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__forcem:
    function s__Table__get_force takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__groupm:
    function s__Table__get_group takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__locationm:
    function s__Table__get_location takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__rectm:
    function s__Table__get_rect takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__boolexprm:
    function s__Table__get_boolexpr takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__soundm:
    function s__Table__get_sound takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__effectm:
    function s__Table__get_effect takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__unitpoolm:
    function s__Table__get_unitpool takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__itempoolm:
    function s__Table__get_itempool takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__questm:
    function s__Table__get_quest takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__questitemm:
    function s__Table__get_questitem takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__defeatconditionm:
    function s__Table__get_defeatcondition takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__timerdialogm:
    function s__Table__get_timerdialog takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__leaderboardm:
    function s__Table__get_leaderboard takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__multiboardm:
    function s__Table__get_multiboard takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__multiboarditemm:
    function s__Table__get_multiboarditem takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__trackablem:
    function s__Table__get_trackable takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__dialogm:
    function s__Table__get_dialog takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__buttonm:
    function s__Table__get_button takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__texttagm:
    function s__Table__get_texttag takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__lightningm:
    function s__Table__get_lightning takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__imagem:
    function s__Table__get_image takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__ubersplatm:
    function s__Table__get_ubersplat takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__regionm:
    function s__Table__get_region takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__fogstatem:
    function s__Table__get_fogstate takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__fogmodifierm:
    function s__Table__get_fogmodifier takes integer this returns integer
        return this
    endfunction
//Implemented from module Table__hashtablem:
    function s__Table__get_hashtable takes integer this returns integer
        return this
    endfunction
    
    function s__Table__get_handle takes integer this returns integer
        return this
    endfunction
    
    function s__Table__get_agent takes integer this returns integer
        return this
    endfunction
    
    //set this = tb[GetSpellAbilityId()]
    function s__Table__getindex takes integer this,integer key returns integer
        return LoadInteger(Table__ht, this, key) //return this.integer[key]
    endfunction
    
    //set tb[389034] = 8192
    function s__Table__setindex takes integer this,integer key,integer tb returns nothing
        call SaveInteger(Table__ht, this, key, tb) //set this.integer[key] = tb
    endfunction
    
    //set b = tb.has(2493223)
    function s__Table_has takes integer this,integer key returns boolean
        return HaveSavedInteger(Table__ht, this, key) //return this.integer.has(key)
    endfunction
    
    //call tb.remove(294080)
    function s__Table_remove takes integer this,integer key returns nothing
        call RemoveSavedInteger(Table__ht, this, key) //call this.integer.remove(key)
    endfunction
    
    //Remove all data from a Table instance
    function s__Table_flush takes integer this returns nothing
        call FlushChildHashtable(Table__ht, this)
    endfunction
    
    //local Table tb = Table.create()
    function s__Table_create takes nothing returns integer
        local integer this= (LoadInteger(Table__ht, ((Table__listK)), (0))) // INLINED!!
        
        if this == 0 then
            set this=Table__more + 1
            set Table__more=this
        else
            call SaveInteger(Table__ht, ((Table__listK)), (0), ( (LoadInteger(Table__ht, ((Table__listK)), (this))))) // INLINED!!
            call RemoveSavedInteger(Table__ht, ((Table__listK)), (this)) //Clear hashed memory // INLINED!!
        endif
        
        return this
    endfunction
    
    // Removes all data from a Table instance and recycles its index.
    //
    //     call tb.destroy()
    //
    function s__Table_destroy takes integer this returns nothing
        
        call FlushChildHashtable(Table__ht, (this)) // INLINED!!
        
        call SaveInteger(Table__ht, ((Table__listK)), (this), ( (LoadInteger(Table__ht, ((Table__listK)), (0))))) // INLINED!!
        call SaveInteger(Table__ht, ((Table__listK)), (0), ( this)) // INLINED!!
    endfunction
    
//ignored textmacro command: TABLE_BC_METHODS()
    
//ignored textmacro command: TABLE_BC_STRUCTS()
    
    
    //Returns a new TableArray to do your bidding. Simply use:
    //
    //    local TableArray ta = TableArray[array_size]
    //
    function s__TableArray__staticgetindex takes integer array_size returns integer
        local integer tb= (LoadInteger(Table__ht, ((Table__sizeK)), (array_size))) // INLINED!!
        local integer this= (LoadInteger(Table__ht, (tb), (0))) // INLINED!!
        
        
        if this == 0 then
            set this=Table__less - array_size
            set Table__less=this
        else
            call SaveInteger(Table__ht, (tb), (0), ( (LoadInteger(Table__ht, (tb), (this))))) //Set the last destroyed to the last-last destroyed // INLINED!!
            call RemoveSavedInteger(Table__ht, (tb), (this)) //Clear hashed memory // INLINED!!
        endif
        
        call SaveInteger(Table__ht, ((Table__sizeK)), (this), ( array_size)) //This remembers the array size // INLINED!!
        return this
    endfunction
    
    //Returns the size of the TableArray
    function s__TableArray__get_size takes integer this returns integer
        return (LoadInteger(Table__ht, ((Table__sizeK)), (this))) // INLINED!!
    endfunction
    
    //This magic method enables two-dimensional[array][syntax] for Tables,
    //similar to the two-dimensional utility provided by hashtables them-
    //selves.
    //
    //ta[integer a].unit[integer b] = unit u
    //ta[integer a][integer c] = integer d
    //
    //Inline-friendly when not running in debug mode
    //
    function s__TableArray__getindex takes integer this,integer key returns integer










        return this + key
    endfunction
    
    //Destroys a TableArray without flushing it; I assume you call .flush()
    //if you want it flushed too. This is a public method so that you don't
    //have to loop through all TableArray indices to flush them if you don't
    //need to (ie. if you were flushing all child-keys as you used them).
    //
    function s__TableArray_destroy takes integer this returns nothing
        local integer tb= (LoadInteger(Table__ht, ((Table__sizeK)), ((LoadInteger(Table__ht, ((Table__sizeK)), ((this))))))) // INLINED!!
        
        
        if tb == 0 then
            //Create a Table to index recycled instances with their array size
            set tb=s__Table_create()
            call SaveInteger(Table__ht, ((Table__sizeK)), ((LoadInteger(Table__ht, ((Table__sizeK)), ((this))))), ( tb)) // INLINED!!
        endif
        
        call RemoveSavedInteger(Table__ht, ((Table__sizeK)), (this)) //Clear the array size from hash memory // INLINED!!
        
        call SaveInteger(Table__ht, (tb), (this), ( (LoadInteger(Table__ht, (tb), (0))))) // INLINED!!
        call SaveInteger(Table__ht, (tb), (0), ( this)) // INLINED!!
    endfunction
    
    
    //Avoids hitting the op limit
    function s__TableArray_clean takes nothing returns nothing
        local integer tb= s__TableArray_tempTable
        local integer end= tb + 0x1000
        if end < s__TableArray_tempEnd then
            set s__TableArray_tempTable=end
            call ForForce(bj_FORCE_PLAYER[0], function s__TableArray_clean)
        else
            set end=s__TableArray_tempEnd
        endif
        loop
            call FlushChildHashtable(Table__ht, (tb)) // INLINED!!
            set tb=tb + 1
            exitwhen tb == end
        endloop
    endfunction
    
    //Flushes the TableArray and also destroys it. Doesn't get any more
    //similar to the FlushParentHashtable native than this.
    //
    function s__TableArray_flush takes integer this returns nothing
        set s__TableArray_tempTable=this
        set s__TableArray_tempEnd=this + (LoadInteger(Table__ht, ((Table__sizeK)), ((this)))) // INLINED!!
        call ForForce(bj_FORCE_PLAYER[0], function s__TableArray_clean)
        call s__TableArray_destroy(this)
    endfunction
    
    
//NEW: Added in Table 4.0. A fairly simple struct but allows you to do more
//than that which was previously possible.

    //Enables myHash[parentKey][childKey] syntax.
    //Basically, it creates a Table in the place of the parent key if
    //it didn't already get created earlier.
    function s__HashTable__getindex takes integer this,integer index returns integer
        local integer t= (LoadInteger(Table__ht, ((this)), (index))) // INLINED!!
        if t == 0 then
            set t=s__Table_create()
            call SaveInteger(Table__ht, ((this)), (index), ( t)) //whoops! Forgot that line. I'm out of practice! // INLINED!!
        endif
        return t
    endfunction

    //You need to call this on each parent key that you used if you
    //intend to destroy the HashTable or simply no longer need that key.
    function s__HashTable_remove takes integer this,integer index returns nothing
        local integer t= (LoadInteger(Table__ht, ((this)), (index))) // INLINED!!
        if t != 0 then
            call s__Table_destroy(t)
            call RemoveSavedInteger(Table__ht, ((this)), (index)) // INLINED!!
        endif
    endfunction
    
    //Added in version 4.1
    function s__HashTable_has takes integer this,integer index returns boolean
        return (HaveSavedInteger(Table__ht, ((this)), (index))) // INLINED!!
    endfunction
    
    //HashTables are just fancy Table indices.
    function s__HashTable_destroy takes integer this returns nothing
        call s__Table_destroy((this))
    endfunction
    
    //Like I said above...
    function s__HashTable_create takes nothing returns integer
        return s__Table_create()
    endfunction



//library Table ends
//library TimerUtils:
//*********************************************************************
//* TimerUtils (red+blue+orange flavors for 1.24b+) 2.0
//* ----------
//*
//*  To implement it , create a custom text trigger called TimerUtils
//* and paste the contents of this script there.
//*
//*  To copy from a map to another, copy the trigger holding this
//* library to your map.
//*
//* (requires vJass)   More scripts: htt://www.wc3c.net
//*
//* For your timer needs:
//*  * Attaching
//*  * Recycling (with double-free protection)
//*
//* set t=NewTimer()      : Get a timer (alternative to CreateTimer)
//* set t=NewTimerEx(x)   : Get a timer (alternative to CreateTimer), call
//*                            Initialize timer data as x, instead of 0.
//*
//* ReleaseTimer(t)       : Relese a timer (alt to DestroyTimer)
//* SetTimerData(t,2)     : Attach value 2 to timer
//* GetTimerData(t)       : Get the timer's value.
//*                         You can assume a timer's value is 0
//*                         after NewTimer.
//*
//* Multi-flavor:
//*    Set USE_HASH_TABLE to true if you don't want to complicate your life.
//*
//* If you like speed and giberish try learning about the other flavors.
//*
//********************************************************************

//================================================================

    //==================================================================================================
    
    

    //It is dependent on jasshelper's recent inlining optimization in order to perform correctly.
    function SetTimerData takes timer t,integer value returns nothing

            // new blue
            call SaveInteger(TimerUtils__ht, 0, GetHandleId(t), value)
            

















    endfunction

    function GetTimerData takes timer t returns integer

            // new blue
            return LoadInteger(TimerUtils__ht, 0, GetHandleId(t))
            

















    endfunction

    //==========================================================================================

    //==========================================================================================
    // I needed to decide between duplicating code ignoring the "Once and only once" rule
    // and using the ugly textmacros. I guess textmacros won.
    //

    function NewTimerEx takes integer value returns timer
        if ( TimerUtils__tN == 0 ) then
            if ( not TimerUtils__didinit ) then
                //This extra if shouldn't represent a major performance drawback
                //because QUANTITY rule is not supposed to be broken every day. 
                call TriggerEvaluate(st___prototype8[(1)]) // INLINED!!
                set TimerUtils__tN=TimerUtils__tN - 1
            else
                //If this happens then the QUANTITY rule has already been broken, try to fix the
                // issue, else fail.
                set s__TimerUtils__tT[0]= CreateTimer()















            endif
        else
            set TimerUtils__tN=TimerUtils__tN - 1
        endif
        call SaveInteger(TimerUtils__ht, 0, GetHandleId((s__TimerUtils__tT[TimerUtils__tN] )), ( value)) // INLINED!!
     return s__TimerUtils__tT[TimerUtils__tN]
    endfunction
    
    function NewTimer takes nothing returns timer
        return NewTimerEx(0)
    endfunction


    //==========================================================================================
    function ReleaseTimer takes timer t returns nothing
        if ( t == null ) then
            return
        endif
        if ( TimerUtils__tN == TimerUtils__ARRAY_SIZE ) then
            //stack is full, the map already has much more troubles than the chance of bug
            call DestroyTimer(t)
        else
            call PauseTimer(t)
            if ( (LoadInteger(TimerUtils__ht, 0, GetHandleId((t)))) == TimerUtils__HELD ) then // INLINED!!
                return
            endif
            call SaveInteger(TimerUtils__ht, 0, GetHandleId((t )), ( TimerUtils__HELD)) // INLINED!!
            set s__TimerUtils__tT[TimerUtils__tN]= t
            set TimerUtils__tN=TimerUtils__tN + 1
        endif
    endfunction

    function TimerUtils__init takes nothing returns nothing
     local integer i=0
     local integer o=- 1
     local boolean oops= false
        if ( TimerUtils__didinit ) then
            return
        else
            set TimerUtils__didinit=true
        endif
     

            set TimerUtils__ht=InitHashtable()
            loop
                exitwhen ( i == TimerUtils__QUANTITY )
                set s__TimerUtils__tT[i]= CreateTimer()
                call SaveInteger(TimerUtils__ht, 0, GetHandleId((s__TimerUtils__tT[i] )), ( TimerUtils__HELD)) // INLINED!!
                set i=i + 1
            endloop
            set TimerUtils__tN=TimerUtils__QUANTITY










































    endfunction


//library TimerUtils ends
//library WorldBounds:
	
		
		
		
		
//Implemented from module WorldBounds__WorldBoundInit:
  function s__WorldBounds_WorldBounds__WorldBoundInit___onInit takes nothing returns nothing
			set s__WorldBounds_world=GetWorldBounds()
			
			set s__WorldBounds_maxX=R2I(GetRectMaxX(s__WorldBounds_world))
			set s__WorldBounds_maxY=R2I(GetRectMaxY(s__WorldBounds_world))
			set s__WorldBounds_minX=R2I(GetRectMinX(s__WorldBounds_world))
			set s__WorldBounds_minY=R2I(GetRectMinY(s__WorldBounds_world))
			
			set s__WorldBounds_centerX=R2I(( s__WorldBounds_maxX + s__WorldBounds_minX ) / 2)
			set s__WorldBounds_centerY=R2I(( s__WorldBounds_minY + s__WorldBounds_maxY ) / 2)
			
			set s__WorldBounds_worldRegion=CreateRegion()
			
			call RegionAddRect(s__WorldBounds_worldRegion, s__WorldBounds_world)
  endfunction

//library WorldBounds ends
//library Alloc:
	

//library Alloc ends
//library DelayedOrder:
    

    


    function s__DelayedOrder_clock takes nothing returns nothing
        local timer t= GetExpiredTimer()
        local integer this= (LoadInteger(TimerUtils__ht, 0, GetHandleId((t)))) // INLINED!!
        call IssueImmediateOrderById(s__DelayedOrder_u[this], s__DelayedOrder_o[this])
        call ReleaseTimer(t)
        set s__DelayedOrder_u[this]=null
        call s__DelayedOrder_deallocate(this)
        set t=null
    endfunction
    
    function s__DelayedOrder_start takes unit u,integer ordr,real time returns nothing
        local integer this= s__DelayedOrder__allocate()
        set s__DelayedOrder_u[this]=u
        set s__DelayedOrder_o[this]=ordr
        call TimerStart(NewTimerEx(this), time, false, function s__DelayedOrder_clock)
    endfunction




    
    function s__DelayedOrderXY_clock takes nothing returns nothing
        local timer t= GetExpiredTimer()
        local integer this= (LoadInteger(TimerUtils__ht, 0, GetHandleId((t)))) // INLINED!!
        call IssuePointOrderById(s__DelayedOrderXY_u[this], s__DelayedOrderXY_o[this], s__DelayedOrderXY_x[this], s__DelayedOrderXY_y[this])
        call ReleaseTimer(t)
        set s__DelayedOrderXY_u[this]=null
        call s__DelayedOrderXY_deallocate(this)
        set t=null
    endfunction
    
    function s__DelayedOrderXY_start takes unit u,integer ordr,real time,real x,real y returns nothing
        local integer this= s__DelayedOrderXY__allocate()
        set s__DelayedOrderXY_u[this]=u
        set s__DelayedOrderXY_o[this]=ordr
        set s__DelayedOrderXY_x[this]=x
        set s__DelayedOrderXY_y[this]=y
        call TimerStart(NewTimerEx(this), time, false, function s__DelayedOrderXY_clock)
    endfunction
    



    
    function s__DelayedOrderTarget_clock takes nothing returns nothing
        local timer t= GetExpiredTimer()
        local integer this= (LoadInteger(TimerUtils__ht, 0, GetHandleId((t)))) // INLINED!!
        call IssueTargetOrderById(s__DelayedOrderTarget_u[this], s__DelayedOrderTarget_o[this], s__DelayedOrderTarget_w[this])
        call ReleaseTimer(t)
        set s__DelayedOrderTarget_u[this]=null
        set s__DelayedOrderTarget_w[this]=null
        call s__DelayedOrderTarget_deallocate(this)
        set t=null
    endfunction
    
    function s__DelayedOrderTarget_start takes unit u,integer ordr,real time,widget w returns nothing
        local integer this= s__DelayedOrderTarget__allocate()
        set s__DelayedOrderTarget_u[this]=u
        set s__DelayedOrderTarget_o[this]=ordr
        set s__DelayedOrderTarget_w[this]=w
        call TimerStart(NewTimerEx(this), time, false, function s__DelayedOrderTarget_clock)
    endfunction
    



//library DelayedOrder ends
//library EffectUtils:



function s__EffectUtils_onTimedLife takes nothing returns nothing
    local timer clock= GetExpiredTimer()
    local integer this= (LoadInteger(TimerUtils__ht, 0, GetHandleId((clock)))) // INLINED!!

    if s__EffectUtils_hide[this] then
        call BlzSetSpecialEffectPosition(s__EffectUtils_vfx[this], s__WorldBounds_maxX, s__WorldBounds_maxY, 5000)
    endif

    call DestroyEffect(s__EffectUtils_vfx[this])
    set s__EffectUtils_vfx[this]=null

    call ReleaseTimer(clock)
    set clock=null
endfunction

function s__EffectUtils_addTimedLife takes effect vfx,real dur,boolean hideOnDeath returns nothing
    local integer this= s__EffectUtils__allocate()
    local timer clock= NewTimerEx(this)
    set s__EffectUtils_vfx[this]=vfx
    set s__EffectUtils_hide[this]=hideOnDeath
    call TimerStart(clock, dur, false, function s__EffectUtils_onTimedLife)
endfunction



//library EffectUtils ends
//library IsUnitContructing:




    function s__IsUnitContructing_onCheckConstruction takes nothing returns nothing
        local timer clock= GetExpiredTimer()
        local integer this= (LoadInteger(TimerUtils__ht, 0, GetHandleId((clock)))) // INLINED!!
        
        set udg_IndexExUnit=s__IsUnitContructing_source[this]

        set udg_UnitIndexExEvent=0.00
        set udg_UnitIndexExEvent=1.00
        set udg_UnitIndexExEvent=0.00

        set udg_IndexExUnit=null

        call ReleaseTimer(clock)
        set clock=null
        set s__IsUnitContructing_source[this]=null

        call s__IsUnitContructing_deallocate(this)
    endfunction

    function s__IsUnitContructing_onContructionStart takes nothing returns boolean
        set udg_IsUnitConstructing[GetUnitUserData(GetTriggerUnit())]=true
        return false
    endfunction

    function s__IsUnitContructing_onContructionDone takes nothing returns boolean
        set udg_IsUnitConstructing[GetUnitUserData(GetTriggerUnit())]=false
        return false
    endfunction

    function s__IsUnitContructing_onIndex takes nothing returns boolean
        local integer this= s__IsUnitContructing__allocate()
        local timer clock= NewTimerEx(this)
        set s__IsUnitContructing_source[this]=udg_UDexUnits[udg_UDex]
        set s__IsUnitContructing_id[this]=udg_UDex
        call TimerStart(clock, 0., false, function s__IsUnitContructing_onCheckConstruction)
        return false
    endfunction


function IsUnitContructing__init takes nothing returns nothing
    local trigger trigIndex= CreateTrigger()
    local trigger trigBuildStart= CreateTrigger()
    local trigger trigBuildEnd= CreateTrigger()

    call TriggerRegisterVariableEvent(trigIndex, "udg_UnitIndexEvent", EQUAL, 1.00)
    call TriggerAddCondition(trigIndex, Condition(function s__IsUnitContructing_onIndex))
    
    call TriggerRegisterAnyUnitEventBJ(trigBuildStart, EVENT_PLAYER_UNIT_CONSTRUCT_START)
    call TriggerAddCondition(trigBuildStart, Condition(function s__IsUnitContructing_onContructionStart))

    call TriggerRegisterAnyUnitEventBJ(trigBuildEnd, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH)
    call TriggerRegisterAnyUnitEventBJ(trigBuildEnd, EVENT_PLAYER_UNIT_CONSTRUCT_CANCEL)
    call TriggerAddCondition(trigBuildEnd, Condition(function s__IsUnitContructing_onContructionDone))

    set trigIndex=null
    set trigBuildStart=null
    set trigBuildEnd=null
endfunction


//library IsUnitContructing ends
//library RegisterNativeEvent:







//Implemented from module RegisterNativeEvent__NativeEventInit:
    function s__RegisterNativeEvent__NativeEvent_RegisterNativeEvent__NativeEventInit___onInit takes nothing returns nothing

        set s__RegisterNativeEvent__NativeEvent_table=s__TableArray__staticgetindex(0x2000)

    endfunction

function IsNativeEventRegistered takes integer whichIndex,integer whichEvent returns boolean

    return (HaveSavedHandle(Table__ht, (((((s__RegisterNativeEvent__NativeEvent_table) + (whichEvent))))), (whichIndex))) // INLINED!!



endfunction

function RegisterNativeEventTrigger takes integer whichIndex,integer whichEvent returns boolean
    if not IsNativeEventRegistered(whichIndex , whichEvent) then

        call SaveTriggerHandle(Table__ht, (((((s__RegisterNativeEvent__NativeEvent_table) + (whichEvent))))), (whichIndex), ( CreateTrigger())) // INLINED!!



        return true
    endif
    return false
endfunction

function GetIndexNativeEventTrigger takes integer whichIndex,integer whichEvent returns trigger

    return (LoadTriggerHandle(Table__ht, (((((s__RegisterNativeEvent__NativeEvent_table) + (whichEvent))))), (whichIndex))) // INLINED!!



endfunction

function GetNativeEventTrigger takes integer whichEvent returns trigger
    return GetIndexNativeEventTrigger(bj_MAX_PLAYER_SLOTS , whichEvent)
endfunction

function CreateNativeEvent takes nothing returns integer
    local integer eventId= RegisterNativeEvent__eventIndex
    call RegisterNativeEventTrigger(bj_MAX_PLAYER_SLOTS , eventId)
    set RegisterNativeEvent__eventIndex=RegisterNativeEvent__eventIndex + 1
    return eventId
endfunction

function RegisterIndexNativeEvent takes integer whichIndex,integer whichEvent,code func returns triggercondition
    call RegisterNativeEventTrigger(whichIndex , whichEvent)
    return TriggerAddCondition(GetIndexNativeEventTrigger(whichIndex , whichEvent), Condition(func))
endfunction

function RegisterNativeEvent takes integer whichEvent,code func returns triggercondition
    return RegisterIndexNativeEvent(bj_MAX_PLAYER_SLOTS , whichEvent , func)
endfunction

function UnregisterNativeEventHandler takes integer whichEvent,triggercondition handler returns nothing
    call TriggerRemoveCondition((GetIndexNativeEventTrigger(bj_MAX_PLAYER_SLOTS , (whichEvent))), handler) // INLINED!!
endfunction


//library RegisterNativeEvent ends
//library ListT:

//textmacro instance: DEFINE_LIST("", "IntegerList", "integer")
    // No default ctor and dctor due to limited array size

    function s__IntegerListItem__get_data takes integer this returns integer
        return (LoadInteger(Table__ht, ((((this)))), (- 1))) // hashtable[ node, -1 ] = data // INLINED!!
    endfunction
    function s__IntegerListItem__set_data takes integer this,integer value returns nothing
        call SaveInteger(Table__ht, ((((this)))), (- 1), ( value)) // INLINED!!
    endfunction

    function s__IntegerListItem__get_next takes integer this returns integer
        return (LoadInteger(Table__ht, ((this)), (- 2))) // hashtable[ node, -2 ] = next // INLINED!!
    endfunction
    function s__IntegerListItem__set_next takes integer this,integer value returns nothing
        call SaveInteger(Table__ht, ((this)), (- 2), ( value)) // INLINED!!
    endfunction

    function s__IntegerListItem__get_prev takes integer this returns integer
        return (LoadInteger(Table__ht, ((this)), (- 3))) // hashtable[ node, -3 ] = prev // INLINED!!
    endfunction
    function s__IntegerListItem__set_prev takes integer this,integer value returns nothing
        call SaveInteger(Table__ht, ((this)), (- 3), ( value)) // INLINED!!
    endfunction


//Implemented from module Alloc:
		
		
		





		
		
  function s__IntegerList_allocate takes nothing returns integer
   local integer this
			
			if ( s__IntegerList_Alloc___recyclerCount == 0 ) then
				set this=s__IntegerList_Alloc___instanceCount + 1
				set s__IntegerList_Alloc___instanceCount=this
				


			else
				set s__IntegerList_Alloc___recyclerCount=s__IntegerList_Alloc___recyclerCount - 1
				
				set this=(LoadInteger(Table__ht, (s__IntegerList_Alloc___recycler), (s__IntegerList_Alloc___recyclerCount))) // INLINED!!
			endif
			



			
			return this
  endfunction
		
  function s__IntegerList_deallocate takes integer this returns nothing



			



			
			call SaveInteger(Table__ht, (s__IntegerList_Alloc___recycler), (s__IntegerList_Alloc___recyclerCount), ( this)) // INLINED!!
			set s__IntegerList_Alloc___recyclerCount=s__IntegerList_Alloc___recyclerCount + 1
  endfunction
		
















		
		



		
		
  function s__IntegerList_Alloc___onInit takes nothing returns nothing
			set s__IntegerList_Alloc___recycler=s__Table_create()
			



  endfunction

    function s__IntegerList_setNodeOwner takes integer node,integer owner returns nothing
        call SaveInteger(Table__ht, ((node)), (- 4), ( owner)) // INLINED!!
    endfunction

    function s__IntegerList_getNodeOwner takes integer node returns integer
        return (LoadInteger(Table__ht, ((node)), (- 4))) // INLINED!!
    endfunction

    function s__IntegerList_createNode takes integer this,integer value returns integer
        local integer node= s__Table_create()
        call SaveInteger(Table__ht, (((((node))))), (- 1), ( (value))) // INLINED!!
        call SaveInteger(Table__ht, (((node ))), (- 4), ( ( this))) // ownership // INLINED!!
        return node
    endfunction

    function s__IntegerList_deleteNode takes integer this,integer node returns nothing
        call s__Table_destroy((node)) // also removes ownership
    endfunction

    function s__IntegerList_create takes nothing returns integer
        local integer this= s__IntegerList_allocate()
        set s__IntegerList_count[this]=0
        return this
    endfunction

    function s__IntegerList_clear takes integer this returns nothing
        local integer node= s__IntegerList_first[this]
        local integer temp

        loop // recycle all Table indexes
            exitwhen 0 == node
            set temp=(LoadInteger(Table__ht, (((node))), (- 2))) // INLINED!!
            call s__IntegerList_deleteNode(this,node)
            set node=temp
        endloop

        set s__IntegerList_first[this]=0
        set s__IntegerList_last[this]=0
        set s__IntegerList_count[this]=0
    endfunction

    function s__IntegerList_destroy takes integer this returns nothing
        call s__IntegerList_clear(this)
        call s__IntegerList_deallocate(this)
    endfunction

    function s__IntegerList_front takes integer this returns integer
        return (LoadInteger(Table__ht, (((((s__IntegerList_first[this]))))), (- 1))) // INLINED!!
    endfunction

    function s__IntegerList_back takes integer this returns integer
        return (LoadInteger(Table__ht, (((((s__IntegerList_last[this]))))), (- 1))) // INLINED!!
    endfunction

    function s__IntegerList_empty takes integer this returns boolean
        return s__IntegerList_count[this] == 0
    endfunction

    function s__IntegerList_size takes integer this returns integer
        return s__IntegerList_count[this]
    endfunction

    function s__IntegerList_push takes integer this,integer value returns integer
        local integer node= s__IntegerList_createNode(this,value)

        if not (s__IntegerList_count[(this)] == 0) then // INLINED!!
            call SaveInteger(Table__ht, (((s__IntegerList_last[this]))), (- 2), ( (node))) // INLINED!!
            call SaveInteger(Table__ht, (((node))), (- 3), ( (s__IntegerList_last[this]))) // INLINED!!
        else
            set s__IntegerList_first[this]=node
            call SaveInteger(Table__ht, (((node))), (- 3), ( (0))) // INLINED!!
        endif

        set s__IntegerList_last[this]=node
        call SaveInteger(Table__ht, (((node))), (- 2), ( (0))) // INLINED!!
        set s__IntegerList_count[this]=s__IntegerList_count[this] + 1
        return this
    endfunction

    function s__IntegerList_unshift takes integer this,integer value returns integer
        local integer node= s__IntegerList_createNode(this,value)

        if not (s__IntegerList_count[(this)] == 0) then // INLINED!!
            call SaveInteger(Table__ht, (((s__IntegerList_first[this]))), (- 3), ( (node))) // INLINED!!
            call SaveInteger(Table__ht, (((node))), (- 2), ( (s__IntegerList_first[this]))) // INLINED!!
        else
            set s__IntegerList_last[this]=node
            call SaveInteger(Table__ht, (((node))), (- 2), ( (0))) // INLINED!!
        endif

        set s__IntegerList_first[this]=node
        call SaveInteger(Table__ht, (((node))), (- 3), ( (0))) // INLINED!!
        set s__IntegerList_count[this]=s__IntegerList_count[this] + 1
        return this
    endfunction

    function s__IntegerList_pop takes integer this returns integer
        local integer node

        if not (s__IntegerList_count[(this)] == 0) then // INLINED!!
            set node=s__IntegerList_last[this]
            set s__IntegerList_last[this]=(LoadInteger(Table__ht, (((s__IntegerList_last[this]))), (- 3))) // INLINED!!

            if s__IntegerList_last[this] == 0 then
                set s__IntegerList_first[this]=0
            else
                call SaveInteger(Table__ht, (((s__IntegerList_last[this]))), (- 2), ( (0))) // INLINED!!
            endif

            call s__IntegerList_deleteNode(this,node)
            set s__IntegerList_count[this]=s__IntegerList_count[this] - 1
        endif
        return this
    endfunction

    function s__IntegerList_shift takes integer this returns integer
        local integer node

        if not (s__IntegerList_count[(this)] == 0) then // INLINED!!
            set node=s__IntegerList_first[this]
            set s__IntegerList_first[this]=(LoadInteger(Table__ht, (((s__IntegerList_first[this]))), (- 2))) // INLINED!!

            if s__IntegerList_first[this] == 0 then
                set s__IntegerList_last[this]=0
            else
                call SaveInteger(Table__ht, (((s__IntegerList_first[this]))), (- 3), ( (0))) // INLINED!!
            endif

            call s__IntegerList_deleteNode(this,node)
            set s__IntegerList_count[this]=s__IntegerList_count[this] - 1
        endif
        return this
    endfunction

    function s__IntegerList__staticgetindex takes integer other returns integer
        local integer instance= s__IntegerList_create()
        local integer node= s__IntegerList_first[other]

        loop
            exitwhen node == 0
            call s__IntegerList_push(instance,(LoadInteger(Table__ht, (((((node))))), (- 1)))) // INLINED!!
            set node=(LoadInteger(Table__ht, (((node))), (- 2))) // INLINED!!
        endloop

        return instance
    endfunction

    function s__IntegerList_find takes integer this,integer value returns integer
        local integer node= s__IntegerList_first[this]
        loop
            exitwhen node == 0 or (LoadInteger(Table__ht, (((((node))))), (- 1))) == value // INLINED!!
            set node=(LoadInteger(Table__ht, (((node))), (- 2))) // INLINED!!
        endloop
        return node
    endfunction

    function s__IntegerList_erase takes integer this,integer node returns boolean
        if (LoadInteger(Table__ht, (((node))), (- 4))) == this then // match ownership // INLINED!!
            if node == s__IntegerList_first[this] then
                call s__IntegerList_shift(this)
            elseif node == s__IntegerList_last[this] then
                call s__IntegerList_pop(this)
            else
                call SaveInteger(Table__ht, ((((LoadInteger(Table__ht, (((node))), (- 3)))))), (- 2), ( ((LoadInteger(Table__ht, (((node))), (- 2)))))) // INLINED!!
                call SaveInteger(Table__ht, ((((LoadInteger(Table__ht, (((node))), (- 2)))))), (- 3), ( ((LoadInteger(Table__ht, (((node))), (- 3)))))) // INLINED!!
                call s__IntegerList_deleteNode(this,node)
                set s__IntegerList_count[this]=s__IntegerList_count[this] - 1
            endif
            return true
        endif
        return false
    endfunction

    function s__IntegerList_remove takes integer this,integer node returns boolean
        return s__IntegerList_erase(this,node)
    endfunction

    function s__IntegerList_removeElem takes integer this,integer value returns integer
        local integer node= s__IntegerList_find(this,value)
        if node != 0 then
            call s__IntegerList_erase(this,node)
        endif
        return this
    endfunction
//end of: DEFINE_LIST("", "IntegerList", "integer")
// Run here any global list types you want to be defined.




//library ListT ends
//library RegisterPlayerUnitEvent:

function GetAnyPlayerUnitEventTrigger takes playerunitevent whichEvent returns trigger
    return (GetIndexNativeEventTrigger(bj_MAX_PLAYER_SLOTS , (GetHandleId(whichEvent)))) // INLINED!!
endfunction

function GetPlayerUnitEventTrigger takes player whichPlayer,playerunitevent whichEvent returns trigger
    return GetIndexNativeEventTrigger(GetPlayerId(whichPlayer) , GetHandleId(whichEvent))
endfunction

function RegisterAnyPlayerUnitEvent takes playerunitevent whichEvent,code func returns nothing
    local integer eventId= GetHandleId(whichEvent)
    local integer index= 0
    local trigger t= null

    if RegisterNativeEventTrigger(bj_MAX_PLAYER_SLOTS , eventId) then
        set t=(GetIndexNativeEventTrigger(bj_MAX_PLAYER_SLOTS , (eventId))) // INLINED!!
        loop
            call TriggerRegisterPlayerUnitEvent(t, Player(index), whichEvent, null)
            set index=index + 1
            exitwhen index == bj_MAX_PLAYER_SLOTS
        endloop
        set t=null
    endif

call RegisterIndexNativeEvent(bj_MAX_PLAYER_SLOTS , (eventId ) , ( func)) // INLINED!!
endfunction

function RegisterPlayerUnitEvent takes player whichPlayer,playerunitevent whichEvent,code func returns nothing
    local integer playerId= GetPlayerId(whichPlayer)
    local integer eventId= GetHandleId(whichEvent)

    if RegisterNativeEventTrigger(playerId , eventId) then
        call TriggerRegisterPlayerUnitEvent(GetIndexNativeEventTrigger(playerId , eventId), whichPlayer, whichEvent, null)
    endif

    call RegisterIndexNativeEvent(playerId , eventId , func)
endfunction


//library RegisterPlayerUnitEvent ends
//library ConstructEvent:





function GetUnitId takes unit u returns integer
    return GetUnitUserData(u)
endfunction

function GetConstructingBuilder takes nothing returns unit
    return ConstructEvent__eventBuilder
endfunction

function GetConstructingBuilderId takes nothing returns integer
    return (GetUnitUserData((ConstructEvent__eventBuilder))) // INLINED!!
endfunction

function GetTriggeringStructure takes nothing returns unit
    return ConstructEvent__eventConstruct
endfunction

function GetTriggeringStructureId takes nothing returns integer
    return (GetUnitUserData((ConstructEvent__eventConstruct))) // INLINED!!
endfunction

function GetStructureBuilder takes unit whichUnit returns unit
    return ConstructEvent__builders[(GetUnitUserData((whichUnit)))] // INLINED!!
endfunction

function GetStructureBuilderById takes integer whichIndex returns unit
    return ConstructEvent__builders[whichIndex]
endfunction

function IsStructureFinished takes unit whichUnit returns boolean
    return ConstructEvent__finished[(GetUnitUserData((whichUnit)))] // INLINED!!
endfunction

function ConstructEvent__FireEvent takes integer evt,unit builder,unit structure returns nothing
    local unit prevBuilder= ConstructEvent__eventBuilder
    local unit prevConstruct= ConstructEvent__eventConstruct
    local integer playerId= GetPlayerId(GetOwningPlayer(builder))

    set ConstructEvent__eventBuilder=builder
    set ConstructEvent__eventConstruct=structure

    call TriggerEvaluate((GetIndexNativeEventTrigger(bj_MAX_PLAYER_SLOTS , (evt)))) // INLINED!!
    if IsNativeEventRegistered(playerId , evt) then
        call TriggerEvaluate(GetIndexNativeEventTrigger(playerId , evt))
    endif

    set ConstructEvent__eventBuilder=prevBuilder
    set ConstructEvent__eventConstruct=prevConstruct
    set prevBuilder=null
    set prevConstruct=null
endfunction


function ConstructEvent__TranslateXY takes real r returns real
    if r >= 0 then
        return R2I(r / 0.250) * 0.250
    else
        return ( R2I(r / 0.250) - 1 ) * 0.250
    endif
endfunction


function ConstructEvent__IsBuildOrder takes integer o returns boolean
    return ( o >= 852008 and o <= 852013 ) or ( o == 852619 )
endfunction


function ConstructEvent__IsUnitWithinCoords takes unit u,real x,real y returns boolean
    return ( RAbsBJ(GetUnitX(u) - x) == 0 ) and ( RAbsBJ(GetUnitY(u) - y) == 0 )
endfunction


//Implemented from module Alloc:
		
		
		





		
		
  function s__ConstructEvent__PeriodicData_allocate takes nothing returns integer
   local integer this
			
			if ( s__ConstructEvent__PeriodicData_Alloc___recyclerCount == 0 ) then
				set this=s__ConstructEvent__PeriodicData_Alloc___instanceCount + 1
				set s__ConstructEvent__PeriodicData_Alloc___instanceCount=this
				


			else
				set s__ConstructEvent__PeriodicData_Alloc___recyclerCount=s__ConstructEvent__PeriodicData_Alloc___recyclerCount - 1
				
				set this=(LoadInteger(Table__ht, (s__ConstructEvent__PeriodicData_Alloc___recycler), (s__ConstructEvent__PeriodicData_Alloc___recyclerCount))) // INLINED!!
			endif
			



			
			return this
  endfunction
		
  function s__ConstructEvent__PeriodicData_deallocate takes integer this returns nothing



			



			
			call SaveInteger(Table__ht, (s__ConstructEvent__PeriodicData_Alloc___recycler), (s__ConstructEvent__PeriodicData_Alloc___recyclerCount), ( this)) // INLINED!!
			set s__ConstructEvent__PeriodicData_Alloc___recyclerCount=s__ConstructEvent__PeriodicData_Alloc___recyclerCount + 1
  endfunction
		
















		
		



		
		
  function s__ConstructEvent__PeriodicData_Alloc___onInit takes nothing returns nothing
			set s__ConstructEvent__PeriodicData_Alloc___recycler=s__Table_create()
			



  endfunction

    function s__ConstructEvent__PeriodicData_destroy takes integer this returns nothing
        set ConstructEvent__instances[(GetUnitUserData((s__ConstructEvent__PeriodicData_builder[this])))]=0 // INLINED!!
        set s__ConstructEvent__PeriodicData_builder[this]=null
        set s__ConstructEvent__PeriodicData_btype[this]=null

        call s__IntegerList_erase(ConstructEvent__ongoing,s__IntegerList_find(ConstructEvent__ongoing,this))
        if (s__IntegerList_count[(ConstructEvent__ongoing)] == 0) then // INLINED!!
            call PauseTimer(ConstructEvent__looper)
        endif

        call s__ConstructEvent__PeriodicData_deallocate(this)
    endfunction

    function s__ConstructEvent__PeriodicData_create takes integer this,unit u,integer orderId,boolean flag,real x,real y returns integer
        if this == 0 then
            set this=s__ConstructEvent__PeriodicData_allocate()
            set s__ConstructEvent__PeriodicData_builder[this]=u
            set ConstructEvent__instances[(GetUnitUserData((u)))]=this // INLINED!!
            call s__IntegerList_push(ConstructEvent__ongoing,this)
        endif

        set s__ConstructEvent__PeriodicData_order[this]=orderId
        if flag then // ability based build order
            set s__ConstructEvent__PeriodicData_btype[this]=RACE_UNDEAD
        else
            set s__ConstructEvent__PeriodicData_btype[this]=GetUnitRace(s__ConstructEvent__PeriodicData_builder[this])
        endif

        set s__ConstructEvent__PeriodicData_cx[this]=x
        set s__ConstructEvent__PeriodicData_cy[this]=y
        set s__ConstructEvent__PeriodicData_ox[this]=s__ConstructEvent__PeriodicData_cx[this]
        set s__ConstructEvent__PeriodicData_oy[this]=s__ConstructEvent__PeriodicData_cy[this]

        if s__ConstructEvent__PeriodicData_cx[this] - I2R(R2I(s__ConstructEvent__PeriodicData_cx[this])) != 0 then
            set s__ConstructEvent__PeriodicData_cx[this]=ConstructEvent__TranslateXY(s__ConstructEvent__PeriodicData_cx[this])
        endif
        if s__ConstructEvent__PeriodicData_cy[this] - I2R(R2I(s__ConstructEvent__PeriodicData_cy[this])) != 0 then
            set s__ConstructEvent__PeriodicData_cy[this]=ConstructEvent__TranslateXY(s__ConstructEvent__PeriodicData_cy[this])
        endif

        return this
    endfunction

function ConstructEvent__OnCallback takes nothing returns nothing
    local integer iter= s__IntegerList_first[ConstructEvent__ongoing]
    local integer obj
    local real dx
    local real dy

    loop
        exitwhen iter == 0
        set obj=(LoadInteger(Table__ht, (((((iter))))), (- 1))) // INLINED!!

        if not UnitAlive(s__ConstructEvent__PeriodicData_builder[obj]) then
            call s__ConstructEvent__PeriodicData_destroy(obj)
        elseif s__ConstructEvent__PeriodicData_btype[obj] == RACE_UNDEAD or s__ConstructEvent__PeriodicData_btype[obj] == RACE_HUMAN then
            set dx=s__ConstructEvent__PeriodicData_cx[obj] - GetUnitX(s__ConstructEvent__PeriodicData_builder[obj])
            set dy=s__ConstructEvent__PeriodicData_cy[obj] - GetUnitY(s__ConstructEvent__PeriodicData_builder[obj])
            set s__ConstructEvent__PeriodicData_distance[obj]=dx * dx + dy * dy
        endif

        set iter=(LoadInteger(Table__ht, (((iter))), (- 2))) // INLINED!!
    endloop
endfunction

function ConstructEvent__OnNonPointOrder takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local unit target= GetOrderTargetUnit()
    local integer index= (GetUnitUserData((u))) // INLINED!!
    local integer orderId= GetIssuedOrderId()
    local integer obj= ConstructEvent__instances[index]

    // Non handle-type orders usually take 852XXX form and are below 900000
    if orderId > 900000 and target != null then
        if (s__IntegerList_count[(ConstructEvent__ongoing)] == 0) then // INLINED!!
            call TimerStart(ConstructEvent__looper, 0.031250000, true, function ConstructEvent__OnCallback)
        endif
        call s__ConstructEvent__PeriodicData_create(obj , u , orderId , true , GetUnitX(target) , GetUnitY(target))

        set target=null
    elseif obj != 0 then
        call s__ConstructEvent__PeriodicData_destroy(obj)
    elseif orderId == 851976 and ConstructEvent__builders[index] != null and not ConstructEvent__finished[index] then // order cancel
        if not IsUnitType(u, UNIT_TYPE_STRUCTURE) then
            set ConstructEvent__cancelled[index]=true
            call ConstructEvent__FireEvent(EVENT_UNIT_CONSTRUCTION_CANCEL , null , u)
        endif
    endif

    set u=null
endfunction

function ConstructEvent__OnPointOrder takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local integer orderId= GetIssuedOrderId()
    local integer obj= ConstructEvent__instances[(GetUnitUserData((u)))] // INLINED!!
    local boolean isBuildOrder= ConstructEvent__IsBuildOrder(orderId)

    // Non handle-type orders usually take 852XXX form and are below 900000
    if orderId > 900000 or isBuildOrder then
        if (s__IntegerList_count[(ConstructEvent__ongoing)] == 0) then // INLINED!!
            call TimerStart(ConstructEvent__looper, 0.031250000, true, function ConstructEvent__OnCallback)
        endif
        call s__ConstructEvent__PeriodicData_create(obj , u , orderId , isBuildOrder , GetOrderPointX() , GetOrderPointY())
    elseif obj != 0 then
        call s__ConstructEvent__PeriodicData_destroy(obj)
    endif

    set u=null
endfunction

function ConstructEvent__OnConstructCancel takes nothing returns nothing
    local unit u= GetTriggerUnit()

    set ConstructEvent__cancelled[(GetUnitUserData((u)))]=true // INLINED!!
    call ConstructEvent__FireEvent(EVENT_UNIT_CONSTRUCTION_CANCEL , null , u)

    set u=null
endfunction

function ConstructEvent__OnConstructFinish takes nothing returns nothing
    local unit u= GetTriggerUnit()

    set ConstructEvent__finished[(GetUnitUserData((u)))]=true // INLINED!!
    call ConstructEvent__FireEvent(EVENT_UNIT_CONSTRUCTION_FINISH , null , u)

    set u=null
endfunction

function ConstructEvent__OnIndex takes nothing returns nothing
    local unit u= udg_UDexUnits[udg_UDex]
    local integer id= GetUnitTypeId(u)
    local integer iter= s__IntegerList_first[ConstructEvent__ongoing]
    local integer obj
    local integer found= 0
    local real d= 1000000

    loop
        exitwhen iter == 0
        set obj=(LoadInteger(Table__ht, (((((iter))))), (- 1))) // INLINED!!

        if s__ConstructEvent__PeriodicData_order[obj] == id or ConstructEvent__IsBuildOrder(s__ConstructEvent__PeriodicData_order[obj]) then
            if s__ConstructEvent__PeriodicData_cx[obj] == GetUnitX(u) and s__ConstructEvent__PeriodicData_cy[obj] == GetUnitY(u) then
                if s__ConstructEvent__PeriodicData_btype[obj] == RACE_HUMAN or s__ConstructEvent__PeriodicData_btype[obj] == RACE_UNDEAD then
                    if s__ConstructEvent__PeriodicData_distance[obj] < d then
                        set d=s__ConstructEvent__PeriodicData_distance[obj]
                        set found=obj
                    endif
                elseif ConstructEvent__IsUnitWithinCoords(s__ConstructEvent__PeriodicData_builder[obj] , s__ConstructEvent__PeriodicData_ox[obj] , s__ConstructEvent__PeriodicData_oy[obj]) then
                    set found=obj
                    exitwhen true
                endif
            endif
        endif

        set iter=(LoadInteger(Table__ht, (((iter))), (- 2))) // INLINED!!
    endloop

    if found != 0 then
        set ConstructEvent__builders[udg_UDex]=s__ConstructEvent__PeriodicData_builder[found]
        call ConstructEvent__FireEvent(EVENT_UNIT_CONSTRUCTION_START , s__ConstructEvent__PeriodicData_builder[found] , u)
        call s__ConstructEvent__PeriodicData_destroy(found)
    endif

    set u=null
endfunction

function ConstructEvent__OnDeindex takes nothing returns nothing
    local integer index= udg_UDex

    if ConstructEvent__instances[index] != 0 then
        call s__ConstructEvent__PeriodicData_destroy((ConstructEvent__instances[index]))
    elseif ConstructEvent__builders[index] != null then
        if not ( ConstructEvent__finished[index] or ConstructEvent__cancelled[index] ) then
            call ConstructEvent__FireEvent(EVENT_UNIT_CONSTRUCTION_INTERRUPT , null , udg_UDexUnits[udg_UDex])
        endif

        set ConstructEvent__builders[index]=null
        set ConstructEvent__finished[index]=false
        set ConstructEvent__cancelled[index]=false
    endif
endfunction



//Implemented from module ConstructEvent__ConstructEventInit:
    function s__ConstructEvent_ConstructEvent__ConstructEventInit___onInit takes nothing returns nothing
        local trigger trigIndex= CreateTrigger()
        local trigger trigDeindex= CreateTrigger()

        set EVENT_UNIT_CONSTRUCTION_START=CreateNativeEvent()
        set EVENT_UNIT_CONSTRUCTION_CANCEL=CreateNativeEvent()
        set EVENT_UNIT_CONSTRUCTION_FINISH=CreateNativeEvent()
        set EVENT_UNIT_CONSTRUCTION_INTERRUPT=CreateNativeEvent()
        set s__ConstructEvent_START=EVENT_UNIT_CONSTRUCTION_START
        set s__ConstructEvent_CANCEL=EVENT_UNIT_CONSTRUCTION_CANCEL
        set s__ConstructEvent_FINISH=EVENT_UNIT_CONSTRUCTION_FINISH
        set s__ConstructEvent_INTERRUPT=EVENT_UNIT_CONSTRUCTION_INTERRUPT

        set ConstructEvent__ongoing=s__IntegerList_create()

        call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER , function ConstructEvent__OnNonPointOrder)
        call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER , function ConstructEvent__OnPointOrder)
        call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_ISSUED_ORDER , function ConstructEvent__OnNonPointOrder)
        call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_CONSTRUCT_CANCEL , function ConstructEvent__OnConstructCancel)
        call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_CONSTRUCT_FINISH , function ConstructEvent__OnConstructFinish)

        call TriggerRegisterVariableEvent(trigIndex, "udg_UnitIndexEvent", EQUAL, 1.00)
        call TriggerAddCondition(trigIndex, Condition(function ConstructEvent__OnIndex))
        set trigIndex=null

        call TriggerRegisterVariableEvent(trigDeindex, "udg_UnitIndexEvent", EQUAL, 2.00)
        call TriggerAddCondition(trigDeindex, Condition(function ConstructEvent__OnDeindex))
        set trigDeindex=null

        // call OnUnitIndex(function OnIndex)
        // call OnUnitDeindex(function OnDeindex)
        //call RegisterUnitIndexEvent(Condition(function OnIndex), EVENT_UNIT_INDEX)
        //call RegisterUnitIndexEvent(Condition(function OnDeindex), EVENT_UNIT_DEINDEX)
    endfunction

function GetEventBuilder takes nothing returns unit
    return (ConstructEvent__eventBuilder) // INLINED!!
endfunction

function GetEventBuilderId takes nothing returns integer
    return (GetUnitUserData((ConstructEvent__eventBuilder))) // INLINED!!
endfunction

function GetEventStructure takes nothing returns unit
    return (ConstructEvent__eventConstruct) // INLINED!!
endfunction

function GetEventStructureId takes nothing returns integer
    return (GetUnitUserData((ConstructEvent__eventConstruct))) // INLINED!!
endfunction

function RegisterConstructEvent takes code func,integer whichEvent returns nothing
call RegisterIndexNativeEvent(bj_MAX_PLAYER_SLOTS , (whichEvent ) , ( func)) // INLINED!!
endfunction

function GetConstructEventTrigger takes integer whichEvent returns trigger
    return (GetIndexNativeEventTrigger(bj_MAX_PLAYER_SLOTS , (whichEvent))) // INLINED!!
endfunction


//library ConstructEvent ends
//library OrderEvent:


//============================================================================
function RegisterAnyOrderEvent takes code c returns nothing
    call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_ISSUED_ORDER , c)
    call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER , c)
    call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER , c)
    
endfunction

//============================================================================
function OrderEvent__OnOrder takes nothing returns nothing
    call TriggerEvaluate((LoadTriggerHandle(Table__ht, (((OrderEvent__t))), (GetIssuedOrderId())))) // INLINED!!
endfunction

//============================================================================
function RegisterOrderEvent takes integer orderId,code c returns nothing
    local trigger trig
    if (OrderEvent__t) == 0 then
        set OrderEvent__t=s__Table_create()
        call RegisterAnyOrderEvent(function OrderEvent__OnOrder)
    endif
    set trig=(LoadTriggerHandle(Table__ht, (((OrderEvent__t))), (orderId))) // INLINED!!
    if trig == null then
        set trig=CreateTrigger()
        call SaveTriggerHandle(Table__ht, (((OrderEvent__t))), (orderId), ( trig)) // INLINED!!
    endif
    call TriggerAddCondition(trig, Filter(c))
    set trig=null
endfunction


//library OrderEvent ends
//library SpellEffectEvent:
 
//============================================================================
 
//============================================================================
//Implemented from module SpellEffectEvent__M:
    




    
    function s__SpellEffectEvent__S_onCast takes nothing returns nothing

            call TriggerEvaluate((LoadTriggerHandle(Table__ht, (((s__SpellEffectEvent__S_tb))), (GetSpellAbilityId())))) // INLINED!!



    endfunction
 
    function s__SpellEffectEvent__S_SpellEffectEvent__M___onInit takes nothing returns nothing

            set s__SpellEffectEvent__S_tb=s__Table_create()

        call RegisterAnyPlayerUnitEvent(EVENT_PLAYER_UNIT_SPELL_EFFECT , function s__SpellEffectEvent__S_onCast)
    endfunction
 
//============================================================================
function RegisterSpellEffectEvent takes integer abil,code onCast returns nothing

        if not (HaveSavedHandle(Table__ht, (((s__SpellEffectEvent__S_tb))), (abil))) then // INLINED!!
            call SaveTriggerHandle(Table__ht, (((s__SpellEffectEvent__S_tb))), (abil), ( CreateTrigger())) // INLINED!!
        endif
        call TriggerAddCondition((LoadTriggerHandle(Table__ht, (((s__SpellEffectEvent__S_tb))), (abil))), Filter(onCast)) // INLINED!!






endfunction
 

//library SpellEffectEvent ends
//library OilHarvest:









    function s__OilDisplay_destroy takes integer this returns nothing
        set s__OilDisplay_tagStack[s__OilDisplay_index[this]]=s__OilDisplay_tagStack[s__OilDisplay_count]
        set s__OilDisplay_index[s__OilDisplay_tagStack[s__OilDisplay_count]]=s__OilDisplay_index[this]
        set s__OilDisplay_tagStack[s__OilDisplay_count]=0
        set s__OilDisplay_count=s__OilDisplay_count - 1
        call DestroyTextTag(s__OilDisplay_tag[this])
        set s__OilDisplay_tag[this]=null
        call s__OilDisplay_deallocate(this)
    endfunction

    function s__OilDisplay_new takes player owner returns integer
        local integer this= s__OilDisplay__allocate()
        set s__OilDisplay_tag[this]=CreateTextTag()
        set s__OilDisplay_owner[this]=owner
        set s__OilDisplay_count=s__OilDisplay_count + 1
        set s__OilDisplay_tagStack[s__OilDisplay_count]=this
        set s__OilDisplay_index[this]=s__OilDisplay_count
        return this
    endfunction

    function s__OilDisplay_determineVisibility takes integer this returns nothing
        if OilHarvest__uiVisible then
            if s__OilDisplay_owner[this] == OilHarvest__NEUTRAL_PLAYER then
                call SetTextTagVisibility(s__OilDisplay_tag[this], true)
            else
                call SetTextTagVisibility(s__OilDisplay_tag[this], GetLocalPlayer() == s__OilDisplay_owner[this])
            endif
        else
            call SetTextTagVisibility(s__OilDisplay_tag[this], false)
        endif
    endfunction

    function s__OilDisplay_setText takes integer this,string s returns nothing
        call SetTextTagText(s__OilDisplay_tag[this], s, OilHarvest__FONT_SIZE)
        call s__OilDisplay_determineVisibility(this)
    endfunction

    function s__OilDisplay_setAllVisibile takes boolean flag returns nothing
        local integer i= 0
        // when true, show all.
        if flag then
            loop
                set i=i + 1
                exitwhen i > s__OilDisplay_count
                if s__OilDisplay_owner[s__OilDisplay_tagStack[i]] == OilHarvest__NEUTRAL_PLAYER then
                    call SetTextTagVisibility(s__OilDisplay_tag[s__OilDisplay_tagStack[i]], true)
                else
                    call SetTextTagVisibility(s__OilDisplay_tag[s__OilDisplay_tagStack[i]], GetLocalPlayer() == s__OilDisplay_owner[s__OilDisplay_tagStack[i]])
                endif
            endloop
        else
            loop
                set i=i + 1
                exitwhen i > s__OilDisplay_count
                call SetTextTagVisibility(s__OilDisplay_tag[s__OilDisplay_tagStack[i]], false)
            endloop
        endif
    endfunction





    function s__Zone_new takes real centerX,real centerY,real halfLength,real halfHeight returns integer
        local integer this= s__Zone__allocate()
        set s__Zone_xMid[this]=centerX
        set s__Zone_xMin[this]=centerX - halfLength
        set s__Zone_xMax[this]=centerX + halfLength
        set s__Zone_yMid[this]=centerY
        set s__Zone_yMin[this]=centerY - halfHeight
        set s__Zone_yMax[this]=centerY + halfHeight
        set s__Zone_r[this]=Rect(s__Zone_xMin[this], s__Zone_yMin[this], s__Zone_xMax[this], s__Zone_yMax[this])
        return this
    endfunction

    function s__Zone_destroy takes integer this returns nothing
        call RemoveRect(s__Zone_r[this])
        set s__Zone_r[this]=null
    endfunction

    function s__Zone_move takes integer this,real newX,real newY returns nothing
        call MoveRectTo(s__Zone_r[this], newX, newY)
        set s__Zone_xMid[this]=newX
        set s__Zone_xMin[this]=GetRectMinX(s__Zone_r[this])
        set s__Zone_xMax[this]=GetRectMaxX(s__Zone_r[this])
        set s__Zone_yMid[this]=newY
        set s__Zone_yMin[this]=GetRectMinY(s__Zone_r[this])
        set s__Zone_yMax[this]=GetRectMaxY(s__Zone_r[this])
    endfunction


function OilHarvest__groupShow takes nothing returns nothing
    call ShowUnit(GetEnumUnit(), true)
endfunction

function OilHarvest__groupHide takes nothing returns boolean
    call ShowUnit(GetFilterUnit(), false)
    return true
endfunction

function areaHideUnits takes real x,real y,real radius returns nothing
    local unit u
    call GroupEnumUnitsInRange(OilHarvest__hideGroup, x, y, radius, Filter(function OilHarvest__groupHide))
endfunction

function unhideUnits takes nothing returns nothing
    call ForGroup(OilHarvest__hideGroup, function OilHarvest__groupShow)
    call GroupClear(OilHarvest__hideGroup)
endfunction

function getUnitZ takes unit u returns real
    call MoveLocation(OilHarvest__loc, GetUnitX(u), GetUnitY(u))
    return GetLocationZ(OilHarvest__loc) + GetUnitFlyHeight(u)
endfunction

function playerAddOil takes player play,integer amount returns nothing
    local integer playerNum= GetPlayerId(play)
    local integer amnt= OilHarvest__playerOil[playerNum] + amount
    local string oil= I2S(amnt)
    set OilHarvest__playerOil[playerNum]=amnt
    // update UI
    // call BJDebugMsg("P" + I2S(playerNum+1) + " Oil: " + I2S(playerOil[playerNum]))
    if GetLocalPlayer() == play then
        call BlzFrameSetText(OilHarvest__oilAmount, oil)
        call BlzFrameSetText(OilHarvest__oilTooltipTitle, "Oil: " + oil)
    endif
endfunction

function getPlayerOil takes player play returns integer
    return OilHarvest__playerOil[GetPlayerId(play)]
endfunction

// this determines how much Oil is gathered per trip
function setPlayerOilRate takes player play,integer newRate returns nothing
    set OilHarvest__playerOilRate[GetPlayerId(play)]=newRate
endfunction

function OilHarvest__distCheckSquared takes integer rig,integer depot returns real
    local real dx= s__OilDepot_x[depot] - s__OilRig_x[rig]
    local real dy= s__OilDepot_y[depot] - s__OilRig_y[rig]
    return dx * dx + dy * dy
endfunction

function OilHarvest__distCheckSquaredUnit takes unit source,unit target returns real
    local real dx= GetUnitX(target) - GetUnitX(source)
    local real dy= GetUnitY(target) - GetUnitY(source)
    return dx * dx + dy * dy
endfunction

// updates which rig is nearest to which depot per player.
function updateNearestRigDepot takes integer playerNum returns nothing
    local integer linkRig= 0
    local integer linkDepot= 0

    local real distance
    local real distCheck

    local integer rig= 0
    local integer depot= 0

    // check nearest depot per rig
    set linkRig=s__IntegerList_first[OilHarvest__playerListRigs[playerNum]]
    loop
        exitwhen linkRig == 0

        set linkDepot=s__IntegerList_first[OilHarvest__playerListDepots[playerNum]]
        set distance=OilHarvest__MAX_DISTANCE
        set rig=(LoadInteger(Table__ht, (((((linkRig))))), (- 1))) // INLINED!!
        loop
            exitwhen linkDepot == 0
            set distCheck=OilHarvest__distCheckSquared(rig , (LoadInteger(Table__ht, (((((linkDepot))))), (- 1)))) // INLINED!!
            if distCheck <= distance then
                set distance=distCheck
                set depot=(LoadInteger(Table__ht, (((((linkDepot))))), (- 1))) // INLINED!!
            endif
            set linkDepot=(LoadInteger(Table__ht, (((linkDepot))), (- 2))) // INLINED!!
        endloop

        if depot == 0 then
            set s__OilRig_nearestDepot[rig]=null
        else
            set s__OilRig_nearestDepot[rig]=s__OilDepot_source[depot]
        endif

        set linkRig=(LoadInteger(Table__ht, (((linkRig))), (- 2))) // INLINED!!
    endloop

    set rig=0
    set depot=0

    // check nearest rig per depot
    set linkDepot=s__IntegerList_first[OilHarvest__playerListDepots[playerNum]]
    loop
        exitwhen linkDepot == 0

        set linkRig=s__IntegerList_first[OilHarvest__playerListRigs[playerNum]]
        set distance=OilHarvest__MAX_DISTANCE
        set depot=(LoadInteger(Table__ht, (((((linkDepot))))), (- 1))) // INLINED!!
        loop
            exitwhen linkRig == 0
            set distCheck=OilHarvest__distCheckSquared((LoadInteger(Table__ht, (((((linkRig))))), (- 1))) , depot) // INLINED!!
            if distCheck <= distance then
                set distance=distCheck
                set rig=(LoadInteger(Table__ht, (((((linkRig))))), (- 1))) // INLINED!!
            endif
            set linkRig=(LoadInteger(Table__ht, (((linkRig))), (- 2))) // INLINED!!
        endloop

        if rig == 0 then
            set s__OilDepot_nearestRig[depot]=null
        else
            set s__OilDepot_nearestRig[depot]=s__OilRig_source[rig]
        endif

        set linkDepot=(LoadInteger(Table__ht, (((linkDepot))), (- 2))) // INLINED!!
    endloop
endfunction

function findNearestRig takes unit source returns unit
    local integer list= OilHarvest__playerListRigs[GetPlayerId(GetOwningPlayer(source))]
    local integer link= s__IntegerList_first[list]
    local real distance= OilHarvest__MAX_DISTANCE
    local real distCheck
    local integer rig
    set OilHarvest__tankerTarget=null
    loop
        exitwhen link == 0
        set rig=(LoadInteger(Table__ht, (((((link))))), (- 1))) // INLINED!!
        set distCheck=OilHarvest__distCheckSquaredUnit(source , s__OilRig_source[rig])
        if distCheck <= distance then
            set distance=distCheck
            set OilHarvest__tankerTarget=s__OilRig_source[rig]
        endif
        set link=(LoadInteger(Table__ht, (((link))), (- 2))) // INLINED!!
    endloop
    return OilHarvest__tankerTarget
endfunction

function findNearestDepot takes unit source returns unit
    local integer list= OilHarvest__playerListDepots[GetPlayerId(GetOwningPlayer(source))]
    local integer link= s__IntegerList_first[list]
    local real distance= OilHarvest__MAX_DISTANCE
    local real distCheck
    local integer depot
    set OilHarvest__tankerTarget=null
    loop
        exitwhen link == 0
        set depot=(LoadInteger(Table__ht, (((((link))))), (- 1))) // INLINED!!
        set distCheck=OilHarvest__distCheckSquaredUnit(source , s__OilDepot_source[depot])
        if distCheck <= distance then
            set distance=distCheck
            set OilHarvest__tankerTarget=s__OilDepot_source[depot]
        endif
        set link=(LoadInteger(Table__ht, (((link))), (- 2))) // INLINED!!
    endloop
    return OilHarvest__tankerTarget
endfunction






    function s__OilPatch_getRect takes rect re returns integer
        return (LoadInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId(re)))) // INLINED!!
    endfunction

    function s__OilPatch_hasRect takes rect re returns boolean
        return (HaveSavedInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId(re)))) // INLINED!!
    endfunction
   
    function s__OilPatch_get takes unit u returns integer
        return (LoadInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId(u)))) // INLINED!!
    endfunction

    function s__OilPatch_has takes unit u returns boolean
        return (HaveSavedInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId(u)))) // INLINED!!
    endfunction

    function s__OilPatch_destroy takes integer this returns nothing
        call RemoveSavedInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId(s__OilPatch_source[this]))) // INLINED!!
        call RemoveSavedInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId(s__Zone_r[s__OilPatch_zone[this]]))) // INLINED!!
        call s__OilDisplay_destroy(s__OilPatch_display[this])
        call s__IntegerList_removeElem(OilHarvest__listZones,s__OilPatch_zone[this])
        set s__OilPatch_source[this]=null
        set s__OilPatch_zone[this]=0
        call s__OilPatch_deallocate(this)
    endfunction

    // use this function if you specifically want to kill an Oil Patch
    function s__OilPatch_killPatch takes unit u returns nothing
        local integer this= (LoadInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId((u))))) // INLINED!!
        if this != 0 then
            call s__OilPatch_destroy(this)
            call UnitApplyTimedLife(u, 'BTLF', .01)
        endif
    endfunction

    function s__OilPatch_setAmount takes integer this,integer newAmount returns nothing
        set s__OilPatch_amount[this]=newAmount
        call s__OilDisplay_setText(s__OilPatch_display[this],OilHarvest__FONT_COLOUR + I2S(s__OilPatch_amount[this]) + "|r")
    endfunction

    function s__OilPatch_modAmount takes integer this,integer amountDifference returns nothing
        set s__OilPatch_amount[this]=s__OilPatch_amount[this] + amountDifference
        call s__OilDisplay_setText(s__OilPatch_display[this],OilHarvest__FONT_COLOUR + I2S(s__OilPatch_amount[this]) + "|r")
        
        if s__OilPatch_giveLowWarning[this] and s__OilPatch_amount[this] <= OilHarvest__OIL_LOW_WARNING_THRESHOLD then
            set s__OilPatch_giveLowWarning[this]=false
            call BlizzardMessage(OilHarvest__LOW_WARNING_MESSAGE , OilHarvest__LOW_WARNING_COLOUR_CODE , WARNING , s__OilDisplay_owner[s__OilPatch_display[this]])
            if GetLocalPlayer() == s__OilDisplay_owner[s__OilPatch_display[this]] then
                call PingMinimapEx(s__Zone_xMid[s__OilPatch_zone[this]], s__Zone_yMid[s__OilPatch_zone[this]], OilHarvest__LOW_WARNING_DURATION, OilHarvest__LOW_WARNING_R, OilHarvest__LOW_WARNING_G, OilHarvest__LOW_WARNING_B, OilHarvest__LOW_WARNING_STYLE)
                if GetPlayerRace(s__OilDisplay_owner[s__OilPatch_display[this]]) == RACE_ORC then
                    call PlaySound(OilHarvest__LOW_WARNING_ORC)
                elseif GetPlayerRace(s__OilDisplay_owner[s__OilPatch_display[this]]) == RACE_HUMAN then
                    call PlaySound(OilHarvest__LOW_WARNING_HUMAN)
                endif
            endif
        endif
    endfunction

    function s__OilPatch_setOilAmount takes unit u,integer newAmount returns nothing
        if (HaveSavedInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId((u))))) then // INLINED!!
            call s__OilPatch_setAmount((LoadInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId((u))))),newAmount) // INLINED!!
        endif
    endfunction

    function s__OilPatch_setOwnership takes integer this,player play returns nothing
        set s__OilDisplay_owner[s__OilPatch_display[this]]=play
        if OilHarvest__uiVisible then
            call SetTextTagVisibility(s__OilDisplay_tag[s__OilPatch_display[this]], GetLocalPlayer() == play)
        endif
    endfunction

    function s__OilPatch_removeOwnership takes integer this returns nothing
        set s__OilDisplay_owner[s__OilPatch_display[this]]=OilHarvest__NEUTRAL_PLAYER
        if OilHarvest__uiVisible then
            call SetTextTagVisibility(s__OilDisplay_tag[s__OilPatch_display[this]], true)
        endif
    endfunction

    function s__OilPatch_move takes integer this,real newX,real newY returns nothing
        call SetUnitPathing(s__OilPatch_source[this], false)
        call SetUnitX(s__OilPatch_source[this], newX)
        call SetUnitY(s__OilPatch_source[this], newY)
        call SetUnitPathing(s__OilPatch_source[this], true)
        call s__Zone_move(s__OilPatch_zone[this],newX , newY)
    endfunction

    // when a Rig is destroyed, the Oil Patch unit is either kept hidden, removed from the game, or,
    // in the instance that an Oil Rig was cancelled, killed. This function will create a new patch
    // underneath the Oil Rig. To avoid any sort of collision, all nearby units are hidden, before the
    // patch is created, and unhidden right after. This will unfortunately deselect any nearby units.
    // In the event that the patch is attempting to be restored when it is depleted, the system will
    // instead destroy the patch instance.
    function s__OilPatch_restoreOilPatchUnit takes integer this returns nothing
        if s__OilPatch_amount[this] > 0 then
            call areaHideUnits(s__Zone_xMid[s__OilPatch_zone[this]] , s__Zone_yMid[s__OilPatch_zone[this]] , OilHarvest__AREA_HIDE_RADIUS)

            if s__OilPatch_patchIndex[this] != 0 then
                call RemoveSavedInteger(Table__ht, (s__OilPatch_structTable), (s__OilPatch_patchIndex[this])) // INLINED!!
            endif

            if s__OilPatch_source[this] != null then
                call RemoveUnit(s__OilPatch_source[this])
            endif
            
            set s__OilPatch_source[this]=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), OilHarvest__OIL_PATCH_UNIT_ID, s__Zone_xMid[s__OilPatch_zone[this]], s__Zone_yMid[s__OilPatch_zone[this]], bj_UNIT_FACING)
            set s__OilPatch_patchIndex[this]=GetHandleId(s__OilPatch_source[this])
            call SaveInteger(Table__ht, (s__OilPatch_structTable), (s__OilPatch_patchIndex[this]), ( this)) // INLINED!!

            call unhideUnits()
        else
            call BlizzardMessage(OilHarvest__DEPLETED_WARNING_MESSAGE , OilHarvest__DEPLETED_WARNING_COLOUR_CODE , WARNING , s__OilDisplay_owner[s__OilPatch_display[this]])
            if GetLocalPlayer() == s__OilDisplay_owner[s__OilPatch_display[this]] then
                call PingMinimapEx(s__Zone_xMid[s__OilPatch_zone[this]], s__Zone_yMid[s__OilPatch_zone[this]], OilHarvest__DEPLETED_WARNING_DURATION, OilHarvest__DEPLETED_WARNING_R, OilHarvest__DEPLETED_WARNING_G, OilHarvest__DEPLETED_WARNING_B, OilHarvest__DEPLETED_WARNING_STYLE)
                if GetPlayerRace(s__OilDisplay_owner[s__OilPatch_display[this]]) == RACE_ORC then
                    call PlaySound(OilHarvest__DEPLETED_WARNING_ORC)
                elseif GetPlayerRace(s__OilDisplay_owner[s__OilPatch_display[this]]) == RACE_HUMAN then
                    call PlaySound(OilHarvest__DEPLETED_WARNING_HUMAN)
                endif
            endif
            call s__OilPatch_destroy(this)
        endif
    endfunction

    function s__OilPatch_setupThings takes integer this,unit u returns nothing
        local real x= GetUnitX(u)
        local real y= GetUnitY(u)
        local player play= GetOwningPlayer(u)
        set s__OilPatch_display[this]=s__OilDisplay_new(play)
        call SetTextTagText(s__OilDisplay_tag[s__OilPatch_display[this]], OilHarvest__FONT_COLOUR + I2S(s__OilPatch_amount[this]) + "|r", OilHarvest__FONT_SIZE)
        // call SetTextTagPosUnit(this.display.tag, patch, TEXT_TAG_HEIGHT)
        call SetTextTagPos(s__OilDisplay_tag[s__OilPatch_display[this]], x, y, getUnitZ(u) + OilHarvest__TEXT_TAG_HEIGHT)
        call SetTextTagPermanent(s__OilDisplay_tag[s__OilPatch_display[this]], true)
        call s__OilDisplay_determineVisibility(s__OilPatch_display[this])

        set s__OilPatch_zone[this]=s__Zone_new(x , y , s__OilPatch_zoneX , s__OilPatch_zoneY)
        set s__OilPatch_giveLowWarning[this]=( s__OilPatch_amount[this] > OilHarvest__OIL_LOW_WARNING_THRESHOLD )
    endfunction

    function s__OilPatch_new takes unit patch,integer amount returns integer
        local integer this= s__OilPatch__allocate()
        set s__OilPatch_source[this]=patch
        set s__OilPatch_amount[this]=amount

        call s__OilPatch_setupThings(this,patch)

        set s__OilPatch_patchIndex[this]=GetHandleId(patch)
        call SaveInteger(Table__ht, (s__OilPatch_structTable), (s__OilPatch_patchIndex[this]), ( this)) // INLINED!!
        call SaveInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId(s__Zone_r[s__OilPatch_zone[this]])), ( this)) // INLINED!!
        call s__IntegerList_push(OilHarvest__listZones,s__OilPatch_zone[this])

        return this
    endfunction

    // for pre-placed rigs
    function s__OilPatch_newSpecial takes unit rigUnit,integer amount returns integer
        local integer this= s__OilPatch__allocate()
        set s__OilPatch_source[this]=null
        set s__OilPatch_amount[this]=amount

        call s__OilPatch_setupThings(this,rigUnit)

        set s__OilPatch_patchIndex[this]=0
        call SaveInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId(s__Zone_r[s__OilPatch_zone[this]])), ( this)) // INLINED!!
        call s__IntegerList_push(OilHarvest__listZones,s__OilPatch_zone[this])

        return this
    endfunction

    function s__OilPatch_onInit takes nothing returns nothing
        set s__OilPatch_structTable=s__Table_create()
    endfunction





    

    function s__OilCollector_get takes unit u returns integer
        return (LoadInteger(Table__ht, (s__OilCollector_structTable), (GetHandleId(u)))) // INLINED!!
    endfunction

    function s__OilCollector_has takes unit u returns boolean
        return (HaveSavedInteger(Table__ht, (s__OilCollector_structTable), (GetHandleId(u)))) // INLINED!!
    endfunction

    function s__OilCollector_destroy takes integer this returns nothing
        call RemoveSavedInteger(Table__ht, (s__OilCollector_structTable), (GetHandleId(s__OilCollector_source[this]))) // INLINED!!
        call DestroyTrigger(s__OilCollector_deathListener[this])
        call DestroyTrigger(s__OilCollector_orderListener[this])
        set s__OilCollector_deathListener[this]=null
        set s__OilCollector_orderListener[this]=null
        set s__OilCollector_source[this]=null
        call s__OilCollector_deallocate(this)
    endfunction
    
    function s__OilCollector_onDeath takes nothing returns nothing
        local integer this= (LoadInteger(Table__ht, (s__OilCollector_structTable), (GetHandleId((GetTriggerUnit()))))) // INLINED!!
        call s__OilCollector_destroy(this)
    endfunction

    function s__OilCollector_unqueue takes integer this returns nothing
        call s__IntegerList_removeElem(s__OilRig_queue[s__OilCollector_activeRig[this]],this)
        set s__OilCollector_activeRig[this]=0
    endfunction

    // this checks if a Collector is currently queued. If ordered to do anything but right-click the Rig,
    // it will be removed from the queue.
    function s__OilCollector_onOrder takes nothing returns nothing
        local integer this= (LoadInteger(Table__ht, (s__OilCollector_structTable), (GetHandleId((GetTriggerUnit()))))) // INLINED!!
        if s__OilCollector_activeRig[this] != 0 then
            if not ( GetIssuedOrderId() == OilHarvest__ORDER_SMART and GetOrderTarget() == s__OilRig_source[s__OilCollector_activeRig[this]] ) then
                call s__OilCollector_unqueue(this)
            endif
        endif
    endfunction

    function s__OilCollector_updateGatherAbil takes integer this,boolean full returns nothing
        local string icon= COLLECTOR_ABIL_ICON_EMPTY
        local string name= COLLECTOR_ABIL_NAME_EMPTY
        local string desc= COLLECTOR_ABIL_DESCRIPTION_EMPTY
        if full then
            set icon=COLLECTOR_ABIL_ICON_FULL
            set name=COLLECTOR_ABIL_NAME_FULL
            set desc=COLLECTOR_ABIL_DESCRIPTION_FULL
            call AddUnitAnimationProperties(s__OilCollector_source[this], "gold", true)
        else
            call AddUnitAnimationProperties(s__OilCollector_source[this], "gold", false)
        endif
        // call BlzSetAbilityStringLevelField(this.gatherAbility, ABILITY_SLF_ICON_NORMAL, 0, icon)
        call BlzSetAbilityStringField(s__OilCollector_gatherAbility[this], ABILITY_SF_ICON_ACTIVATED, icon)
        call BlzSetAbilityStringLevelField(s__OilCollector_gatherAbility[this], ABILITY_SLF_TOOLTIP_NORMAL, 0, name)
        call BlzSetAbilityStringLevelField(s__OilCollector_gatherAbility[this], ABILITY_SLF_TOOLTIP_NORMAL_EXTENDED, 0, desc)
    endfunction

    function s__OilCollector_new takes unit u returns integer
        local integer this= s__OilCollector__allocate()
        set s__OilCollector_source[this]=u
        set s__OilCollector_destination[this]=null
        set s__OilCollector_amount[this]=0
        set s__OilCollector_activeRig[this]=0
        set s__OilCollector_assignedRigUnit[this]=null
        call UnitAddAbility(u, COLLECTOR_ACTION_ABIL)
        set s__OilCollector_gatherAbility[this]=BlzGetUnitAbility(u, COLLECTOR_ACTION_ABIL)
        call s__OilCollector_updateGatherAbil(this,false)
        
        set s__OilCollector_deathListener[this]=CreateTrigger()
        call TriggerRegisterDeathEvent(s__OilCollector_deathListener[this], u)
        call TriggerAddAction(s__OilCollector_deathListener[this], function s__OilCollector_onDeath)

        set s__OilCollector_orderListener[this]=CreateTrigger()
        call TriggerRegisterUnitEvent(s__OilCollector_orderListener[this], u, EVENT_UNIT_ISSUED_ORDER)
        call TriggerRegisterUnitEvent(s__OilCollector_orderListener[this], u, EVENT_UNIT_ISSUED_TARGET_ORDER)
        call TriggerRegisterUnitEvent(s__OilCollector_orderListener[this], u, EVENT_UNIT_ISSUED_POINT_ORDER)
        call TriggerAddAction(s__OilCollector_orderListener[this], function s__OilCollector_onOrder)

        call SaveInteger(Table__ht, (s__OilCollector_structTable), (GetHandleId(u)), ( this)) // INLINED!!

        return this
    endfunction

    function s__OilCollector_deliverOil takes integer this,unit destination returns nothing
        set s__OilCollector_destination[this]=destination
        call IssueTargetOrderById(s__OilCollector_source[this], OilHarvest__ORDER_COLLECTOR_ACTION_ORDER, destination)
    endfunction

    function s__OilCollector_retrieveOil takes integer this,unit destination returns nothing
        set s__OilCollector_assignedRigUnit[this]=destination
        call IssueTargetOrderById(s__OilCollector_source[this], OilHarvest__ORDER_COLLECTOR_ACTION_ORDER, destination)
    endfunction

    function s__OilCollector_retrieveOilUnit takes unit tanker,unit destination returns nothing
        local integer this= (LoadInteger(Table__ht, (s__OilCollector_structTable), (GetHandleId((tanker))))) // INLINED!!
        if this != 0 then
            set s__OilCollector_assignedRigUnit[this]=destination
            call IssueTargetOrderById(s__OilCollector_source[this], OilHarvest__ORDER_COLLECTOR_ACTION_ORDER, destination)
        endif
    endfunction

    function s__OilCollector_automateOilProcess takes integer this returns nothing
        if s__OilCollector_amount[this] > 0 then
            call s__OilCollector_deliverOil(this,findNearestDepot(s__OilCollector_source[this]))
        else
            call s__OilCollector_retrieveOil(this,findNearestRig(s__OilCollector_source[this]))
        endif
    endfunction

    function s__OilCollector_depositOil takes integer this returns nothing
        local texttag tag
        local player play= GetOwningPlayer(s__OilCollector_source[this])
        call playerAddOil(play , s__OilCollector_amount[this])

        // Delivery text
        if OilHarvest__uiVisible then
            set tag=CreateTextTag()
            call SetTextTagText(tag, OilHarvest__FONT_COLOUR + "+" + I2S(s__OilCollector_amount[this]) + "|r", OilHarvest__FONT_SIZE)
            call SetTextTagPos(tag, GetUnitX(s__OilCollector_source[this]), GetUnitY(s__OilCollector_source[this]), getUnitZ(s__OilCollector_source[this]))
            call SetTextTagPermanent(tag, false)
            call SetTextTagLifespan(tag, 2.0)
            call SetTextTagFadepoint(tag, 1.0)
            call SetTextTagVelocity(tag, s__OilCollector_X_SPEED, s__OilCollector_Y_SPEED)
            call SetTextTagVisibility(tag, GetLocalPlayer() == play)
            set tag=null
        endif

        set s__OilCollector_amount[this]=0
        call s__OilCollector_updateGatherAbil(this,false)
        call s__DelayedOrderTarget_start(s__OilCollector_source[this] , OilHarvest__ORDER_COLLECTOR_ACTION_ORDER , 0. , s__OilCollector_assignedRigUnit[this])
    endfunction

    function s__OilCollector_onInit takes nothing returns nothing
        set s__OilCollector_structTable=s__Table_create()
    endfunction





    

    function s__OilRig_getOilPatch takes real x,real y returns integer
        local integer link= s__IntegerList_first[OilHarvest__listZones]
        local integer p= 0
        local integer zone= 0
        loop
            exitwhen link == 0
            set zone=(LoadInteger(Table__ht, (((((link))))), (- 1))) // INLINED!!
            // if x >= zone.xMin and x <= zone.xMax and y >= zone.yMin and y <= zone.yMax then
            if ( s__Zone_xMin[zone] <= x ) and ( x <= s__Zone_xMax[zone] ) and ( s__Zone_yMin[zone] <= y ) and ( y <= s__Zone_yMax[zone] ) then
            // if (GetRectMinX(zone.r) <= x) and (x <= GetRectMaxX(zone.r)) and (GetRectMinY(zone.r) <= y) and (y <= GetRectMaxY(zone.r)) then
                // call BJDebugMsg("has patch")
                set p=(LoadInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId((s__Zone_r[zone]))))) // INLINED!!
                set link=0
            else
                set link=(LoadInteger(Table__ht, (((link))), (- 2))) // INLINED!!
            endif
        endloop
        return p
    endfunction

    function s__OilRig_get takes unit u returns integer
        return (LoadInteger(Table__ht, (s__OilRig_structTable), (GetHandleId(u)))) // INLINED!!
    endfunction

    function s__OilRig_has takes unit u returns boolean
        return (HaveSavedInteger(Table__ht, (s__OilRig_structTable), (GetHandleId(u)))) // INLINED!!
    endfunction

    function s__OilRig_setOilAmount takes unit u,integer newAmount returns nothing
        if (HaveSavedInteger(Table__ht, (s__OilRig_structTable), (GetHandleId((u))))) then // INLINED!!
            call s__OilPatch_setAmount(s__OilRig_patch[(LoadInteger(Table__ht, (s__OilRig_structTable), (GetHandleId((u)))))],newAmount) // INLINED!!
        endif
    endfunction

    function s__OilRig_cancelAll takes integer this returns nothing
        local integer link= s__IntegerList_first[s__OilRig_queue[this]]
        local integer linkNext
        local integer collector
        loop
            exitwhen link == 0
            set linkNext=(LoadInteger(Table__ht, (((link))), (- 2))) // INLINED!!
            set collector=(LoadInteger(Table__ht, (((((link))))), (- 1))) // INLINED!!
            call s__OilCollector_unqueue(collector)
            set link=linkNext
        endloop
    endfunction

    function s__OilRig_destroy takes integer this returns nothing
        local integer playerNum= GetPlayerId(GetOwningPlayer(s__OilRig_source[this]))
        call s__IntegerList_removeElem(OilHarvest__playerListRigs[playerNum],this)
        call updateNearestRigDepot(playerNum)
        call s__OilRig_cancelAll(this)
        call RemoveSavedInteger(Table__ht, (s__OilRig_structTable), (GetHandleId(s__OilRig_source[this]))) // INLINED!!
        if s__OilRig_dockedCollector[this] != 0 then
            call ShowUnit(s__OilCollector_source[s__OilRig_dockedCollector[this]], true)
            set s__OilRig_dockedCollector[this]=0
        endif
        call s__OilPatch_removeOwnership(s__OilRig_patch[this])
        // call RemoveUnit(this.source)
        set s__OilRig_source[this]=null
        call s__IntegerList_destroy(s__OilRig_queue[this])
        call s__OilRig_deallocate(this)
    endfunction
    
    function s__OilRig_new takes unit u returns integer
        local integer this= s__OilRig__allocate()
        local player play= GetOwningPlayer(u)
        local integer playerNum= GetPlayerId(play)

        set s__OilRig_source[this]=u
        set s__OilRig_x[this]=GetUnitX(u)
        set s__OilRig_y[this]=GetUnitY(u)
        set s__OilRig_dockedCollector[this]=0
        set s__OilRig_clock[this]=null
        set s__OilRig_queue[this]=s__IntegerList_create()
        
        set s__OilRig_patch[this]=s__OilRig_getOilPatch(s__OilRig_x[this] , s__OilRig_y[this])
        if s__OilRig_patch[this] == 0 then
            set s__OilRig_patch[this]=s__OilPatch_newSpecial(u , OilHarvest__OIL_PATCH_AMOUNT_DEFAULT)
        endif
        call s__OilPatch_setOwnership(s__OilRig_patch[this],play)

        call SaveInteger(Table__ht, (s__OilRig_structTable), (GetHandleId(u)), ( this)) // INLINED!!

        // add to the player's rig list
        call s__IntegerList_push(OilHarvest__playerListRigs[playerNum],this)
        call updateNearestRigDepot(playerNum)

        return this
    endfunction

    function s__OilRig_dockCollector takes integer this,integer collector returns nothing
        set s__OilRig_dockedCollector[this]=collector
        set s__OilCollector_activeRig[collector]=0
        call ShowUnit(s__OilCollector_source[collector], false)
    endfunction

    function s__OilRig_unload takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils__ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer collector= s__OilRig_dockedCollector[this]
        local integer rate= OilHarvest__playerOilRate[GetPlayerId(GetOwningPlayer(s__OilRig_source[this]))]

        // unload current tanker
        if collector != 0 then
            call ShowUnit(s__OilCollector_source[collector], true)
            if s__OilPatch_amount[s__OilRig_patch[this]] > rate then
                set s__OilCollector_amount[collector]=rate
                call s__OilPatch_modAmount(s__OilRig_patch[this],- rate)
            else
                // kill rig and patch?
                call UnitApplyTimedLife(s__OilRig_source[this], 'BTLF', .01)
                // call UnitApplyTimedLife(this.patch.source, 'BTLF', .01)
                set s__OilCollector_amount[collector]=s__OilPatch_amount[s__OilRig_patch[this]]
                set s__OilPatch_amount[s__OilRig_patch[this]]=0
                call s__OilRig_cancelAll(this)
                set s__OilRig_lockOut[this]=true
            endif
            call s__OilCollector_updateGatherAbil(collector,true)
            call s__OilCollector_deliverOil(collector,s__OilRig_nearestDepot[this])
        endif

        if (s__IntegerList_count[(s__OilRig_queue[this])] == 0) then // INLINED!!
            set s__OilRig_dockedCollector[this]=0
            call ReleaseTimer(s__OilRig_clock[this])
            call SetUnitAnimation(s__OilRig_source[this], "stand")
        else
            call s__OilRig_dockCollector(this,(LoadInteger(Table__ht, (((((s__IntegerList_first[(s__OilRig_queue[this])]))))), (- 1)))) // INLINED!!
            call s__IntegerList_shift(s__OilRig_queue[this])
        endif
    endfunction

    function s__OilRig_queueUp takes integer this,integer collector returns nothing
        if not s__OilRig_lockOut[this] then
            if s__OilRig_dockedCollector[this] == 0 then
                call s__OilRig_dockCollector(this,collector)
                set s__OilRig_clock[this]=NewTimerEx(this)
                call TimerStart(s__OilRig_clock[this], OilHarvest__OIL_COLLECTION_INTERVAL, true, function s__OilRig_unload)
                call SetUnitAnimation(s__OilRig_source[this], "stand work")
            else
                call s__IntegerList_push(s__OilRig_queue[this],collector)
                set s__OilCollector_activeRig[collector]=this
            endif
        endif
    endfunction

    function s__OilRig_onInit takes nothing returns nothing
        set s__OilRig_structTable=s__Table_create()
    endfunction




    

    function s__OilDepot_get takes unit u returns integer
        return (LoadInteger(Table__ht, (s__OilDepot_structTable), (GetHandleId(u)))) // INLINED!!
    endfunction

    function s__OilDepot_has takes unit u returns boolean
        return (HaveSavedInteger(Table__ht, (s__OilDepot_structTable), (GetHandleId(u)))) // INLINED!!
    endfunction

    function s__OilDepot_destroy takes integer this returns nothing
        local integer playerNum= GetPlayerId(GetOwningPlayer(s__OilDepot_source[this]))
        call s__IntegerList_removeElem(OilHarvest__playerListDepots[playerNum],this)
        call updateNearestRigDepot(playerNum)
        call RemoveSavedInteger(Table__ht, (s__OilDepot_structTable), (GetHandleId(s__OilDepot_source[this]))) // INLINED!!
        call DestroyTrigger(s__OilDepot_deathListener[this])
        set s__OilDepot_deathListener[this]=null
        set s__OilDepot_source[this]=null
        call s__OilDepot_deallocate(this)
    endfunction

    function s__OilDepot_onDeath takes nothing returns nothing
        local integer this= (LoadInteger(Table__ht, (s__OilDepot_structTable), (GetHandleId((GetTriggerUnit()))))) // INLINED!!
        call s__OilDepot_destroy(this)
    endfunction

    function s__OilDepot_new takes unit u returns integer
        local integer this= s__OilDepot__allocate()
        local integer playerNum= GetPlayerId(GetOwningPlayer(u))

        set s__OilDepot_source[this]=u
        set s__OilDepot_x[this]=GetUnitX(u)
        set s__OilDepot_y[this]=GetUnitY(u)
        
        set s__OilDepot_deathListener[this]=CreateTrigger()
        call TriggerRegisterDeathEvent(s__OilDepot_deathListener[this], u)
        call TriggerAddAction(s__OilDepot_deathListener[this], function s__OilDepot_onDeath)

        call SaveInteger(Table__ht, (s__OilDepot_structTable), (GetHandleId(u)), ( this)) // INLINED!!

        // add to the player's depot list
        call s__IntegerList_push(OilHarvest__playerListDepots[playerNum],this)
        call updateNearestRigDepot(playerNum)

        return this
    endfunction

    function s__OilDepot_onInit takes nothing returns nothing
        set s__OilDepot_structTable=s__Table_create()
    endfunction




function updateOwnerships takes unit u,player old,player new returns nothing
    local integer depot= (LoadInteger(Table__ht, (s__OilDepot_structTable), (GetHandleId((u))))) // INLINED!!
    local integer rig= (LoadInteger(Table__ht, (s__OilRig_structTable), (GetHandleId((u))))) // INLINED!!
    local integer oldNum= GetPlayerId(old)
    local integer newNum= GetPlayerId(new)
    local boolean update= false
    if depot != 0 then
        call s__IntegerList_removeElem(OilHarvest__playerListDepots[oldNum],depot)
        call s__IntegerList_push(OilHarvest__playerListDepots[newNum],depot)
        set update=true
    endif
    if rig != 0 then
        call s__IntegerList_removeElem(OilHarvest__playerListRigs[oldNum],rig)
        call s__IntegerList_push(OilHarvest__playerListRigs[newNum],rig)
        set update=true
    endif
    if update then
        call updateNearestRigDepot(oldNum)
        call updateNearestRigDepot(newNum)
    endif
endfunction


function OilHarvest__setupUnits takes unit u returns nothing
    if GetUnitAbilityLevel(u, OIL_PATCH_ABIL) > 0 then
        if not (HaveSavedInteger(Table__ht, (s__OilPatch_structTable), (GetHandleId((u))))) then // INLINED!!
            call s__OilPatch_new(u , OilHarvest__OIL_PATCH_AMOUNT_DEFAULT)
        endif
    endif
    if GetUnitAbilityLevel(u, OIL_RIG_ABIL) > 0 then
        if not (HaveSavedInteger(Table__ht, (s__OilRig_structTable), (GetHandleId((u))))) then // INLINED!!
            call s__OilRig_new(u)
            call s__OilCollector_retrieveOilUnit((ConstructEvent__builders[(GetUnitUserData(((u))))]) , u) // INLINED!!
        endif
    endif
    if GetUnitAbilityLevel(u, OIL_COLLECTOR_ABIL) > 0 then
        if not (HaveSavedInteger(Table__ht, (s__OilCollector_structTable), (GetHandleId((u))))) then // INLINED!!
            call s__OilCollector_new(u)
        endif
    endif
    if GetUnitAbilityLevel(u, OIL_DEPOT_ABIL) > 0 then
        if not (HaveSavedInteger(Table__ht, (s__OilDepot_structTable), (GetHandleId((u))))) then // INLINED!!
            call s__OilDepot_new(u)
        endif
    endif
endfunction

function OilHarvest__onCollectorAutomation takes nothing returns nothing
    local integer collector= (LoadInteger(Table__ht, (s__OilCollector_structTable), (GetHandleId((GetTriggerUnit()))))) // INLINED!!
    if collector != 0 then
        call s__OilCollector_automateOilProcess(collector)
    endif
endfunction

// Collector Action happens when a collector is in range, so either to queue up for harvesting or to deposit oil.
function OilHarvest__onCollectorAction takes nothing returns nothing
    local unit source= GetTriggerUnit()
    local unit target= GetSpellTargetUnit()
    local integer collector= (LoadInteger(Table__ht, (s__OilCollector_structTable), (GetHandleId((source))))) // INLINED!!
    local integer rig
    if collector != 0 then
        if s__OilCollector_amount[collector] > 0. then
            if (HaveSavedInteger(Table__ht, (s__OilDepot_structTable), (GetHandleId((target))))) then // INLINED!!
                call s__OilCollector_depositOil(collector)
            endif
        else
            set rig=(LoadInteger(Table__ht, (s__OilRig_structTable), (GetHandleId((target))))) // INLINED!!
            if rig != null then
                call s__OilRig_queueUp(rig,collector)
            endif
        endif
    endif
    set source=null
    set target=null
endfunction

function OilHarvest__onSmart takes nothing returns nothing
    local unit source= GetTriggerUnit()
    local unit target= GetOrderTargetUnit()
    local integer collector
    if GetOwningPlayer(source) == GetOwningPlayer(target) then
        set collector=(LoadInteger(Table__ht, (s__OilCollector_structTable), (GetHandleId((source))))) // INLINED!!
        if collector != 0 then
            if s__OilCollector_amount[collector] > 0. then
                if (HaveSavedInteger(Table__ht, (s__OilDepot_structTable), (GetHandleId((target))))) then // INLINED!!
                    call s__OilCollector_deliverOil(collector,target)
                endif
            else
                if (HaveSavedInteger(Table__ht, (s__OilRig_structTable), (GetHandleId((target))))) then // INLINED!!
                    call s__OilCollector_retrieveOil(collector,target)
                endif
            endif
        endif
    endif
    set source=null
    set target=null
endfunction

function OilHarvest__onIndexEx takes nothing returns nothing
    local unit source= udg_IndexExUnit
    local integer id= GetUnitUserData(source)
    if not udg_IsUnitConstructing[id] then
        call OilHarvest__setupUnits(source)
    endif
    set source=null
endfunction

// private function onDeindexEx takes nothing returns nothing
//     local unit source = udg_UDexUnits[udg_UDex]
//     if OilPatch.has(source) then
//         call OilPatch.get(source).destroy()
//     endif
//     if OilRig.has(source) then
//         call OilRig.get(source).destroy()
//     endif
//     if OilCollector.has(source) then
//         call OilCollector.get(source).destroy()
//     endif
//     if OilDepot.has(source) then
//         call OilDepot.get(source).destroy()
//     endif
//     set source = null
// endfunction

function OilHarvest__onBuildFinish takes nothing returns nothing
    call OilHarvest__setupUnits((ConstructEvent__eventConstruct)) // INLINED!!
endfunction

function OilHarvest__onBuildCancel takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local integer rig= (LoadInteger(Table__ht, (s__OilRig_structTable), (GetHandleId((u))))) // INLINED!!
    local integer p
    if GetUnitAbilityLevel(u, OIL_RIG_ABIL) > 0 then
        set p=s__OilRig_getOilPatch(GetUnitX(u) , GetUnitY(u))
        call s__OilPatch_restoreOilPatchUnit(p)
    endif
    if rig != 0 then
        call s__OilRig_destroy(rig)
    endif
    set u=null
endfunction


    function s__OilUI_restoreOilTexts takes nothing returns nothing
        local integer i= - 1
        local string oil
        loop
            set i=i + 1
            exitwhen i > bj_MAX_PLAYER_SLOTS
            set oil=I2S(OilHarvest__playerOil[i])
            if GetLocalPlayer() == Player(i) then
                call BlzFrameSetText(OilHarvest__oilAmount, oil)
                call BlzFrameSetText(OilHarvest__oilTooltipTitle, "Oil: " + oil)
            endif
        endloop
    endfunction

    function s__OilUI_setupFrames takes nothing returns nothing
        local framehandle upkeepFrame= BlzFrameGetChild(BlzGetFrameByName("ResourceBarFrame", 0), 2)
        local framehandle foodFrame= BlzFrameGetChild(BlzGetFrameByName("ResourceBarFrame", 0), 3)
        local framehandle upkeepText= BlzGetFrameByName("ResourceBarUpkeepText", 0)
        local framehandle foodText= BlzGetFrameByName("ResourceBarSupplyText", 0)

        local framehandle fh

        // move foodFrame
        // call BlzFrameSetAllPoints(foodFrame, upkeepFrame)
        // call BlzFrameSetAllPoints(foodText, upkeepText)

        call BlzLoadTOCFile("CustomUI.toc")

        call BlzFrameSetAbsPoint(upkeepText, FRAMEPOINT_LEFT, 12., 12.)
        call BlzFrameSetAbsPoint(upkeepFrame, FRAMEPOINT_LEFT, 12., 12.)

        set OilHarvest__oilMasterFrame=BlzCreateFrameByType("FRAME", "OilMasterFrame", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), "", 0)
        call BlzFrameSetSize(OilHarvest__oilMasterFrame, OilHarvest__OIL_UI_MASTER_FRAME_X + OilHarvest__OIL_UI_AMOUNT_OFFSET, OilHarvest__OIL_UI_MASTER_FRAME_Y)
        call BlzFrameSetPoint(OilHarvest__oilMasterFrame, FRAMEPOINT_TOPLEFT, foodFrame, FRAMEPOINT_TOPRIGHT, OilHarvest__OIL_UI_FRAME_OFFSET, 0.)

        set OilHarvest__oilTooltip=BlzCreateFrame("TooltipText", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 1, 0)
        set OilHarvest__oilTooltipTitle=BlzGetFrameByName("TooltipTextTitle", 0)
        call BlzFrameSetText(OilHarvest__oilTooltipTitle, "Oil: 0")

        set fh=BlzGetFrameByName("TooltipTextValue", 0)
        call BlzFrameSetText(fh, "Oil is gathered from Oil Patches.")
        // call BlzFrameSetSize(oilTooltip, .29, .0435)
        // call BlzFrameSetSize(oilTooltip, .29, .0535)
        
        call BlzFrameSetPoint(OilHarvest__oilTooltip, FRAMEPOINT_TOPLEFT, OilHarvest__oilTooltipTitle, FRAMEPOINT_TOPLEFT, - .005, .0055)
        call BlzFrameSetPoint(OilHarvest__oilTooltip, FRAMEPOINT_BOTTOMRIGHT, fh, FRAMEPOINT_BOTTOMRIGHT, .005, - .0055)
        call BlzFrameSetAbsPoint(fh, FRAMEPOINT_BOTTOMRIGHT, 0.8 - .005, 0.1625 + .0055)
        
        set OilHarvest__oilHoverFrame=BlzCreateFrameByType("FRAME", "OilHoverFrame", OilHarvest__oilMasterFrame, "", 0)
        call BlzFrameSetAllPoints(OilHarvest__oilHoverFrame, OilHarvest__oilMasterFrame)
        call BlzFrameSetTooltip(OilHarvest__oilHoverFrame, OilHarvest__oilTooltip)

        set OilHarvest__oilIcon=BlzCreateFrameByType("BACKDROP", "OilIcon", OilHarvest__oilMasterFrame, "", 0)
        call BlzFrameSetSize(OilHarvest__oilIcon, OilHarvest__OIL_UI_ICON_SIZE, OilHarvest__OIL_UI_ICON_SIZE)
        call BlzFrameSetTexture(OilHarvest__oilIcon, OilHarvest__OIL_UI_ICON_PATH, 0, true)
        call BlzFrameSetPoint(OilHarvest__oilIcon, FRAMEPOINT_LEFT, OilHarvest__oilMasterFrame, FRAMEPOINT_LEFT, 0., 0.)
        // call BlzFrameSetAbsPoint(oilIcon, FRAMEPOINT_CENTER, 0.4, 0.3)

        set OilHarvest__oilAmount=BlzCreateFrameByType("TEXT", "OilAmount", OilHarvest__oilMasterFrame, "", 0)
        call BlzFrameSetTextSizeLimit(OilHarvest__oilAmount, OilHarvest__OIL_UI_FONT_SIZE)
        call BlzFrameSetText(OilHarvest__oilAmount, "0")
        call BlzFrameSetPoint(OilHarvest__oilAmount, FRAMEPOINT_RIGHT, OilHarvest__oilMasterFrame, FRAMEPOINT_RIGHT, - OilHarvest__OIL_UI_AMOUNT_OFFSET, 0.)

        set fh=null
        set foodText=null
        set upkeepText=null
        set foodFrame=null
        set upkeepFrame=null
    endfunction

    // static method onAfterSave takes nothing returns nothing
    //     call BlzFrameSetVisible(oilMasterFrame, true)
    //     call ReleaseTimer(GetExpiredTimer())
    // endmethod

    // static method onSave takes nothing returns nothing
    //     call BlzFrameSetVisible(oilMasterFrame, false)
    //     call TimerStart(NewTimer(), 0., false, function thistype.onAfterSave)
    // endmethod

    function s__OilUI_onLoad takes nothing returns nothing
        call s__OilUI_setupFrames()
        call s__OilUI_restoreOilTexts()
    endfunction

    function s__OilUI_setVisibile takes boolean flag returns nothing
        call BlzFrameSetVisible(OilHarvest__oilMasterFrame, flag)
    endfunction

    function s__OilUI_setVisibilePlayer takes player play,boolean flag returns nothing
        if GetLocalPlayer() == play then
            call BlzFrameSetVisible(OilHarvest__oilMasterFrame, flag)
        endif
    endfunction

//Implemented from module OilHarvest__OilFrameInit:
    function s__OilUI_OilHarvest__OilFrameInit___onInit takes nothing returns nothing
        local trigger onLoadListener= CreateTrigger()
        // local trigger onSaveListener    = CreateTrigger()
        // call TriggerRegisterGameEvent(onSaveListener, EVENT_GAME_SAVE)
        // call TriggerAddAction(onSaveListener, function thistype.onSave)
        call TriggerRegisterGameEvent(onLoadListener, EVENT_GAME_LOADED)
        call TriggerAddAction(onLoadListener, function s__OilUI_onLoad)
        call s__OilUI_setupFrames()
    endfunction

function OilHarvest__init takes nothing returns nothing
    local trigger indexExListener= CreateTrigger()
    // local trigger deindexListener = CreateTrigger()
    local trigger buildFinishListener= CreateTrigger()
    local trigger rigDeathListener= CreateTrigger()

    local integer i= - 1
    local player play

    call TriggerRegisterVariableEvent(indexExListener, "udg_UnitIndexExEvent", EQUAL, 1.00)
    call TriggerAddCondition(indexExListener, Condition(function OilHarvest__onIndexEx))
    set indexExListener=null

    // call TriggerRegisterVariableEvent(deindexListener, "udg_UnitIndexExEvent", EQUAL, 2.00)
    // call TriggerAddCondition(deindexListener, function onDeindexEx)
    // set deindexListener = null

call RegisterIndexNativeEvent(bj_MAX_PLAYER_SLOTS , (EVENT_UNIT_CONSTRUCTION_FINISH ) , ( function OilHarvest__onBuildFinish)) // INLINED!!
    
    // EVENT_PLAYER_UNIT_CONSTRUCT_CANCEL will fire a death event
    call TriggerRegisterAnyUnitEventBJ(rigDeathListener, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(rigDeathListener, function OilHarvest__onBuildCancel)
    set rigDeathListener=null

    call RegisterSpellEffectEvent(COLLECTOR_ACTION_ABIL , function OilHarvest__onCollectorAutomation)
    call RegisterSpellEffectEvent(OIL_COLLECTOR_ABIL , function OilHarvest__onCollectorAction)
    call RegisterOrderEvent(OilHarvest__ORDER_SMART , function OilHarvest__onSmart)

    set OilHarvest__listZones=s__IntegerList_create()
    loop
        set i=i + 1
        exitwhen i > bj_MAX_PLAYER_SLOTS
        set OilHarvest__playerListRigs[i]=s__IntegerList_create()
        set OilHarvest__playerListDepots[i]=s__IntegerList_create()
        set OilHarvest__playerOilRate[i]=OilHarvest__OIL_COLLECTION_RATE_DEFAULT
    endloop
endfunction

function OilHarvest__delay takes nothing returns nothing
    call BlzFrameSetVisible(OilHarvest__oilMasterFrame, (OilHarvest__uiVisible)) // INLINED!!
    call s__OilDisplay_setAllVisibile(OilHarvest__uiVisible)
    call ReleaseTimer(GetExpiredTimer())
endfunction
function OilHarvest_setUIVisible takes boolean flag returns nothing
    set OilHarvest__uiVisible=flag
    call TimerStart((NewTimerEx(0)), 0., false, function OilHarvest__delay) // INLINED!!
endfunction


//library OilHarvest ends
//===========================================================================
// 
// Chapter 01
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Map Author: LoreCraftDesigns
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************


function InitGlobals takes nothing returns nothing
    local integer i= 0
    set udg_ResQuest=false
    set udg_IntroCinemathic=false
    set udg_IntroSkipped=false
    set udg_NumberOfFarms=false
    set udg_FinalCinematic=false
    set udg_FinalSkipped=false
    set udg_HumanCinematic=false
    set udg_HumanCinematicSkipped=false
    set udg_WolfCinematic=false
    set udg_WolfCinematicSkipped=false
    set udg_Farms=0
    set udg_Timer=CreateTimer()
    set udg_SelectionGroup=CreateGroup()
    set udg_ItIsAGoodDayToDie=false
    set udg_OnScreen=false
    set udg_Showpath=false
    set udg_HiddenTroops=CreateGroup()
    set udg_GoldStash=0
    set udg_LumberStash=0
    set udg_HumanKilledCinematic=false
    set udg_HumanKilledCinematicSkipped=false
    set udg_WolfAttackDelayUpBoundary=0
    set udg_WolfAttackDelayDownBoundary=0
    set udg_TimerValue=0
    set udg_Playlist=""
    set udg_PausedUnits=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_VisibilityBoolWaterfall[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_VisibilityBoolCliff[i]=false
        set i=i + 1
    endloop

    set udg_SecretFound=false
    set udg_Chance=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_CheckDeathInList[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitTransforming[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_UnitName[i]=""
        set i=i + 1
    endloop

    set udg_UnitInActionEvent=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_UnitInAction[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitPreplaced[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_UDexPrev[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_UDexNext[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitNew[i]=false
        set i=i + 1
    endloop

    set udg_WorldMaxY=0
    set udg_WorldMaxX=0
    set udg_UnitTypeEvent=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitRemoved[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_CargoTransportGroup[i]=CreateGroup()
        set i=i + 1
    endloop

    set udg_CargoEvent=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitBeingUnloaded[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitReincarnating[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_CheckDeathList[i]=0
        set i=i + 1
    endloop

    set udg_CheckDeathTimer=CreateTimer()
    set udg_DeathEvent=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitAlive[i]=false
        set i=i + 1
    endloop

    set udg_UnitIndexEvent=0
    set udg_UDexLastRecycled=0
    set udg_UnitIndexerEnabled=false
    set udg_UDex=0
    set udg_UDexMax=0
    set udg_UnitIndexExEvent=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IsUnitConstructing[i]=false
        set i=i + 1
    endloop

    set udg_Codex_EntriesNumber=2
    set udg_Codex_EntryDiscovered01=false
    set udg_Codex_EntryTitle01=""
    set udg_Codex_EntryContent01=""
    set udg_Codex_EntryDiscovered02=false
    set udg_Codex_EntryTitle02=""
    set udg_Codex_EntryContent02=""
    set udg_Codex_UIEnabled=false
    set udg_Codex_UISelectedEntry=- 1
    set udg_Codex_EntryDiscovered03=false
    set udg_Codex_EntryDiscovered04=false
    set udg_Codex_EntryDiscovered05=false
    set udg_Codex_EntryDiscovered06=false
    set udg_Codex_EntryTitle03=""
    set udg_Codex_EntryTitle04=""
    set udg_Codex_EntryTitle05=""
    set udg_Codex_EntryTitle06=""
    set udg_Codex_EntryContent03=""
    set udg_Codex_EntryContent04=""
    set udg_Codex_EntryContent05=""
    set udg_Codex_EntryContent06=""
    set udg_Rend_Attack_Count=0
    set udg_CreepHP=0
    set udg_CreepDMG=0
    set udg_Neutral_Smart_Order=false
    set udg_BearViewOn=false
endfunction

//***************************************************************************
//*
//*  Custom Script Code
//*
//***************************************************************************
//***************************************************************************
//*  BlizzardMessage
//***************************************************************************
//*  ConstructEvent

//***************************************************************************
//*  Table
//***************************************************************************
//*  TimerUtils
//***************************************************************************
//*  ListT

//***************************************************************************
//*  LinkedList
//***************************************************************************
//*  Alloc
//***************************************************************************
//*  WorldBounds
//***************************************************************************
//*  EffectUtils
//***************************************************************************
//*  RegisterNativeEvent

//***************************************************************************
//*  RegisterPlayerUnitEvent

//***************************************************************************
//*  SpellEffectEvent
//============================================================================
// SpellEffectEvent
// - Version 1.1.0.0
//
// API
// ---
//     RegisterSpellEffectEvent(integer abil, code onCast)
// 
// Requires
// --------
//     RegisterPlayerUnitEvent: hiveworkshop.com/forums/showthread.php?t=203338
// 
// Optional
// --------
//     Table: hiveworkshop.com/forums/showthread.php?t=188084
//
//***************************************************************************
//*  OrderEvent
//============================================================================
// OrderEvent by Bribe, special thanks to Nestharus and Azlier, version 3.0.1.1
//
// API
// ---
//     RegisterOrderEvent(integer orderId, code eventFunc)
//     RegisterAnyOrderEvent(code eventFunc) //Runs for point/target/instant for any order
//
// Requires
// --------
//     RegisterPlayerUnitEvent: http://www.hiveworkshop.com/threads/snippet-registerevent-pack.250266/
//     Table: http://www.hiveworkshop.com/forums/showthread.php?t=188084
//
//***************************************************************************
//*  DelayedOrder
//***************************************************************************
//*  IsUnitConstructing
//***************************************************************************
//*  OilHarvest



//***************************************************************************
//*  CodexInit


// Codex UI

function CodexDialogUpdateEntries takes nothing returns nothing
    local framehandle codexDialogEntryOneTitle= BlzGetFrameByName("CodexDialogEntryTopLeftTitle", 0)
    local framehandle codexDialogEntryTwoTitle= BlzGetFrameByName("CodexDialogEntryTopRightTitle", 0)
    local framehandle codexDialogEntryThreeTitle= BlzGetFrameByName("CodexDialogEntryCenterLeftTitle", 0)
    local framehandle codexDialogEntryFourTitle= BlzGetFrameByName("CodexDialogEntryCenterRightTitle", 0)
    local framehandle codexDialogEntryFiveTitle= BlzGetFrameByName("CodexDialogEntryBottomLeftTitle", 0)
    local framehandle codexDialogEntrySixTitle= BlzGetFrameByName("CodexDialogEntryBottomRightTitle", 0)

    // Update all entries button titles
    if udg_Codex_EntryDiscovered01 == true then
        call BlzFrameSetText(codexDialogEntryOneTitle, udg_Codex_EntryTitle01)
    endif
    if udg_Codex_EntryDiscovered02 == true then
        call BlzFrameSetText(codexDialogEntryTwoTitle, udg_Codex_EntryTitle02)
    endif
    if udg_Codex_EntryDiscovered03 == true then
        call BlzFrameSetText(codexDialogEntryThreeTitle, udg_Codex_EntryTitle03)
    endif
    if udg_Codex_EntryDiscovered04 == true then
        call BlzFrameSetText(codexDialogEntryFourTitle, udg_Codex_EntryTitle04)
    endif
    if udg_Codex_EntryDiscovered05 == true then
        call BlzFrameSetText(codexDialogEntryFiveTitle, udg_Codex_EntryTitle05)
    endif
    if udg_Codex_EntryDiscovered06 == true then
        call BlzFrameSetText(codexDialogEntrySixTitle, udg_Codex_EntryTitle06)
    endif

    // Clean the leaks
    set codexDialogEntryOneTitle=null
    set codexDialogEntryTwoTitle=null
    set codexDialogEntryThreeTitle=null
    set codexDialogEntryFourTitle=null
    set codexDialogEntryFiveTitle=null
    set codexDialogEntrySixTitle=null
endfunction

function CodexDialogEntryAllButtonsDeselect takes nothing returns nothing
    local framehandle codexDialogEntryOneButton= BlzGetFrameByName("CodexDialogEntryTopLeftButtonSelectedHighlight", 0)
    local framehandle codexDialogEntryTwoButton= BlzGetFrameByName("CodexDialogEntryTopRightButtonSelectedHighlight", 0)
    local framehandle codexDialogEntryThreeButton= BlzGetFrameByName("CodexDialogEntryCenterLeftButtonSelectedHighlight", 0)
    local framehandle codexDialogEntryFourButton= BlzGetFrameByName("CodexDialogEntryCenterRightButtonSelectedHighlight", 0)
    local framehandle codexDialogEntryFiveButton= BlzGetFrameByName("CodexDialogEntryBottomLeftButtonSelectedHighlight", 0)
    local framehandle codexDialogEntrySixButton= BlzGetFrameByName("CodexDialogEntryBottomRightButtonSelectedHighlight", 0)
    local framehandle codexDialogDisplay= BlzGetFrameByName("CodexDialogDisplay", 0)

    // Remove all highlights from the buttons
    call BlzFrameSetVisible(codexDialogEntryOneButton, false)
    call BlzFrameSetVisible(codexDialogEntryTwoButton, false)
    call BlzFrameSetVisible(codexDialogEntryThreeButton, false)
    call BlzFrameSetVisible(codexDialogEntryFourButton, false)
    call BlzFrameSetVisible(codexDialogEntryFiveButton, false)
    call BlzFrameSetVisible(codexDialogEntrySixButton, false)

    // Hide the display
    call BlzFrameSetVisible(codexDialogDisplay, false)

    // Set the selected value to an invalid value
    set udg_Codex_UISelectedEntry=- 1

    // Clean the leaks
    set codexDialogEntryOneButton=null
    set codexDialogEntryTwoButton=null
    set codexDialogEntryThreeButton=null
    set codexDialogEntryFourButton=null
    set codexDialogEntryFiveButton=null
    set codexDialogEntrySixButton=null
    set codexDialogDisplay=null
endfunction

function CodexDialogSelectEntry takes integer number returns nothing
    local framehandle buttonSelectedHighlight= null
    local framehandle codexDialogDisplay= BlzGetFrameByName("CodexDialogDisplay", 0)
    local framehandle codexDialogDisplayTitle= BlzGetFrameByName("CodexDialogDisplayTitle", 0)

    if number <= udg_Codex_EntriesNumber then
        // Set the selected value to the selected button
        set udg_Codex_UISelectedEntry=number
        // Highlight the selected button and setup title and content then show display if discovered
        if number == 1 then
            set buttonSelectedHighlight=BlzGetFrameByName("CodexDialogEntryTopLeftButtonSelectedHighlight", 0)
            if udg_Codex_EntryDiscovered01 == true then
                call BlzFrameSetText(codexDialogDisplayTitle, udg_Codex_EntryTitle01)
                call BlzFrameSetText(codexDialogDisplay, udg_Codex_EntryContent01)
                call BlzFrameSetVisible(codexDialogDisplay, true)
                call BlzFrameSetEnable(codexDialogDisplay, false)
            endif
        elseif number == 2 then
            set buttonSelectedHighlight=BlzGetFrameByName("CodexDialogEntryTopRightButtonSelectedHighlight", 0)
            if udg_Codex_EntryDiscovered02 == true then
                call BlzFrameSetText(codexDialogDisplayTitle, udg_Codex_EntryTitle02)
                call BlzFrameSetText(codexDialogDisplay, udg_Codex_EntryContent02)
                call BlzFrameSetVisible(codexDialogDisplay, true)
                call BlzFrameSetEnable(codexDialogDisplay, false)
            endif
        elseif number == 3 then
            set buttonSelectedHighlight=BlzGetFrameByName("CodexDialogEntryCenterLeftButtonSelectedHighlight", 0)
            if udg_Codex_EntryDiscovered03 == true then
                call BlzFrameSetText(codexDialogDisplayTitle, udg_Codex_EntryTitle03)
                call BlzFrameSetText(codexDialogDisplay, udg_Codex_EntryContent03)
                call BlzFrameSetVisible(codexDialogDisplay, true)
                call BlzFrameSetEnable(codexDialogDisplay, false)
            endif
        elseif number == 4 then
            set buttonSelectedHighlight=BlzGetFrameByName("CodexDialogEntryCenterRightButtonSelectedHighlight", 0)
            if udg_Codex_EntryDiscovered04 == true then
                call BlzFrameSetText(codexDialogDisplayTitle, udg_Codex_EntryTitle04)
                call BlzFrameSetText(codexDialogDisplay, udg_Codex_EntryContent04)
                call BlzFrameSetVisible(codexDialogDisplay, true)
                call BlzFrameSetEnable(codexDialogDisplay, false)
            endif
        elseif number == 5 then
            set buttonSelectedHighlight=BlzGetFrameByName("CodexDialogEntryBottomLeftButtonSelectedHighlight", 0)
            if udg_Codex_EntryDiscovered05 == true then
                call BlzFrameSetText(codexDialogDisplayTitle, udg_Codex_EntryTitle05)
                call BlzFrameSetText(codexDialogDisplay, udg_Codex_EntryContent05)
                call BlzFrameSetVisible(codexDialogDisplay, true)
                call BlzFrameSetEnable(codexDialogDisplay, false)
            endif
        elseif number == 6 then
            set buttonSelectedHighlight=BlzGetFrameByName("CodexDialogEntryBottomRightButtonSelectedHighlight", 0)
            if udg_Codex_EntryDiscovered06 == true then
                call BlzFrameSetText(codexDialogDisplayTitle, udg_Codex_EntryTitle06)
                call BlzFrameSetText(codexDialogDisplay, udg_Codex_EntryContent06)
                call BlzFrameSetVisible(codexDialogDisplay, true)
                call BlzFrameSetEnable(codexDialogDisplay, false)
            endif
        endif
        call BlzFrameSetVisible(buttonSelectedHighlight, true)

    else
        // Set the selected value to an invalid value
        set udg_Codex_UISelectedEntry=- 1

        // Hide the display
        call BlzFrameSetVisible(codexDialogDisplay, false)
    endif

    // Clean the leaks
    set codexDialogDisplay=null
    set codexDialogDisplayTitle=null
    set buttonSelectedHighlight=null
endfunction

function CodexDialogEntryOneButtonClickAction takes nothing returns nothing
    local framehandle codexDialogEntryOneButtonSelectedHighlight= BlzGetFrameByName("CodexDialogEntryTopLeftButtonSelectedHighlight", 0)

    call CodexDialogEntryAllButtonsDeselect()
    call CodexDialogSelectEntry(1)

    // Clean the leaks
    set codexDialogEntryOneButtonSelectedHighlight=null
endfunction

function CodexDialogEntryTwoButtonClickAction takes nothing returns nothing
    local framehandle codexDialogEntryTwoButtonSelectedHighlight= BlzGetFrameByName("CodexDialogEntryTopRightButtonSelectedHighlight", 0)

    call CodexDialogEntryAllButtonsDeselect()
    call CodexDialogSelectEntry(2)

    // Clean the leaks
    set codexDialogEntryTwoButtonSelectedHighlight=null
endfunction

function CodexDialogEntryThreeButtonClickAction takes nothing returns nothing
    local framehandle codexDialogEntryThreeButtonSelectedHighlight= BlzGetFrameByName("CodexDialogEntryCenterLeftButtonSelectedHighlight", 0)

    call CodexDialogEntryAllButtonsDeselect()
    call CodexDialogSelectEntry(3)

    // Clean the leaks
    set codexDialogEntryThreeButtonSelectedHighlight=null
endfunction

function CodexDialogEntryFourButtonClickAction takes nothing returns nothing
    local framehandle codexDialogEntryFourButtonSelectedHighlight= BlzGetFrameByName("CodexDialogEntryCenterRightButtonSelectedHighlight", 0)

    call CodexDialogEntryAllButtonsDeselect()
    call CodexDialogSelectEntry(4)

    // Clean the leaks
    set codexDialogEntryFourButtonSelectedHighlight=null
endfunction

function CodexDialogEntryFiveButtonClickAction takes nothing returns nothing
    local framehandle codexDialogEntryFiveButtonSelectedHighlight= BlzGetFrameByName("CodexDialogEntryBottomLeftButtonSelectedHighlight", 0)

    call CodexDialogEntryAllButtonsDeselect()
    call CodexDialogSelectEntry(5)

    // Clean the leaks
    set codexDialogEntryFiveButtonSelectedHighlight=null
endfunction

function CodexDialogEntrySixButtonClickAction takes nothing returns nothing
    local framehandle codexDialogEntrySixButtonSelectedHighlight= BlzGetFrameByName("CodexDialogEntryBottomRightButtonSelectedHighlight", 0)

    call CodexDialogEntryAllButtonsDeselect()
    call CodexDialogSelectEntry(6)

    // Clean the leaks
    set codexDialogEntrySixButtonSelectedHighlight=null
endfunction

function CodexDialogDoneButtonClickAction takes nothing returns nothing
    local framehandle allianceDialog= BlzGetFrameByName("AllianceDialog", 0)
    local framehandle allianceAcceptButton= BlzGetFrameByName("AllianceAcceptButton", 0)

    // Click on the alliance dialog button (focus is required to return control to player)
    call BlzFrameSetFocus(allianceDialog, true)
    call BlzFrameClick(allianceAcceptButton)

    // Clean the leaks
    set allianceDialog=null
    set allianceAcceptButton=null
endfunction

function SetupCodexDialog takes integer codexEntries returns nothing
    local framehandle codexDialogEntryOne= null
    local framehandle codexDialogEntryOneButton= null
    local trigger codexDialogEntryOneButtonTrigger= gg_trg_Codex_UI_Entry_One_Button_Clicked
    local framehandle codexDialogEntryTwo= null
    local framehandle codexDialogEntryTwoButton= null
    local trigger codexDialogEntryTwoButtonTrigger= gg_trg_Codex_UI_Entry_Two_Button_Clicked
    local framehandle codexDialogEntryThree= null
    local framehandle codexDialogEntryThreeButton= null
    local trigger codexDialogEntryThreeButtonTrigger= gg_trg_Codex_UI_Entry_Three_Button_Clicked
    local framehandle codexDialogEntryFour= null
    local framehandle codexDialogEntryFourButton= null
    local trigger codexDialogEntryFourButtonTrigger= gg_trg_Codex_UI_Entry_Four_Button_Clicked
    local framehandle codexDialogEntryFive= null
    local framehandle codexDialogEntryFiveButton= null
    local trigger codexDialogEntryFiveButtonTrigger= gg_trg_Codex_UI_Entry_Five_Button_Clicked
    local framehandle codexDialogEntrySix= null
    local framehandle codexDialogEntrySixButton= null
    local trigger codexDialogEntrySixButtonTrigger= gg_trg_Codex_UI_Entry_Six_Button_Clicked
    local framehandle codexDialogDoneButton= null
    local trigger codexDialogDoneButtonTrigger= gg_trg_Codex_UI_Done_Button_Clicked
    local trigger codexUIReloadTrigger= gg_trg_Codex_UI_Reload

    // Hide all alliance dialog default UI
    call BlzFrameSetVisible(BlzGetFrameByName("AllianceBackdrop", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("AllianceTitle", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("ResourceTradingTitle", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("PlayersHeader", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("AllyHeader", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("VisionHeader", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("UnitsHeader", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("GoldHeader", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("LumberHeader", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("AllianceCancelButton", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("AlliedVictoryCheckBox", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("AlliedVictoryLabel", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("AllianceDialogScrollBar", 0), false)
    call BlzFrameSetVisible(BlzGetFrameByName("AllianceAcceptButton", 0), false)

    // Create the codex dialog as child of the alliance dialog (since it's bigger, it works well)
    // Note: this makes the dialog appear when the alliance dialog is shown by the game, we also make sure to not have a leaking equal dialog
    call BlzDestroyFrame(BlzGetFrameByName("CodexDialog", 0))
    call BlzCreateFrame("CodexDialog", BlzGetFrameByName("AllianceDialog", 0), 0, 0)

    // Setup the done button events
    set codexDialogDoneButton=BlzGetFrameByName("CodexDialogDoneButton", 0)
    call BlzTriggerRegisterFrameEvent(codexDialogDoneButtonTrigger, codexDialogDoneButton, FRAMEEVENT_CONTROL_CLICK)

    // Setup the entry one button events (also select it by default)
    set codexDialogEntryOne=BlzGetFrameByName("CodexDialogEntryTopLeft", 0)
    if codexEntries > 0 then
        set codexDialogEntryOneButton=BlzGetFrameByName("CodexDialogEntryTopLeftButton", 0)
        call BlzTriggerRegisterFrameEvent(codexDialogEntryOneButtonTrigger, codexDialogEntryOneButton, FRAMEEVENT_CONTROL_CLICK)
        call CodexDialogEntryAllButtonsDeselect()
        call CodexDialogSelectEntry(1)
    else
        call BlzFrameSetVisible(codexDialogEntryOne, false)
    endif

    // Setup the entry two button events
    set codexDialogEntryTwo=BlzGetFrameByName("CodexDialogEntryTopRight", 0)
    if codexEntries > 1 then
        set codexDialogEntryTwoButton=BlzGetFrameByName("CodexDialogEntryTopRightButton", 0)
        call BlzTriggerRegisterFrameEvent(codexDialogEntryTwoButtonTrigger, codexDialogEntryTwoButton, FRAMEEVENT_CONTROL_CLICK)
    else
        call BlzFrameSetVisible(codexDialogEntryTwo, false)
    endif

    // Setup the entry three button events
    set codexDialogEntryThree=BlzGetFrameByName("CodexDialogEntryCenterLeft", 0)
    if codexEntries > 2 then
        set codexDialogEntryThreeButton=BlzGetFrameByName("CodexDialogEntryCenterLeftButton", 0)
        call BlzTriggerRegisterFrameEvent(codexDialogEntryThreeButtonTrigger, codexDialogEntryThreeButton, FRAMEEVENT_CONTROL_CLICK)
    else
        call BlzFrameSetVisible(codexDialogEntryThree, false)
    endif

    // Setup the entry four button events
    set codexDialogEntryFour=BlzGetFrameByName("CodexDialogEntryCenterRight", 0)
    if codexEntries > 3 then
        set codexDialogEntryFourButton=BlzGetFrameByName("CodexDialogEntryCenterRightButton", 0)
        call BlzTriggerRegisterFrameEvent(codexDialogEntryFourButtonTrigger, codexDialogEntryFourButton, FRAMEEVENT_CONTROL_CLICK)
    else
        call BlzFrameSetVisible(codexDialogEntryFour, false)
    endif

    // Setup the entry five button events
    set codexDialogEntryFive=BlzGetFrameByName("CodexDialogEntryBottomLeft", 0)
    if codexEntries > 4 then
        set codexDialogEntryFiveButton=BlzGetFrameByName("CodexDialogEntryBottomLeftButton", 0)
        call BlzTriggerRegisterFrameEvent(codexDialogEntryFiveButtonTrigger, codexDialogEntryFiveButton, FRAMEEVENT_CONTROL_CLICK)
    else
        call BlzFrameSetVisible(codexDialogEntryFive, false)
    endif

    // Setup the entry six button events
    set codexDialogEntrySix=BlzGetFrameByName("CodexDialogEntryBottomRight", 0)
    if codexEntries > 5 then
        set codexDialogEntrySixButton=BlzGetFrameByName("CodexDialogEntryBottomRightButton", 0)
        call BlzTriggerRegisterFrameEvent(codexDialogEntrySixButtonTrigger, codexDialogEntrySixButton, FRAMEEVENT_CONTROL_CLICK)
    else
        call BlzFrameSetVisible(codexDialogEntrySix, false)
    endif

    // Make sure to update all entries (this is useful when the map is reloaded)
    call CodexDialogUpdateEntries()

    // Clean the leaks (we don't clean all the frames because they are called only one time)
    set codexDialogEntryOne=null
    set codexDialogEntryOneButton=null
    set codexDialogEntryTwo=null
    set codexDialogEntryTwoButton=null
    set codexDialogEntryThree=null
    set codexDialogEntryThreeButton=null
    set codexDialogEntryFour=null
    set codexDialogEntryFourButton=null
    set codexDialogEntryFive=null
    set codexDialogEntryFiveButton=null
    set codexDialogEntrySix=null
    set codexDialogEntrySixButton=null
    set codexDialogDoneButton=null
endfunction

function AlliesButtonKeepEnabled takes nothing returns nothing
    local framehandle alliesButton= BlzGetFrameByName("UpperButtonBarAlliesButton", 0)
    local framehandle menuButton= BlzGetFrameByName("UpperButtonBarMenuButton", 0)

    // Enable the allies button whenever the menu button is also enabled
    if BlzFrameGetEnable(menuButton) == true then
        if BlzFrameGetEnable(alliesButton) == false then
            call BlzFrameSetEnable(alliesButton, true)
        endif
    endif

    // Clean the leaks
    set alliesButton=null
    set menuButton=null
endfunction

function AllianceDialogKeepPaused takes nothing returns nothing
    local integer lastSelectedEntry= udg_Codex_UISelectedEntry
    local framehandle allianceDialog= BlzGetFrameByName("AllianceDialog", 0)

    // Pause the game when alliance dialog is shown/hidden
    if BlzFrameIsVisible(allianceDialog) == true then
        if udg_Codex_UIEnabled == false then
            set udg_Codex_UIEnabled=true
            call ConditionalTriggerExecute(gg_trg_Codex_UI_Pause)
            call ConditionalTriggerExecute(gg_trg_Codex_UI_Maintenance_Menu)

            // Reselect the last selected entry to update display
            call CodexDialogEntryAllButtonsDeselect()
            call CodexDialogSelectEntry(lastSelectedEntry)
        endif
    endif

    // Clean the leaks
    set allianceDialog=null
endfunction

function AllianceDialogClearPaused takes nothing returns nothing
    local framehandle allianceDialog= BlzGetFrameByName("AllianceDialog", 0)

    // Loop always when the alliance dialog is open (this is not stopped by the game pause)
    loop
        call TriggerSleepAction(0.1)
        // Keep the focus on the alliance dialog to avoid bugs on the player focus
        call BlzFrameSetFocus(allianceDialog, true)
        if BlzFrameIsVisible(allianceDialog) == false then
            if udg_Codex_UIEnabled == true then
                set udg_Codex_UIEnabled=false
                call ConditionalTriggerExecute(gg_trg_Codex_UI_Unpause)
            endif
        endif
        // Stop the loop (and then the trigger) as soon as the alliance menu is closed and the game unpaused
        exitwhen udg_Codex_UIEnabled == false

    endloop

    // Clean the leaks
    set allianceDialog=null
endfunction
//***************************************************************************
//*  InitFaceAnims
//////Utok
//////2.01 s
function LoadUtok01FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Utok1, "D04Grunt09")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Utok1, "Map-Grunt")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Utok1, "sound/dialogue/faceanimation/prologue04/facialanimation/grunt.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Utok1, "Throm'ka, Chieftain.")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Utok1, "Utok")
endfunction
//////3.08 s
function LoadUtok02FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Utok2, "D04Grunt12")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Utok2, "Map-Grunt")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Utok2, "sound/dialogue/faceanimation/prologue04/facialanimation/grunt.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Utok2, "Chieftain, there are human ships in the northern bay!")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Utok2, "Utok")
endfunction
//////
//Rend
//////
function LoadRend01FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Rend1, "NazgrelYesAttack2")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Rend1, "BaseSD")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Rend1, "units/other/nazgrel/nazgrel_portrait.sd.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Rend1, "Throm'ka, warrior.")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Rend1, "Rend Blackhand")
endfunction
function LoadRend02FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Rend2, "D01Nazgrel02")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Rend2, "Map-Nazgrel")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Rend2, "sound/dialogue/faceanimation/orcx01/facialanimation/nazgrel.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Rend2, "The horde is preparing to launch an assault against the mainland of Lordaeron. ")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Rend2, "Rend Blackhand")
endfunction
function LoadRend03FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Rend3, "D01Nazgrel06")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Rend3, "Map-Nazgrel")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Rend3, "sound/dialogue/faceanimation/orcx01/facialanimation/nazgrel.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Rend3, "Orgrim Doomhammer - Warchief of the Orcish Horde and Ruler of the Blackrock Clan - has ordered us to establish a small outpost on Lordaeron's southern shores.")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Rend3, "Rend Blackhand")
endfunction
function LoadRend04FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Rend4, "D05WolfRider05")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Rend4, "Map-WolfRider")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Rend4, "sound/dialogue/faceanimation/prologue05/facialanimation/wolfrider.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Rend4, "To secure the Zul'dare region as Doomhammer demands we will need to construct a Barracks and several Farms to feed the troops.")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Rend4, "Rend Blackhand")
endfunction
function LoadRend05FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Rend5, "D05WolfRider05")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Rend5, "Map-WolfRider")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Rend5, "sound/dialogue/faceanimation/prologue05/facialanimation/wolfrider.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Rend5, "Our success may help us determine the extent of the pathetic Human defenses and what resistance they can offer against our forces.")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Rend5, "Rend Blackhand")
endfunction
function LoadRend06FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Rend6, "D05WolfRider05")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Rend6, "Map-WolfRider")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Rend6, "sound/dialogue/faceanimation/prologue05/facialanimation/wolfrider.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Rend6, "We need a huge amount of resources for the needs of the northern campaign. Gather gold and cut down the forest!")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Rend6, "Rend Blackhand")
endfunction
function LoadRend07FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Rend7, "D08Nazgrel09")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Rend7, "Map-Nazgrel")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Rend7, "sound/dialogue/faceanimation/orcx01/facialanimation/nazgrel.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Rend7, "Find their den and put an end to these attacks!")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Rend7, "Rend Blackhand")
endfunction
function LoadRend08FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Rend8, "NazgrelYesAttack2")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Rend8, "BaseSD")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Rend8, "units/other/nazgrel/nazgrel_portrait.sd.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Rend8, "That's the last of them.")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Rend8, "Rend Blackhand")
endfunction
function LoadRend09FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Rend9, "D01Nazgrel06")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Rend9, "Map-Nazgrel")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Rend9, "sound/dialogue/faceanimation/orcx01/facialanimation/nazgrel.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Rend9, "Damn! We are not prepared for this! We must put out the signal fire immediately, or they will notice us from the ships. Scour the island, slaughter the humans, and don’t let them warn the mainland!")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Rend9, "Rend Blackhand")
endfunction
function LoadRend10FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Rend10, "D01Nazgrel02")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Rend10, "Map-Nazgrel")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Rend10, "sound/dialogue/faceanimation/orcx01/facialanimation/nazgrel.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Rend10, "Excellent, we've made ready and scouted the area. Doomhammer will be pleased.")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Rend10, "Rend Blackhand")
endfunction
//Grunt
function LoadGrunt01FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_T02Grunt04901, "T02Grunt049")
   call SetSoundFacialAnimationGroupLabel(gg_snd_T02Grunt04901, "Map-Grunt")
   call SetSoundFacialAnimationSetFilepath(gg_snd_T02Grunt04901, "sound/dialogue/faceanimation/prologue02/facialanimation/grunt.animset")
   call SetDialogueTextKey(gg_snd_T02Grunt04901, "The wretched humans have been destroyed!")
   call SetDialogueSpeakerNameKey(gg_snd_T02Grunt04901, "Grunt")
endfunction
//////
//Peon
//////
function LoadPeon01FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Peon1, "PeonPissed4")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Peon1, "BaseSD")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Peon1, "units/orc/peon/peon_potrait.sd.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Peon1, "Wolves, we are under attack!")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Peon1, "Peon")
endfunction
//////
//Footman
//////
function LoadFootman01FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Footman1, "H01Arthas04")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Footman1, "Map")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Footman1, "sound/dialogue/faceanimation/human01/facialanimation/arthas.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Footman1, "Is it true sir? Have the orcs really made it this far north?")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Footman1, "Footman")
endfunction
function LoadFootman02FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Footman2, "H01Uther11")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Footman2, "Map")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Footman2, "sound/dialogue/faceanimation/human01/facialanimation/uther.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Footman2, "And the stories? If even half of them are true, how can we possibly defeat them?")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Footman2, "Footman")
endfunction
function LoadFootman03FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Footman3, "D04Footman21")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Footman3, "Map-Footman")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Footman3, "sound/dialogue/faceanimation/prologue04/facialanimation/footman.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Footman3, "Light protect us...")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Footman3, "Footman")
endfunction
function LoadFootman05FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_O07FootmanA1101, "O07FootmanA11")
   call SetSoundFacialAnimationGroupLabel(gg_snd_O07FootmanA1101, "Map-Footman")
   call SetSoundFacialAnimationSetFilepath(gg_snd_O07FootmanA1101, "sound/dialogue/faceanimation/orc07/facialanimation/footman.animset")
   call SetDialogueTextKey(gg_snd_O07FootmanA1101, "Orcs! Arm yourselves!")
   call SetDialogueSpeakerNameKey(gg_snd_O07FootmanA1101, "Footman")
endfunction
function LoadFootman06FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_O07FootmanA2201, "O07FootmanA22")
   call SetSoundFacialAnimationGroupLabel(gg_snd_O07FootmanA2201, "Map-Footman")
   call SetSoundFacialAnimationSetFilepath(gg_snd_O07FootmanA2201, "sound/dialogue/faceanimation/orc07/facialanimation/footman.animset")
   call SetDialogueTextKey(gg_snd_O07FootmanA2201, "Let's get the hell out of here!")
   call SetDialogueSpeakerNameKey(gg_snd_O07FootmanA2201, "Footman")
endfunction
function LoadFootman07FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_H02Footman2301, "H02Footman23")
   call SetSoundFacialAnimationGroupLabel(gg_snd_H02Footman2301, "Map-Footman")
   call SetSoundFacialAnimationSetFilepath(gg_snd_H02Footman2301, "sound/dialogue/faceanimation/human02/facialanimation/footman.animset")
   call SetDialogueTextKey(gg_snd_H02Footman2301, "You sick bastards! You'll never get away with...")
   call SetDialogueSpeakerNameKey(gg_snd_H02Footman2301, "Footman")
endfunction
//////
//Captain
//////
function LoadCaptain01FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Captain1, "H02Footman23")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Captain1, "Map-Footman")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Captain1, "sound/dialogue/faceanimation/human02/facialanimation/footman.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Captain1, "Alright men, establish a basecamp and prepare to move out.")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Captain1, "Captain")
endfunction
function LoadCaptain02FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Captain2, "H01Arthas06")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Captain2, "Map")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Captain2, "sound/dialogue/faceanimation/human01/facialanimation/arthas.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Captain2, "Calm yourselves and stay focused on our task. We are here to investigate the rumors of a suspected Horde presence in the Zul’dare region.")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Captain2, "Captain")
endfunction
function LoadCaptain03FacialAnimations takes nothing returns nothing
   call SetSoundFacialAnimationLabel(gg_snd_WC2Orc01Captain3, "D04Footman22")
   call SetSoundFacialAnimationGroupLabel(gg_snd_WC2Orc01Captain3, "Map-Footman")
   call SetSoundFacialAnimationSetFilepath(gg_snd_WC2Orc01Captain3, "sound/dialogue/faceanimation/prologue04/facialanimation/footman.animset")
   call SetDialogueTextKey(gg_snd_WC2Orc01Captain3, "See if you can get that fire going.")
   call SetDialogueSpeakerNameKey(gg_snd_WC2Orc01Captain3, "Captain")
endfunction


//***************************************************************************
//*
//*  Map Item Tables
//*
//***************************************************************************

function ItemTable000000_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('lmbr', 30)
        call RandomDistAddItem('I603', 70)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Unit Item Tables
//*
//***************************************************************************

function Unit000071_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('tmmt', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Destructible Item Tables
//*
//***************************************************************************

function Doodad000892_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('phea', 75)
        call RandomDistAddItem(- 1, 25)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad002158_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('shea', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad002161_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true

    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif

    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif

    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('rde0', 75)
        call RandomDistAddItem(- 1, 25)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif

    endif

    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Sound Assets
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_GoodJob=CreateSound("Sound\\Interface\\GoodJob.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_GoodJob, 2954)
    call SetSoundChannel(gg_snd_GoodJob, 0)
    call SetSoundVolume(gg_snd_GoodJob, - 1)
    call SetSoundPitch(gg_snd_GoodJob, 1.0)
    set gg_snd_Loading=CreateSound("Abilities\\Spells\\Other\\LoadUnload\\Loading.wav", false, false, true, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Loading, 740)
    call SetSoundChannel(gg_snd_Loading, 0)
    call SetSoundVolume(gg_snd_Loading, - 1)
    call SetSoundPitch(gg_snd_Loading, 1.0)
    set gg_snd_WaterWavesLoop1=CreateSound("Sound\\Ambient\\DoodadEffects\\WaterWavesLoop1.wav", true, true, true, 10, 10, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WaterWavesLoop1, 7445)
    call SetSoundChannel(gg_snd_WaterWavesLoop1, 0)
    call SetSoundVolume(gg_snd_WaterWavesLoop1, - 1)
    call SetSoundPitch(gg_snd_WaterWavesLoop1, 1.0)
    call SetSoundDistances(gg_snd_WaterWavesLoop1, 0.0, 10000.0)
    call SetSoundDistanceCutoff(gg_snd_WaterWavesLoop1, 3000.0)
    call SetSoundConeAngles(gg_snd_WaterWavesLoop1, 0.0, 0.0, 127)
    call SetSoundConeOrientation(gg_snd_WaterWavesLoop1, 0.0, 0.0, 0.0)
    set gg_snd_WaterLakeLoop1=CreateSound("Sound\\Ambient\\DoodadEffects\\WaterLakeLoop1.wav", true, true, true, 10, 10, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WaterLakeLoop1, 3297)
    call SetSoundChannel(gg_snd_WaterLakeLoop1, 0)
    call SetSoundVolume(gg_snd_WaterLakeLoop1, - 1)
    call SetSoundPitch(gg_snd_WaterLakeLoop1, 1.0)
    call SetSoundDistances(gg_snd_WaterLakeLoop1, 0.0, 10000.0)
    call SetSoundDistanceCutoff(gg_snd_WaterLakeLoop1, 3000.0)
    call SetSoundConeAngles(gg_snd_WaterLakeLoop1, 0.0, 0.0, 127)
    call SetSoundConeOrientation(gg_snd_WaterLakeLoop1, 0.0, 0.0, 0.0)
    set gg_snd_Seagull1=CreateSound("Sound\\Ambient\\DoodadEffects\\Seagull1.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Seagull1, 3593)
    call SetSoundChannel(gg_snd_Seagull1, 0)
    call SetSoundVolume(gg_snd_Seagull1, - 1)
    call SetSoundPitch(gg_snd_Seagull1, 1.0)
    set gg_snd_DuskWolf=CreateSound("Sound\\Time\\DuskWolf.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_DuskWolf, 4789)
    call SetSoundChannel(gg_snd_DuskWolf, 0)
    call SetSoundVolume(gg_snd_DuskWolf, - 1)
    call SetSoundPitch(gg_snd_DuskWolf, 1.0)
    set gg_snd_QuillBoarWhat2=CreateSound("Units\\Creeps\\QuillBeast\\QuillBoarWhat2.wav", false, false, true, 10, 10, "HeroAcksEAX")
    call SetSoundDuration(gg_snd_QuillBoarWhat2, 785)
    call SetSoundChannel(gg_snd_QuillBoarWhat2, 0)
    call SetSoundVolume(gg_snd_QuillBoarWhat2, - 1)
    call SetSoundPitch(gg_snd_QuillBoarWhat2, 1.0)
    set gg_snd_Seagull101=CreateSound("Sound\\Ambient\\DoodadEffects\\Seagull1.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Seagull101, 3593)
    call SetSoundChannel(gg_snd_Seagull101, 0)
    call SetSoundVolume(gg_snd_Seagull101, - 1)
    call SetSoundPitch(gg_snd_Seagull101, 1.0)
    set gg_snd_Warning=CreateSound("Sound\\Interface\\Warning.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Warning, 1903)
    call SetSoundChannel(gg_snd_Warning, 0)
    call SetSoundVolume(gg_snd_Warning, - 1)
    call SetSoundPitch(gg_snd_Warning, 1.0)
    set gg_snd_BattleShipDeath1=CreateSound("Doodads\\Northrend\\Water\\Battleship\\BattleShipDeath1.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundDuration(gg_snd_BattleShipDeath1, 3064)
    call SetSoundChannel(gg_snd_BattleShipDeath1, 0)
    call SetSoundVolume(gg_snd_BattleShipDeath1, - 1)
    call SetSoundPitch(gg_snd_BattleShipDeath1, 1.0)
    call SetSoundDistances(gg_snd_BattleShipDeath1, 0.0, 10000.0)
    call SetSoundDistanceCutoff(gg_snd_BattleShipDeath1, 3000.0)
    call SetSoundConeAngles(gg_snd_BattleShipDeath1, 0.0, 0.0, 127)
    call SetSoundConeOrientation(gg_snd_BattleShipDeath1, 0.0, 0.0, 0.0)
    set gg_snd_QuillboarDeath=CreateSound("Units\\Creeps\\QuillBeast\\QuillboarDeath.wav", false, false, true, 10, 10, "HeroAcksEAX")
    call SetSoundDuration(gg_snd_QuillboarDeath, 1529)
    call SetSoundChannel(gg_snd_QuillboarDeath, 0)
    call SetSoundVolume(gg_snd_QuillboarDeath, - 1)
    call SetSoundPitch(gg_snd_QuillboarDeath, 1.0)
    set gg_snd_BundleOfLumber=CreateSound("Abilities\\Spells\\Items\\ResourceItems\\BundleOfLumber.wav", false, false, true, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_BundleOfLumber, 1346)
    call SetSoundChannel(gg_snd_BundleOfLumber, 0)
    call SetSoundVolume(gg_snd_BundleOfLumber, - 1)
    call SetSoundPitch(gg_snd_BundleOfLumber, 1.0)
    set gg_snd_ReceiveGold=CreateSound("Abilities\\Spells\\Items\\ResourceItems\\ReceiveGold.wav", false, false, true, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_ReceiveGold, 589)
    call SetSoundChannel(gg_snd_ReceiveGold, 0)
    call SetSoundVolume(gg_snd_ReceiveGold, - 1)
    call SetSoundPitch(gg_snd_ReceiveGold, 1.0)
    set gg_snd_O07FootmanA1101=CreateSound("Sound/Dialogue/OrcCampaign/Orc07/O07FootmanA11.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_O07FootmanA1101, "O07FootmanA11")
    call SetSoundDuration(gg_snd_O07FootmanA1101, 2618)
    call SetSoundChannel(gg_snd_O07FootmanA1101, 19)
    call SetSoundVolume(gg_snd_O07FootmanA1101, 120)
    set gg_snd_O07FootmanA2201=CreateSound("Sound/Dialogue/OrcCampaign/Orc07/O07FootmanA22.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_O07FootmanA2201, "O07FootmanA22")
    call SetSoundDuration(gg_snd_O07FootmanA2201, 2160)
    call SetSoundChannel(gg_snd_O07FootmanA2201, 19)
    call SetSoundVolume(gg_snd_O07FootmanA2201, 120)
    set gg_snd_H02Footman2301=CreateSound("Sound/Dialogue/HumanCampaign/Human02/H02Footman23.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_H02Footman2301, "H02Footman23")
    call SetSoundDuration(gg_snd_H02Footman2301, 4035)
    call SetSoundChannel(gg_snd_H02Footman2301, 19)
    call SetSoundVolume(gg_snd_H02Footman2301, 120)
    set gg_snd_T02Grunt04901=CreateSound("Sound/Dialogue/TutorialCampaign/Tutorial02/T02Grunt049.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_T02Grunt04901, "T02Grunt049")
    call SetSoundDuration(gg_snd_T02Grunt04901, 3054)
    call SetSoundChannel(gg_snd_T02Grunt04901, 19)
    call SetSoundVolume(gg_snd_T02Grunt04901, 120)
    set gg_snd_WC2Orc01Peon1=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Peon1.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Peon1, 2768)
    call SetSoundChannel(gg_snd_WC2Orc01Peon1, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Peon1, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Peon1, 1.0)
    set gg_snd_OrcDefeat="OrcDefeat"
    set gg_snd_WC2Orc01Utok1=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Utok1.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Utok1, 2011)
    call SetSoundChannel(gg_snd_WC2Orc01Utok1, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Utok1, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Utok1, 1.0)
    set gg_snd_WC2Orc01Utok2=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Utok2.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Utok2, 3082)
    call SetSoundChannel(gg_snd_WC2Orc01Utok2, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Utok2, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Utok2, 1.0)
    set gg_snd_WC2Orc01Rend9=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Rend9.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Rend9, 12120)
    call SetSoundChannel(gg_snd_WC2Orc01Rend9, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Rend9, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Rend9, 1.0)
    set gg_snd_WC2Orc01Rend8=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Rend8.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Rend8, 1750)
    call SetSoundChannel(gg_snd_WC2Orc01Rend8, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Rend8, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Rend8, 1.0)
    set gg_snd_WC2Orc01Rend7=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Rend7.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Rend7, 3735)
    call SetSoundChannel(gg_snd_WC2Orc01Rend7, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Rend7, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Rend7, 1.0)
    set gg_snd_WC2Orc01Rend6=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Rend6.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Rend6, 7471)
    call SetSoundChannel(gg_snd_WC2Orc01Rend6, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Rend6, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Rend6, 1.0)
    set gg_snd_WC2Orc01Rend5=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Rend5.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Rend5, 8933)
    call SetSoundChannel(gg_snd_WC2Orc01Rend5, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Rend5, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Rend5, 1.0)
    set gg_snd_WC2Orc01Rend4=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Rend4.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Rend4, 8463)
    call SetSoundChannel(gg_snd_WC2Orc01Rend4, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Rend4, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Rend4, 1.0)
    set gg_snd_WC2Orc01Rend3=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Rend3.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Rend3, 10657)
    call SetSoundChannel(gg_snd_WC2Orc01Rend3, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Rend3, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Rend3, 1.0)
    set gg_snd_WC2Orc01Rend2=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Rend2.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Rend2, 4702)
    call SetSoundChannel(gg_snd_WC2Orc01Rend2, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Rend2, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Rend2, 1.0)
    set gg_snd_WC2Orc01Rend1=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Rend1.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Rend1, 2011)
    call SetSoundChannel(gg_snd_WC2Orc01Rend1, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Rend1, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Rend1, 1.0)
    set gg_snd_WC2Orc01Peon3=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Peon3.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Peon3, 2716)
    call SetSoundChannel(gg_snd_WC2Orc01Peon3, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Peon3, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Peon3, 1.0)
    set gg_snd_WC2Orc01Peon2=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Peon2.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_WC2Orc01Peon2, 4911)
    call SetSoundChannel(gg_snd_WC2Orc01Peon2, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Peon2, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Peon2, 1.0)
    set gg_snd_PigFarmWhat1=CreateSound("Buildings/Other/PigFarm/PigFarmWhat1.flac", false, false, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_PigFarmWhat1, "PigFarmWhat")
    call SetSoundDuration(gg_snd_PigFarmWhat1, 3105)
    call SetSoundVolume(gg_snd_PigFarmWhat1, 90)
    set gg_snd_CS_Prologue2_Foley1=CreateSound("Sound/Ambient/DoodadEffects/CS_Prologue2_Foley1.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_CS_Prologue2_Foley1, 7209)
    call SetSoundChannel(gg_snd_CS_Prologue2_Foley1, 20)
    call SetSoundVolume(gg_snd_CS_Prologue2_Foley1, 127)
    call SetSoundPitch(gg_snd_CS_Prologue2_Foley1, 1.0)
    set gg_snd_CS_BG_Camp=CreateSound("Sound/Ambient/DoodadEffects/CS_BG_Camp.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_CS_BG_Camp, 12912)
    call SetSoundChannel(gg_snd_CS_BG_Camp, 20)
    call SetSoundVolume(gg_snd_CS_BG_Camp, 127)
    call SetSoundPitch(gg_snd_CS_BG_Camp, 1.0)
    set gg_snd_CS_HU_2_Intro_Foley201=CreateSound("Sound/Ambient/DoodadEffects/CS_HU_2_Intro_Foley2.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_CS_HU_2_Intro_Foley201, 3474)
    call SetSoundChannel(gg_snd_CS_HU_2_Intro_Foley201, 20)
    call SetSoundVolume(gg_snd_CS_HU_2_Intro_Foley201, 127)
    call SetSoundPitch(gg_snd_CS_HU_2_Intro_Foley201, 1.0)
    set gg_snd_CS_BG_Camp01=CreateSound("Sound/Ambient/DoodadEffects/CS_BG_Camp.flac", true, true, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_CS_BG_Camp01, 12912)
    call SetSoundChannel(gg_snd_CS_BG_Camp01, 20)
    call SetSoundVolume(gg_snd_CS_BG_Camp01, 127)
    call SetSoundPitch(gg_snd_CS_BG_Camp01, 1.0)
    call SetSoundDistances(gg_snd_CS_BG_Camp01, 0.0, 10000.0)
    call SetSoundDistanceCutoff(gg_snd_CS_BG_Camp01, 3000.0)
    call SetSoundConeAngles(gg_snd_CS_BG_Camp01, 0.0, 0.0, 127)
    call SetSoundConeOrientation(gg_snd_CS_BG_Camp01, 0.0, 0.0, 0.0)
    set gg_snd_CS_H01b_Orc_gesture_v2=CreateSound("Sound/Ambient/DoodadEffects/CS_H01b_Orc_gesture_v2.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundDuration(gg_snd_CS_H01b_Orc_gesture_v2, 1671)
    call SetSoundChannel(gg_snd_CS_H01b_Orc_gesture_v2, 20)
    call SetSoundVolume(gg_snd_CS_H01b_Orc_gesture_v2, 127)
    call SetSoundPitch(gg_snd_CS_H01b_Orc_gesture_v2, 1.0)
    set gg_snd_OrcBuildingBirthWhat1=CreateSound("Sound/Buildings/Orc/OrcBuildingBirthWhat1.flac", false, true, true, 1, 1, "DoodadsEAX")
    call SetSoundParamsFromLabel(gg_snd_OrcBuildingBirthWhat1, "ConstructingBuildingOrc")
    call SetSoundDuration(gg_snd_OrcBuildingBirthWhat1, 2043)
    call SetSoundChannel(gg_snd_OrcBuildingBirthWhat1, 20)
    call SetSoundVolume(gg_snd_OrcBuildingBirthWhat1, 127)
    set gg_snd_MetalLightSliceMetal1=CreateSound("Sound/Units/Combat/MetalLightSliceMetal1.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_MetalLightSliceMetal1, "MetalLightSliceMetal")
    call SetSoundDuration(gg_snd_MetalLightSliceMetal1, 375)
    call SetSoundChannel(gg_snd_MetalLightSliceMetal1, 20)
    call SetSoundVolume(gg_snd_MetalLightSliceMetal1, 95)
    set gg_snd_AshenvaleBrazierLoop1=CreateSound("Sound/Ambient/DoodadEffects/AshenvaleBrazierLoop1.flac", true, true, true, 1, 1, "DoodadsEAX")
    call SetSoundParamsFromLabel(gg_snd_AshenvaleBrazierLoop1, "AshenvaleBrazierLoop")
    call SetSoundDuration(gg_snd_AshenvaleBrazierLoop1, 1520)
    call SetSoundVolume(gg_snd_AshenvaleBrazierLoop1, 50)
    set gg_snd_WC2Orc01Footman1=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Footman1.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_WC2Orc01Footman1, 4440)
    call SetSoundChannel(gg_snd_WC2Orc01Footman1, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Footman1, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Footman1, 1.0)
    set gg_snd_WC2Orc01Footman2=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Footman2.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_WC2Orc01Footman2, 6791)
    call SetSoundChannel(gg_snd_WC2Orc01Footman2, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Footman2, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Footman2, 1.0)
    set gg_snd_WC2Orc01Footman3=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Footman3.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_WC2Orc01Footman3, 3578)
    call SetSoundChannel(gg_snd_WC2Orc01Footman3, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Footman3, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Footman3, 1.0)
    set gg_snd_AbilityRend=CreateSound("Abilities/Spells/Orc/Rend/AbilityRend.mp3", false, false, false, 1, 1, "SpellsEAX")
    call SetSoundDuration(gg_snd_AbilityRend, 2063)
    call SetSoundChannel(gg_snd_AbilityRend, 0)
    call SetSoundVolume(gg_snd_AbilityRend, 127)
    call SetSoundPitch(gg_snd_AbilityRend, 1.0)
    set gg_snd_AbilityWolfPack=CreateSound("Abilities/Spells/Orc/WolfPack/AbilityWolfPack.mp3", false, false, false, 1, 1, "SpellsEAX")
    call SetSoundDuration(gg_snd_AbilityWolfPack, 2063)
    call SetSoundChannel(gg_snd_AbilityWolfPack, 0)
    call SetSoundVolume(gg_snd_AbilityWolfPack, 127)
    call SetSoundPitch(gg_snd_AbilityWolfPack, 1.0)
    set gg_snd_BoatWhat1=CreateSound("Units/Creeps/HumanTransportShip/BoatWhat1.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_BoatWhat1, "BoatWhat")
    call SetSoundDuration(gg_snd_BoatWhat1, 3018)
    call SetSoundChannel(gg_snd_BoatWhat1, 20)
    call SetSoundVolume(gg_snd_BoatWhat1, 115)
    call SetSoundDistances(gg_snd_BoatWhat1, 100000.0, 100000.0)
    call SetSoundDistanceCutoff(gg_snd_BoatWhat1, 3000.0)
    set gg_snd_BoatWhat2=CreateSound("Units/Creeps/HumanTransportShip/BoatWhat2.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_BoatWhat2, "BoatWhat")
    call SetSoundDuration(gg_snd_BoatWhat2, 3018)
    call SetSoundChannel(gg_snd_BoatWhat2, 20)
    call SetSoundVolume(gg_snd_BoatWhat2, 115)
    call SetSoundDistances(gg_snd_BoatWhat2, 100000.0, 100000.0)
    call SetSoundDistanceCutoff(gg_snd_BoatWhat2, 3000.0)
    set gg_snd_BoatWhat3=CreateSound("Units/Creeps/HumanTransportShip/BoatWhat3.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_BoatWhat3, "BoatWhat")
    call SetSoundDuration(gg_snd_BoatWhat3, 3018)
    call SetSoundChannel(gg_snd_BoatWhat3, 20)
    call SetSoundVolume(gg_snd_BoatWhat3, 115)
    call SetSoundDistances(gg_snd_BoatWhat3, 100000.0, 100000.0)
    call SetSoundDistanceCutoff(gg_snd_BoatWhat3, 3000.0)
    set gg_snd_BoatYes2=CreateSound("Units/Creeps/HumanTransportShip/BoatYes2.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_BoatYes2, "BoatYes")
    call SetSoundDuration(gg_snd_BoatYes2, 3064)
    call SetSoundChannel(gg_snd_BoatYes2, 20)
    call SetSoundVolume(gg_snd_BoatYes2, 100)
    call SetSoundDistances(gg_snd_BoatYes2, 100000.0, 100000.0)
    call SetSoundDistanceCutoff(gg_snd_BoatYes2, 3000.0)
    set gg_snd_BoatYes1=CreateSound("Units/Creeps/HumanTransportShip/BoatYes1.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_BoatYes1, "BoatYes")
    call SetSoundDuration(gg_snd_BoatYes1, 3064)
    call SetSoundChannel(gg_snd_BoatYes1, 20)
    call SetSoundVolume(gg_snd_BoatYes1, 100)
    call SetSoundDistances(gg_snd_BoatYes1, 100000.0, 100000.0)
    call SetSoundDistanceCutoff(gg_snd_BoatYes1, 3000.0)
    set gg_snd_WaterWaterFallLoop1=CreateSound("Sound/Ambient/DoodadEffects/WaterWaterFallLoop1.flac", true, true, true, 1, 1, "DoodadsEAX")
    call SetSoundParamsFromLabel(gg_snd_WaterWaterFallLoop1, "WaterfallLoop")
    call SetSoundDuration(gg_snd_WaterWaterFallLoop1, 16718)
    call SetSoundVolume(gg_snd_WaterWaterFallLoop1, 120)
    set gg_snd_SupportColumnDeath1=CreateSound("Doodads/Underground/Terrain/SupportBeam/SupportColumnDeath1.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_SupportColumnDeath1, "SupportColumnDeath")
    call SetSoundDuration(gg_snd_SupportColumnDeath1, 1543)
    call SetSoundVolume(gg_snd_SupportColumnDeath1, 127)
    set gg_snd_WC2Orc01Captain1=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Captain1.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_WC2Orc01Captain1, 3474)
    call SetSoundChannel(gg_snd_WC2Orc01Captain1, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Captain1, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Captain1, 1.0)
    set gg_snd_WC2Orc01Captain2=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Captain2.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_WC2Orc01Captain2, 7523)
    call SetSoundChannel(gg_snd_WC2Orc01Captain2, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Captain2, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Captain2, 1.0)
    set gg_snd_WC2Orc01Captain3=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Captain3.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_WC2Orc01Captain3, 2455)
    call SetSoundChannel(gg_snd_WC2Orc01Captain3, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Captain3, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Captain3, 1.0)
    set gg_snd_WC2Orc01Rend10=CreateSound("_HD.w3mod/Sound/Dialogue/WC2Orc01/WC2Orc01Rend10.flac", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_WC2Orc01Rend10, 5564)
    call SetSoundChannel(gg_snd_WC2Orc01Rend10, 19)
    call SetSoundVolume(gg_snd_WC2Orc01Rend10, 127)
    call SetSoundPitch(gg_snd_WC2Orc01Rend10, 1.0)
    set gg_snd_Loading01=CreateSound("Abilities/Spells/Other/LoadUnload/Loading.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_Loading01, "LoadUnload")
    call SetSoundDuration(gg_snd_Loading01, 740)
    call SetSoundChannel(gg_snd_Loading01, 20)
    call SetSoundVolume(gg_snd_Loading01, 127)
    set gg_snd_Loading02=CreateSound("Abilities/Spells/Other/LoadUnload/Loading.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_Loading02, "LoadUnload")
    call SetSoundDuration(gg_snd_Loading02, 740)
    call SetSoundChannel(gg_snd_Loading02, 21)
    call SetSoundVolume(gg_snd_Loading02, 127)
    set gg_snd_SecretFound=CreateSound("Sound/Interface/SecretFound.flac", false, false, false, 1, 1, "DoodadsEAX")
    call SetSoundParamsFromLabel(gg_snd_SecretFound, "SecretFound")
    call SetSoundDuration(gg_snd_SecretFound, 2525)
    call SetSoundVolume(gg_snd_SecretFound, 80)
    set gg_snd_TreeFall1=CreateSound("Sound/Destructibles/TreeFall1.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_TreeFall1, "TreeWallDeath")
    call SetSoundDuration(gg_snd_TreeFall1, 1443)
    call SetSoundVolume(gg_snd_TreeFall1, 127)
    set gg_snd_NagaBuildingCancel=CreateSound("Sound/Buildings/Naga/NagaBuildingCancel.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_NagaBuildingCancel, "NagaBuildingDeath")
    call SetSoundDuration(gg_snd_NagaBuildingCancel, 2072)
    call SetSoundChannel(gg_snd_NagaBuildingCancel, 20)
    call SetSoundVolume(gg_snd_NagaBuildingCancel, 127)
    set gg_snd_FootmanYesAttack2=CreateSound("Units/Human/Footman/FootmanYesAttack2.flac", false, true, true, 0, 0, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_FootmanYesAttack2, "FootmanYesAttack")
    call SetSoundDuration(gg_snd_FootmanYesAttack2, 1585)
    call SetSoundVolume(gg_snd_FootmanYesAttack2, 127)
    set gg_snd_FootmanYesAttack3=CreateSound("Units/Human/Footman/FootmanYesAttack3.flac", false, true, true, 0, 0, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_FootmanYesAttack3, "FootmanYesAttack")
    call SetSoundDuration(gg_snd_FootmanYesAttack3, 1652)
    call SetSoundVolume(gg_snd_FootmanYesAttack3, 127)
    set gg_snd_FootmanWarcry1=CreateSound("Units/Human/Footman/FootmanWarcry1.flac", false, true, true, 1, 1, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_FootmanWarcry1, "FootmanWarcry")
    call SetSoundDuration(gg_snd_FootmanWarcry1, 2197)
    call SetSoundVolume(gg_snd_FootmanWarcry1, 127)
    call SetSoundDistances(gg_snd_FootmanWarcry1, 100000.0, 100000.0)
    call SetSoundDistanceCutoff(gg_snd_FootmanWarcry1, 3000.0)
    set gg_snd_CaptainWarcry1=CreateSound("Units/Human/TheCaptain/CaptainWarcry1.flac", false, true, true, 1, 1, "HeroAcksEAX")
    call SetSoundParamsFromLabel(gg_snd_CaptainWarcry1, "CaptainWarcry")
    call SetSoundDuration(gg_snd_CaptainWarcry1, 1986)
    call SetSoundChannel(gg_snd_CaptainWarcry1, 19)
    call SetSoundVolume(gg_snd_CaptainWarcry1, 127)
    call SetSoundDistances(gg_snd_CaptainWarcry1, 100000.0, 100000.0)
    call SetSoundDistanceCutoff(gg_snd_CaptainWarcry1, 3000.0)
    set gg_snd_SecretFound01=CreateSound("Sound/Interface/SecretFound.flac", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_SecretFound01, "SecretFound")
    call SetSoundDuration(gg_snd_SecretFound01, 2525)
    call SetSoundVolume(gg_snd_SecretFound01, 80)
    set gg_snd_SecretFound02=CreateSound("Sound/Interface/SecretFound.flac", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_SecretFound02, "SecretFound")
    call SetSoundDuration(gg_snd_SecretFound02, 2525)
    call SetSoundVolume(gg_snd_SecretFound02, 80)
    set gg_snd_Ability_Devastate=CreateSound("_HD.w3mod/Abilities/Spells/Orc/RendSpells/Ability_Devastate.mp3", false, false, false, 1, 1, "SpellsEAX")
    call SetSoundDuration(gg_snd_Ability_Devastate, 2011)
    call SetSoundChannel(gg_snd_Ability_Devastate, 11)
    call SetSoundVolume(gg_snd_Ability_Devastate, 127)
    call SetSoundPitch(gg_snd_Ability_Devastate, 1.0)
    set gg_snd_Ability_Rend=CreateSound("_HD.w3mod/Abilities/Spells/Orc/RendSpells/Ability_Rend.mp3", false, false, false, 1, 1, "SpellsEAX")
    call SetSoundDuration(gg_snd_Ability_Rend, 2481)
    call SetSoundChannel(gg_snd_Ability_Rend, 11)
    call SetSoundVolume(gg_snd_Ability_Rend, 127)
    call SetSoundPitch(gg_snd_Ability_Rend, 1.0)
endfunction

//***************************************************************************
//*
//*  Destructable Objects
//*
//***************************************************************************

function CreateAllDestructables takes nothing returns nothing
    local destructable d
    local trigger t
    local real life
    set gg_dest_B005_1940=BlzCreateDestructableZWithSkin('B005', - 6090.4, 9870.0, 418.6, 65.000, 1.612, 0, 'B005')
    set d=BlzCreateDestructableZWithSkin('B00B', 3456.0, - 3904.0, 847.2, 180.000, 1.200, 1, 'B00B')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function Doodad002158_DropItems)
    set gg_dest_B00C_1903=BlzCreateDestructableZWithSkin('B00C', - 1082.4, 4384.1, 711.9, 245.736, 2.000, 0, 'B00C')
    set gg_dest_B00C_2125=BlzCreateDestructableZWithSkin('B00C', - 2830.2, - 318.3, 971.6, 316.000, 2.000, 0, 'B00C')
    set gg_dest_B00C_2126=BlzCreateDestructableZWithSkin('B00C', 1794.6, 5978.6, 435.7, 292.193, 1.750, 0, 'B00C')
    set gg_dest_B60L_1872=BlzCreateDestructableZWithSkin('B60L', - 1855.8, 538.0, 628.9, 118.000, 0.800, 0, 'B60L')
    set gg_dest_B60L_1510=BlzCreateDestructableZWithSkin('B60L', - 3463.0, 652.4, 362.5, 225.000, 0.983, 0, 'B60L')
    set gg_dest_B60L_1894=BlzCreateDestructableZWithSkin('B60L', - 1874.0, 138.9, 648.1, 293.000, 0.800, 0, 'B60L')
    set gg_dest_B60L_1901=BlzCreateDestructableZWithSkin('B60L', - 1806.1, - 32.9, 680.9, 189.387, 0.800, 0, 'B60L')
    set gg_dest_B60L_1777=BlzCreateDestructableZWithSkin('B60L', - 3971.7, - 344.6, 374.8, 60.000, 0.983, 0, 'B60L')
    set gg_dest_B60L_1774=BlzCreateDestructableZWithSkin('B60L', - 4299.0, 153.9, 387.6, 250.000, 0.983, 0, 'B60L')
    set gg_dest_B60W_0547=BlzCreateDestructableZWithSkin('B60W', 320.0, - 1728.0, 794.0, 266.120, 0.800, 2, 'B60W')
    set gg_dest_B60W_1937=BlzCreateDestructableZWithSkin('B60W', 64.0, - 1664.0, 825.3, 169.000, 1.000, 0, 'B60W')
    set gg_dest_B60W_0546=BlzCreateDestructableZWithSkin('B60W', 192.0, - 1792.0, 784.8, 269.045, 0.924, 1, 'B60W')
    set gg_dest_B60W_0551=BlzCreateDestructableZWithSkin('B60W', 448.0, - 1792.0, 784.8, 304.650, 1.000, 3, 'B60W')
    set gg_dest_B60W_0549=BlzCreateDestructableZWithSkin('B60W', 320.0, - 1856.0, 784.8, 86.998, 1.000, 1, 'B60W')
    set gg_dest_B617_1717=BlzCreateDestructableZWithSkin('B617', 3136.8, - 3365.3, 1084.2, 90.000, 1.100, 0, 'B617')
    set gg_dest_B619_1067=BlzCreateDestructableZWithSkin('B619', 318.9, - 1600.7, 813.0, 90.000, 0.978, 0, 'B619')
    set gg_dest_B619_1130=BlzCreateDestructableZWithSkin('B619', 65.0, - 1793.1, 784.7, 322.000, 1.136, 0, 'B619')
    set gg_dest_B619_1112=BlzCreateDestructableZWithSkin('B619', 191.4, - 1664.4, 797.5, 322.000, 1.136, 0, 'B619')
    set gg_dest_B619_1082=BlzCreateDestructableZWithSkin('B619', 448.7, - 1662.5, 794.1, 308.720, 0.976, 0, 'B619')
    set gg_dest_B619_1935=BlzCreateDestructableZWithSkin('B619', 1.0, - 1921.1, 771.7, 182.000, 1.136, 0, 'B619')
    set gg_dest_B61A_0539=BlzCreateDestructableZWithSkin('B61A', 320.0, - 1600.0, 813.3, 90.000, 0.978, 0, 'B61A')
    set gg_dest_B61A_0541=BlzCreateDestructableZWithSkin('B61A', 64.0, - 1792.0, 784.8, 144.000, 1.138, 0, 'B61A')
    set gg_dest_B61A_0540=BlzCreateDestructableZWithSkin('B61A', 448.0, - 1664.0, 793.4, 308.720, 0.978, 0, 'B61A')
    set gg_dest_B61A_1936=BlzCreateDestructableZWithSkin('B61A', 0.0, - 1920.0, 771.8, 359.000, 1.138, 0, 'B61A')
    set gg_dest_B61A_0022=BlzCreateDestructableZWithSkin('B61A', 192.0, - 1664.0, 797.5, 322.000, 1.136, 0, 'B61A')
    set gg_dest_B61C_1509=BlzCreateDestructableZWithSkin('B61C', - 3296.0, 10400.0, 710.0, 220.325, 1.111, 0, 'B61C')
    set gg_dest_LTba_1957=BlzCreateDestructableZWithSkin('LTba', - 2176.0, 9728.0, 658.0, 323.150, 1.200, 1, 'LTba')
    set gg_dest_LTba_1958=BlzCreateDestructableZWithSkin('LTba', - 2880.0, 10816.0, 605.6, 323.150, 1.200, 1, 'LTba')
    set gg_dest_LTba_1956=BlzCreateDestructableZWithSkin('LTba', - 2624.0, 10112.0, 612.1, 326.359, 1.200, 0, 'LTba')
    set gg_dest_LTba_1954=BlzCreateDestructableZWithSkin('LTba', - 4032.0, 9600.0, 670.6, 142.719, 1.200, 0, 'LTba')
    set gg_dest_LTba_1955=BlzCreateDestructableZWithSkin('LTba', - 4352.0, 9920.0, 686.5, 135.994, 1.200, 1, 'LTba')
    set gg_dest_LTba_1959=BlzCreateDestructableZWithSkin('LTba', - 2304.0, 9664.0, 680.6, 64.678, 1.200, 0, 'LTba')
    set d=BlzCreateDestructableZWithSkin('LTbr', - 4896.0, 8032.0, 434.0, 9.000, 1.100, 0, 'LTbr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000000_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 64.0, - 2688.0, 542.5, 83.000, 1.200, 0, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function Doodad000892_DropItems)
    set gg_dest_LTcr_1048=BlzCreateDestructableZWithSkin('LTcr', - 5760.0, 10048.0, 492.6, 310.140, 1.006, 0, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, gg_dest_LTcr_1048)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000000_DropItems)
    set gg_dest_LTcr_1960=BlzCreateDestructableZWithSkin('LTcr', - 4352.0, 10624.0, 702.5, 186.000, 0.968, 0, 'LTcr')
    set gg_dest_LTcr_1961=BlzCreateDestructableZWithSkin('LTcr', - 4224.0, 10560.0, 696.8, 108.000, 0.881, 1, 'LTcr')
    set gg_dest_LTcr_1962=BlzCreateDestructableZWithSkin('LTcr', - 4352.0, 10496.0, 714.2, 8.000, 0.984, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, gg_dest_LTcr_1962)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function ItemTable000000_DropItems)
    set d=BlzCreateDestructableZWithSkin('LTcr', 192.0, - 2688.0, 539.5, 309.000, 1.200, 1, 'LTcr')
    set t=CreateTrigger()
    call TriggerRegisterDeathEvent(t, d)
    call TriggerAddAction(t, function SaveDyingWidget)
    call TriggerAddAction(t, function Doodad002161_DropItems)
    set gg_dest_LTt4_0967=BlzCreateDestructableZWithSkin('LTt4', - 4352.0, 5504.0, 479.8, 0.000, 1.000, 0, 'LTt4')
endfunction

//***************************************************************************
//*
//*  Items
//*
//***************************************************************************

function CreateAllItems takes nothing returns nothing
    local integer itemID

    call BlzCreateItemWithSkin('I001', 665.5, - 5205.1, 'I001')
    call BlzCreateItemWithSkin('I002', 1032.6, - 5199.0, 'I002')
    call BlzCreateItemWithSkin('I602', - 2957.4, 5075.2, 'I602')
    call BlzCreateItemWithSkin('gold', - 2961.4, 6890.2, 'gold')
    call BlzCreateItemWithSkin('gold', - 3861.7, 5674.4, 'gold')
endfunction

//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateBuildingsForPlayer0 takes nothing returns nothing
    local player p= Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_o614_0010=BlzCreateUnitWithSkin(p, 'o614', 1792.0, - 640.0, 270.000, 'o614')
endfunction

//===========================================================================
function CreateUnitsForPlayer0 takes nothing returns nothing
    local player p= Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_o605_0006=BlzCreateUnitWithSkin(p, 'o605', 1694.9, - 1113.6, 346.263, 'o605')
    call SetUnitColor(gg_unit_o605_0006, ConvertPlayerColor(0))
    call UnitAddItemToSlotById(gg_unit_o605_0006, 'phea', 0)
    call UnitAddItemToSlotById(gg_unit_o605_0006, 'pman', 1)
    set gg_unit_o001_0007=BlzCreateUnitWithSkin(p, 'o001', 1896.0, - 1229.6, 134.450, 'o001')
    call SetUnitColor(gg_unit_o001_0007, ConvertPlayerColor(20))
    set gg_unit_o001_0008=BlzCreateUnitWithSkin(p, 'o001', 1667.4, - 978.0, 347.916, 'o001')
    call SetUnitColor(gg_unit_o001_0008, ConvertPlayerColor(20))
    set gg_unit_o60D_0009=BlzCreateUnitWithSkin(p, 'o60D', 2250.0, - 666.3, 281.048, 'o60D')
    set gg_unit_O617_0012=BlzCreateUnitWithSkin(p, 'O617', 1977.8, - 936.8, 221.140, 'O617')
    call SetUnitColor(gg_unit_O617_0012, ConvertPlayerColor(20))
    call SelectHeroSkill(gg_unit_O617_0012, 'A00Q')
    call IssueImmediateOrder(gg_unit_O617_0012, "")
    call UnitAddItemToSlotById(gg_unit_O617_0012, 'I000', 0)
endfunction

//===========================================================================
function CreateUnitsForPlayer1 takes nothing returns nothing
    local player p= Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_hdes_0016=BlzCreateUnitWithSkin(p, 'hdes', - 6926.0, 9104.9, 151.941, 'hdes')
    set gg_unit_nbsp_0048=BlzCreateUnitWithSkin(p, 'nbsp', - 6829.8, 10133.6, 247.771, 'nbsp')
    set gg_unit_hcth_0058=BlzCreateUnitWithSkin(p, 'hcth', - 5858.7, 10036.3, 252.049, 'hcth')
    set gg_unit_h60K_0060=BlzCreateUnitWithSkin(p, 'h60K', - 6099.7, 9844.6, 4.942, 'h60K')
    set gg_unit_h60K_0093=BlzCreateUnitWithSkin(p, 'h60K', - 4662.6, 5837.0, 345.272, 'h60K')
    set gg_unit_h60K_0094=BlzCreateUnitWithSkin(p, 'h60K', - 4571.2, 5923.5, 299.044, 'h60K')
    set gg_unit_h60B_0095=BlzCreateUnitWithSkin(p, 'h60B', - 4666.7, 9115.7, 240.883, 'h60B')
    set gg_unit_h60B_0096=BlzCreateUnitWithSkin(p, 'h60B', - 2828.6, 10377.1, 10.034, 'h60B')
    set gg_unit_h60B_0097=BlzCreateUnitWithSkin(p, 'h60B', - 2083.0, 9554.4, 19.877, 'h60B')
    set gg_unit_h60K_0098=BlzCreateUnitWithSkin(p, 'h60K', - 6044.0, 9969.3, 213.746, 'h60K')
    set gg_unit_h60K_0099=BlzCreateUnitWithSkin(p, 'h60K', - 6113.2, 9925.2, 306.177, 'h60K')
endfunction

//===========================================================================
function CreateUnitsForPlayer4 takes nothing returns nothing
    local player p= Player(4)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_o60Q_0014=BlzCreateUnitWithSkin(p, 'o60Q', 1235.1, - 3113.8, 310.364, 'o60Q')
endfunction

//===========================================================================
function CreateUnitsForPlayer8 takes nothing returns nothing
    local player p= Player(8)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_nwlt_0031=BlzCreateUnitWithSkin(p, 'nwlt', 696.6, 2806.5, 239.761, 'nwlt')
    set gg_unit_nwlt_0032=BlzCreateUnitWithSkin(p, 'nwlt', 821.5, 2822.2, 248.282, 'nwlt')
    set gg_unit_nwlt_0033=BlzCreateUnitWithSkin(p, 'nwlt', 908.1, 2488.9, 242.565, 'nwlt')
endfunction

//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ngnv_0015=BlzCreateUnitWithSkin(p, 'ngnv', - 2747.0, - 2251.3, 158.733, 'ngnv')
    set u=BlzCreateUnitWithSkin(p, 'ngnw', - 2848.1, - 1945.9, 163.640, 'ngnw')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000000_DropItems)
    set gg_unit_ngnb_0051=BlzCreateUnitWithSkin(p, 'ngnb', - 3519.1, - 1468.6, 137.114, 'ngnb')
    set u=BlzCreateUnitWithSkin(p, 'ngno', - 3771.7, - 1689.0, 115.362, 'ngno')
    set u=BlzCreateUnitWithSkin(p, 'ngns', - 3178.8, - 1906.3, 127.540, 'ngns')
    set u=BlzCreateUnitWithSkin(p, 'ngna', - 3472.2, - 1878.8, 144.815, 'ngna')
    set gg_unit_nplg_0055=BlzCreateUnitWithSkin(p, 'nplg', 2269.5, 6580.4, 286.433, 'nplg')
    set gg_unit_nplb_0056=BlzCreateUnitWithSkin(p, 'nplb', - 94.4, 7787.3, 289.818, 'nplb')
    set u=BlzCreateUnitWithSkin(p, 'nwns', - 1389.4, 7755.7, 302.640, 'nwns')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function Unit000071_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'nwnr', - 2748.4, 1292.4, 100.130, 'nwnr')
    set u=BlzCreateUnitWithSkin(p, 'nplg', - 2758.0, 458.5, 164.482, 'nplg')
    set gg_unit_nwen_0077=BlzCreateUnitWithSkin(p, 'nwen', - 2523.9, 1316.0, 123.475, 'nwen')
    set u=BlzCreateUnitWithSkin(p, 'nwen', - 2934.8, 1358.1, 69.246, 'nwen')
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_n60O_0011=BlzCreateUnitWithSkin(p, 'n60O', 2368.0, 64.0, 270.000, 'n60O')
    call SetResourceAmount(gg_unit_n60O_0011, 40000)
    set gg_unit_n60O_0013=BlzCreateUnitWithSkin(p, 'n60O', - 3520.0, 10944.0, 270.000, 'n60O')
    call SetResourceAmount(gg_unit_n60O_0013, 40000)
    set u=BlzCreateUnitWithSkin(p, 'ncop', 2944.0, - 3136.0, 270.000, 'ncop')
    set u=BlzCreateUnitWithSkin(p, 'ngnh', - 2400.0, - 2016.0, 192.546, 'ngnh')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000000_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'ngt2', - 2464.0, - 2464.0, 108.073, 'ngt2')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000000_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'nten', - 3040.0, - 1568.0, 292.473, 'nten')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000000_DropItems)
    set u=BlzCreateUnitWithSkin(p, 'ntn2', - 3040.0, - 2400.0, 134.456, 'ntn2')
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function ItemTable000000_DropItems)
endfunction

//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_npig_0002=BlzCreateUnitWithSkin(p, 'npig', 2558.3, - 815.0, 44.199, 'npig')
    set gg_unit_npig_0003=BlzCreateUnitWithSkin(p, 'npig', 2625.3, - 912.5, 44.199, 'npig')
    set gg_unit_o605_0004=BlzCreateUnitWithSkin(p, 'o605', - 3326.6, 6660.4, 153.906, 'o605')
    call SetUnitColor(gg_unit_o605_0004, ConvertPlayerColor(0))
    set u=BlzCreateUnitWithSkin(p, 'nalb', - 2945.1, - 5089.2, 278.182, 'nalb')
    set u=BlzCreateUnitWithSkin(p, 'npig', 2462.6, - 701.1, 241.278, 'npig')
    set gg_unit_npig_0019=BlzCreateUnitWithSkin(p, 'npig', 2633.6, - 656.1, 263.720, 'npig')
    set gg_unit_npig_0020=BlzCreateUnitWithSkin(p, 'npig', 2532.1, - 736.5, 234.137, 'npig')
    set u=BlzCreateUnitWithSkin(p, 'npig', 2736.3, - 841.8, 280.665, 'npig')
    set gg_unit_npig_0022=BlzCreateUnitWithSkin(p, 'npig', 2712.2, - 945.8, 200.111, 'npig')
    set gg_unit_npig_0023=BlzCreateUnitWithSkin(p, 'npig', 2733.4, - 1071.0, 133.279, 'npig')
    set gg_unit_npig_0024=BlzCreateUnitWithSkin(p, 'npig', 2789.5, - 996.9, 234.466, 'npig')
    set gg_unit_npig_0025=BlzCreateUnitWithSkin(p, 'npig', 2791.7, - 861.2, 229.995, 'npig')
    set u=BlzCreateUnitWithSkin(p, 'npig', 2614.1, - 775.2, 325.271, 'npig')
    set u=BlzCreateUnitWithSkin(p, 'npig', 2382.3, - 740.4, 300.101, 'npig')
    set gg_unit_nwwf_0028=BlzCreateUnitWithSkin(p, 'nwwf', - 215.2, 629.5, 210.800, 'nwwf')
    set gg_unit_nwwf_0029=BlzCreateUnitWithSkin(p, 'nwwf', - 1231.7, 245.1, 12.500, 'nwwf')
    set gg_unit_nwwf_0030=BlzCreateUnitWithSkin(p, 'nwwf', - 791.7, 911.3, 283.092, 'nwwf')
    set gg_unit_nspp_0034=BlzCreateUnitWithSkin(p, 'nspp', - 663.9, 366.4, 288.140, 'nspp')
    set gg_unit_o60P_0036=BlzCreateUnitWithSkin(p, 'o60P', - 5441.0, 10803.7, 230.730, 'o60P')
    set u=BlzCreateUnitWithSkin(p, 'nalb', 4862.0, - 5505.1, 84.454, 'nalb')
    set u=BlzCreateUnitWithSkin(p, 'nalb', 4815.6, 4809.1, 277.303, 'nalb')
    set u=BlzCreateUnitWithSkin(p, 'necr', 646.8, 1369.0, 225.677, 'necr')
    set u=BlzCreateUnitWithSkin(p, 'necr', 738.4, 808.3, 276.172, 'necr')
    set u=BlzCreateUnitWithSkin(p, 'nrac', - 1102.2, 1868.0, 49.989, 'nrac')
    set u=BlzCreateUnitWithSkin(p, 'necr', - 143.9, - 1241.6, 138.729, 'necr')
    set u=BlzCreateUnitWithSkin(p, 'nalb', 3585.1, 7051.0, 166.492, 'nalb')
    set u=BlzCreateUnitWithSkin(p, 'nalb', - 1013.9, 8419.3, 243.399, 'nalb')
    set u=BlzCreateUnitWithSkin(p, 'nalb', - 4874.2, 7584.5, 142.222, 'nalb')
    set u=BlzCreateUnitWithSkin(p, 'nalb', - 4906.3, 3578.2, 270.481, 'nalb')
    set gg_unit_npig_0049=BlzCreateUnitWithSkin(p, 'npig', 2648.1, - 1006.3, 92.630, 'npig')
    set gg_unit_npig_0050=BlzCreateUnitWithSkin(p, 'npig', 2676.1, - 805.3, 44.199, 'npig')
    set u=BlzCreateUnitWithSkin(p, 'nsea', 3641.9, 5855.5, 252.001, 'nsea')
    set u=BlzCreateUnitWithSkin(p, 'nsea', 3791.5, 5516.5, 341.828, 'nsea')
    set u=BlzCreateUnitWithSkin(p, 'nsea', 3554.5, 5271.6, 192.157, 'nsea')
    set u=BlzCreateUnitWithSkin(p, 'nder', - 3252.4, 5723.1, 182.631, 'nder')
    set u=BlzCreateUnitWithSkin(p, 'nsea', - 5484.3, 7408.5, 300.481, 'nsea')
    set u=BlzCreateUnitWithSkin(p, 'nsea', - 5528.6, 6785.5, 326.304, 'nsea')
    set u=BlzCreateUnitWithSkin(p, 'nsea', - 5593.7, 6198.2, 194.739, 'nsea')
    set u=BlzCreateUnitWithSkin(p, 'nsea', - 5147.9, 5671.2, 256.813, 'nsea')
    set u=BlzCreateUnitWithSkin(p, 'nsea', - 5749.1, 8407.7, 231.654, 'nsea')
    set u=BlzCreateUnitWithSkin(p, 'nsea', - 3419.4, 3124.1, 211.296, 'nsea')
    set u=BlzCreateUnitWithSkin(p, 'nsea', - 4314.8, 4421.4, 295.893, 'nsea')
    set u=BlzCreateUnitWithSkin(p, 'nsea', - 467.6, 10178.3, 341.828, 'nsea')
    set u=BlzCreateUnitWithSkin(p, 'nsea', 363.3, 9288.4, 8.620, 'nsea')
    set u=BlzCreateUnitWithSkin(p, 'nsea', - 1809.9, 11006.1, 53.455, 'nsea')
    set gg_unit_o60Q_0100=BlzCreateUnitWithSkin(p, 'o60Q', - 5560.9, - 458.6, 298.507, 'o60Q')
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer0()
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer0()
    call CreateUnitsForPlayer1()
    call CreateUnitsForPlayer4()
    call CreateUnitsForPlayer8()
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings()
    call CreateBuildingsForPlayer0() // INLINED!!
    call CreateNeutralHostile()
    call CreateNeutralPassive()
    call CreatePlayerUnits()
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_Supply_Crates=Rect(- 96.0, - 2304.0, 512.0, - 1504.0)
    set gg_rct_Pig_Farm=Rect(2336.0, - 1088.0, 2880.0, - 512.0)
    set gg_rct_Boat02=Rect(1152.0, - 3136.0, 1248.0, - 3040.0)
    set gg_rct_Boat00=Rect(2368.0, - 5600.0, 2496.0, - 5472.0)
    set gg_rct_UrukStart=Rect(992.0, - 3040.0, 1088.0, - 2944.0)
    set gg_rct_Uruk01=Rect(640.0, - 2048.0, 736.0, - 1952.0)
    set gg_rct_Uruk02=Rect(1344.0, - 1440.0, 1440.0, - 1344.0)
    set gg_rct_Grunt01=Rect(1280.0, - 1280.0, 1376.0, - 1184.0)
    set gg_rct_Grunt02=Rect(1568.0, - 1216.0, 1664.0, - 1120.0)
    set gg_rct_Grunt03=Rect(1536.0, - 1472.0, 1632.0, - 1376.0)
    set gg_rct_Footman01=Rect(- 2400.0, 10080.0, - 2304.0, 10176.0)
    set gg_rct_Footman02=Rect(- 3648.0, 9920.0, - 3552.0, 10016.0)
    set gg_rct_Footman03=Rect(- 3488.0, 10112.0, - 3392.0, 10208.0)
    set gg_rct_Footman04=Rect(- 3776.0, 10080.0, - 3680.0, 10176.0)
    set gg_rct_Footman05=Rect(96.0, 9152.0, 192.0, 9248.0)
    set gg_rct_Footman06=Rect(- 1120.0, 9760.0, - 1024.0, 9856.0)
    set gg_rct_HumanShip=Rect(- 6944.0, 9984.0, - 6656.0, 10336.0)
    set gg_rct_Pitfire=Rect(- 3680.0, 10016.0, - 3488.0, 10208.0)
    set gg_rct_PigEscapes=Rect(- 544.0, - 128.0, - 416.0, 32.0)
    set gg_rct_WolfLair=Rect(- 1184.0, 4320.0, - 992.0, 4512.0)
    set gg_rct_OrcCamp=Rect(1088.0, - 1376.0, 2528.0, 128.0)
    set gg_rct_WolfSpawn01=Rect(- 1152.0, 4224.0, - 1024.0, 4352.0)
    set gg_rct_Rect_024=Rect(1888.0, - 1024.0, 2048.0, - 832.0)
    set gg_rct_Grunt04=Rect(1632.0, - 192.0, 1728.0, - 96.0)
    set gg_rct_Grunt05=Rect(1216.0, - 704.0, 1312.0, - 608.0)
    set gg_rct_Ocean01=Rect(- 8448.0, - 7040.0, 6656.0, - 3360.0)
    call SetSoundPosition(gg_snd_WaterWavesLoop1, - 896.0, - 5200.0, 256.0)
    call RegisterStackedSound(gg_snd_WaterWavesLoop1, true, 15104.0, 3680.0)
    set gg_rct_Ocean02=Rect(- 8448.0, 2016.0, - 4384.0, 4736.0)
    call SetSoundPosition(gg_snd_WaterWavesLoop1, - 6416.0, 3376.0, 256.0)
    call RegisterStackedSound(gg_snd_WaterWavesLoop1, true, 4064.0, 2720.0)
    set gg_rct_Ocean03=Rect(2720.0, 4864.0, 6656.0, 8384.0)
    call SetSoundPosition(gg_snd_WaterLakeLoop1, 4688.0, 6624.0, 267.7)
    call RegisterStackedSound(gg_snd_WaterLakeLoop1, true, 3936.0, 3520.0)
    set gg_rct_Ocean04=Rect(3616.0, - 4032.0, 6656.0, 4928.0)
    call SetSoundPosition(gg_snd_WaterWavesLoop1, 5136.0, 448.0, 256.0)
    call RegisterStackedSound(gg_snd_WaterWavesLoop1, true, 3040.0, 8960.0)
    set gg_rct_Ocean05=Rect(2016.0, 2944.0, 3680.0, 4864.0)
    call SetSoundPosition(gg_snd_WaterLakeLoop1, 2848.0, 3904.0, 256.0)
    call RegisterStackedSound(gg_snd_WaterLakeLoop1, true, 1664.0, 1920.0)
    set gg_rct_BoatFinal=Rect(64.0, - 3328.0, 320.0, - 3104.0)
    set gg_rct_PeonFinal02=Rect(256.0, - 3136.0, 384.0, - 3040.0)
    set gg_rct_PeonFinal01=Rect(64.0, - 1952.0, 192.0, - 1824.0)
    set gg_rct_PeonFinal00=Rect(384.0, - 1984.0, 512.0, - 1856.0)
    set gg_rct_BoarStart=Rect(- 1024.0, 1792.0, - 896.0, 1920.0)
    set gg_rct_Wolf01Start=Rect(- 1728.0, 192.0, - 1600.0, 320.0)
    set gg_rct_Wolf02Start=Rect(128.0, 896.0, 256.0, 1024.0)
    set gg_rct_Rect_039=Rect(2880.0, - 3200.0, 3008.0, - 3072.0)
    set gg_rct_BoneFire=Rect(3008.0, - 3456.0, 3264.0, - 3200.0)
    set gg_rct_UrukFinal=Rect(512.0, - 2176.0, 608.0, - 2080.0)
    set gg_rct_HumanInvasionArea=Rect(- 6336.0, 5696.0, 1632.0, 12480.0)
    set gg_rct_BannerLordaeron=Rect(- 3328.0, 10368.0, - 3264.0, 10432.0)
    set gg_rct_WolfCinHide=Rect(- 1792.0, - 544.0, 384.0, 2528.0)
    set gg_rct_PeonStartGame=Rect(2112.0, - 448.0, 2208.0, - 352.0)
    set gg_rct_PeonFinal03=Rect(128.0, - 3104.0, 256.0, - 3008.0)
    set gg_rct_TentA=Rect(- 3616.0, 10272.0, - 3360.0, 10528.0)
    set gg_rct_TentB=Rect(- 4000.0, 10080.0, - 3744.0, 10336.0)
    set gg_rct_OperationalGrunt=Rect(- 5376.0, 10880.0, - 5280.0, 10976.0)
    set gg_rct_UtokFinal=Rect(- 64.0, - 2144.0, 64.0, - 2016.0)
    set gg_rct_PeonsWorking=Rect(96.0, - 3136.0, 512.0, - 1920.0)
    set gg_rct_AdditionalFootman01=Rect(- 4928.0, 9024.0, - 4832.0, 9120.0)
    set gg_rct_AdditionalFootman01Patrol=Rect(- 5728.0, 8608.0, - 5632.0, 8704.0)
    set gg_rct_AdditionalFootman02=Rect(- 5024.0, 9472.0, - 4928.0, 9568.0)
    set gg_rct_PatrolREmoveCinematicAnim=Rect(- 4096.0, 9664.0, - 2816.0, 10624.0)
    set gg_rct_Captain_Speak=Rect(- 3488.0, 9952.0, - 3392.0, 10048.0)
    set gg_rct_Ocean06=Rect(- 8448.0, - 3392.0, - 4704.0, 2016.0)
    call SetSoundPosition(gg_snd_WaterWavesLoop1, - 6576.0, - 688.0, 256.0)
    call RegisterStackedSound(gg_snd_WaterWavesLoop1, true, 3744.0, 5408.0)
    set gg_rct_Wterfall01=Rect(1024.0, 4448.0, 1696.0, 5120.0)
    set we=AddWeatherEffect(gg_rct_Wterfall01, 'FDwl')
    call EnableWeatherEffect(we, true)
    call SetSoundPosition(gg_snd_WaterWaterFallLoop1, 1360.0, 4784.0, 256.0)
    call RegisterStackedSound(gg_snd_WaterWaterFallLoop1, true, 672.0, 672.0)
    set gg_rct_Wterfall02=Rect(- 2624.0, 6528.0, - 1344.0, 7648.0)
    set gg_rct_Wterfall03=Rect(- 4288.0, 5216.0, - 3744.0, 5728.0)
    set we=AddWeatherEffect(gg_rct_Wterfall03, 'FDwl')
    call EnableWeatherEffect(we, true)
    call SetSoundPosition(gg_snd_WaterWaterFallLoop1, - 4016.0, 5472.0, 356.9)
    call RegisterStackedSound(gg_snd_WaterWaterFallLoop1, true, 544.0, 512.0)
    set gg_rct_Wterfall04=Rect(- 1984.0, 5024.0, - 1440.0, 5536.0)
    call SetSoundPosition(gg_snd_WaterWaterFallLoop1, - 1712.0, 5280.0, 760.0)
    call RegisterStackedSound(gg_snd_WaterWaterFallLoop1, true, 544.0, 512.0)
    set gg_rct_TreesBlockedWay=Rect(- 992.0, 7904.0, - 128.0, 8224.0)
    set gg_rct_Bear01Walking=Rect(1664.0, 6368.0, 2368.0, 6816.0)
    set gg_rct_Bear02Walking=Rect(- 352.0, 7232.0, 672.0, 7904.0)
    set gg_rct_Wterfall002Fog=Rect(- 2688.0, 6176.0, - 1536.0, 6560.0)
    set we=AddWeatherEffect(gg_rct_Wterfall002Fog, 'FDwl')
    call EnableWeatherEffect(we, true)
    set gg_rct_Wterfall002FogX=Rect(- 1760.0, 7104.0, - 1536.0, 7392.0)
    set we=AddWeatherEffect(gg_rct_Wterfall002FogX, 'FDwl')
    call EnableWeatherEffect(we, true)
    set gg_rct_WolfLair02=Rect(1728.0, 5824.0, 1920.0, 6016.0)
    set gg_rct_WolfLair03=Rect(- 2912.0, - 416.0, - 2720.0, - 224.0)
    set gg_rct_TreeBridgeActivated=Rect(- 5792.0, 4256.0, - 3520.0, 6912.0)
    set gg_rct_FootmanCutTheTree01=Rect(- 4704.0, 5792.0, - 4608.0, 5888.0)
    set gg_rct_FootmanCutTheTree02=Rect(- 4608.0, 5888.0, - 4512.0, 5984.0)
    set gg_rct_Ocean07=Rect(- 8416.0, 12448.0, 6624.0, 14976.0)
    call SetSoundPosition(gg_snd_WaterWavesLoop1, - 896.0, 13712.0, 256.0)
    call RegisterStackedSound(gg_snd_WaterWavesLoop1, true, 15040.0, 2528.0)
    set gg_rct_Ocean08=Rect(- 8448.0, 4704.0, - 5696.0, 12480.0)
    call SetSoundPosition(gg_snd_WaterWavesLoop1, - 7072.0, 8592.0, 256.0)
    call RegisterStackedSound(gg_snd_WaterWavesLoop1, true, 2752.0, 7776.0)
    set gg_rct_Ocean09=Rect(384.0, 8320.0, 6624.0, 12448.0)
    call SetSoundPosition(gg_snd_WaterWavesLoop1, 3504.0, 10384.0, 256.0)
    call RegisterStackedSound(gg_snd_WaterWavesLoop1, true, 6240.0, 4128.0)
    set gg_rct_River01=Rect(- 1312.0, 5312.0, 640.0, 6592.0)
    call SetSoundPosition(gg_snd_WaterLakeLoop1, - 336.0, 5952.0, 583.5)
    call RegisterStackedSound(gg_snd_WaterLakeLoop1, true, 1952.0, 1280.0)
    set gg_rct_River02=Rect(- 3648.0, 5792.0, - 2464.0, 6496.0)
    call SetSoundPosition(gg_snd_WaterLakeLoop1, - 3056.0, 6144.0, 583.5)
    call RegisterStackedSound(gg_snd_WaterLakeLoop1, true, 1184.0, 704.0)
    set gg_rct_Ocean10=Rect(- 3680.0, 11872.0, 384.0, 12448.0)
    call SetSoundPosition(gg_snd_WaterWavesLoop1, - 1648.0, 12160.0, 192.0)
    call RegisterStackedSound(gg_snd_WaterWavesLoop1, true, 4064.0, 576.0)
    set gg_rct_Ocean11=Rect(- 768.0, 9952.0, 416.0, 11872.0)
    call SetSoundPosition(gg_snd_WaterWavesLoop1, - 176.0, 10912.0, 324.0)
    call RegisterStackedSound(gg_snd_WaterWavesLoop1, true, 1184.0, 1920.0)
    set gg_rct_Ocean12=Rect(- 2912.0, 11424.0, - 736.0, 11872.0)
    call SetSoundPosition(gg_snd_WaterWavesLoop1, - 1824.0, 11648.0, 358.2)
    call RegisterStackedSound(gg_snd_WaterWavesLoop1, true, 2176.0, 448.0)
    set gg_rct_Ocean13=Rect(- 1600.0, 10560.0, - 768.0, 11424.0)
    call SetSoundPosition(gg_snd_WaterWavesLoop1, - 1184.0, 10992.0, 395.2)
    call RegisterStackedSound(gg_snd_WaterWavesLoop1, true, 832.0, 864.0)
    set gg_rct_WaterFall01VisibilityModCenter=Rect(- 2080.0, 6880.0, - 1856.0, 7104.0)
    set gg_rct_WaterFall02VisibilityModCenter=Rect(- 3456.0, 5152.0, - 3232.0, 5376.0)
    set gg_rct_WaterFall03VisibilityModCenter=Rect(928.0, 4832.0, 1152.0, 5056.0)
    set gg_rct_CoolCliffs03VisibilityModCenter=Rect(2688.0, - 3296.0, 2912.0, - 3072.0)
    set gg_rct_CoolCliffs01VisibilityTriggered=Rect(1536.0, 5312.0, 3072.0, 6784.0)
    set gg_rct_CoolCliffs02VisibilityTriggered=Rect(- 1024.0, - 3552.0, 544.0, - 2144.0)
    set gg_rct_WaterFall02VisibilityTriggered=Rect(- 4448.0, 4096.0, - 2656.0, 5792.0)
    set gg_rct_WaterFall03VisibilityTriggered=Rect(1280.0, 3680.0, 2720.0, 5056.0)
    set gg_rct_WaterFall01VisibilityTriggered=Rect(- 3488.0, 6048.0, - 512.0, 8160.0)
    set gg_rct_WaterFall04VisibilityTriggered=Rect(- 2656.0, 4896.0, - 1344.0, 5792.0)
    set gg_rct_Wolf03Start=Rect(- 1056.0, 2368.0, - 928.0, 2496.0)
    set gg_rct_BoarGo=Rect(- 832.0, 704.0, - 704.0, 832.0)
    set gg_rct_PatrolREmoveCinematicAnim2=Rect(- 5984.0, 8288.0, - 4480.0, 9376.0)
    set gg_rct_FakeBOatDirection=Rect(- 3968.0, - 3936.0, - 3776.0, - 3744.0)
    set gg_rct_BridgeSound=Rect(- 4352.0, 5120.0, - 4000.0, 5504.0)
    set gg_rct_Boat01=Rect(1568.0, - 4032.0, 1824.0, - 3808.0)
    set gg_rct_PlatformA=Rect(- 4480.0, 5120.0, - 4352.0, 5248.0)
    set gg_rct_PlatformB=Rect(- 4288.0, 5120.0, - 4160.0, 5248.0)
    set gg_rct_CreatePeons=Rect(1984.0, - 864.0, 2080.0, - 768.0)
    set gg_rct_WolfLairEscapeCave02=Rect(1888.0, 5760.0, 2144.0, 6016.0)
    set gg_rct_WolfLairEscapeCave03=Rect(- 2720.0, - 480.0, - 2464.0, - 224.0)
    set gg_rct_WolfLairEscapeCave01=Rect(- 1216.0, 4128.0, - 960.0, 4320.0)
    set gg_rct_ShowBear=Rect(- 3328.0, 160.0, - 2368.0, 832.0)
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_Intro01=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Intro01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro01, CAMERA_FIELD_ROTATION, 103.3, 0.0)
    call CameraSetupSetField(gg_cam_Intro01, CAMERA_FIELD_ANGLE_OF_ATTACK, 323.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro01, CAMERA_FIELD_TARGET_DISTANCE, 1500.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro01, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro01, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro01, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro01, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro01, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro01, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Intro01, - 5635.5, - 1278.5, 0.0)

    set gg_cam_Intro02=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Intro02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro02, CAMERA_FIELD_ROTATION, 96.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro02, CAMERA_FIELD_ANGLE_OF_ATTACK, 325.2, 0.0)
    call CameraSetupSetField(gg_cam_Intro02, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro02, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro02, CAMERA_FIELD_FIELD_OF_VIEW, 80.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro02, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro02, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro02, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro02, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro02, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Intro02, - 5200.4, - 2421.9, 0.0)

    set gg_cam_Human01=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Human01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human01, CAMERA_FIELD_ROTATION, 121.2, 0.0)
    call CameraSetupSetField(gg_cam_Human01, CAMERA_FIELD_ANGLE_OF_ATTACK, 311.0, 0.0)
    call CameraSetupSetField(gg_cam_Human01, CAMERA_FIELD_TARGET_DISTANCE, 1239.7, 0.0)
    call CameraSetupSetField(gg_cam_Human01, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Human01, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_Human01, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Human01, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human01, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human01, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Human01, - 6021.4, 9733.0, 0.0)

    set gg_cam_Final01=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Final01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Final01, CAMERA_FIELD_ROTATION, 78.6, 0.0)
    call CameraSetupSetField(gg_cam_Final01, CAMERA_FIELD_ANGLE_OF_ATTACK, 332.4, 0.0)
    call CameraSetupSetField(gg_cam_Final01, CAMERA_FIELD_TARGET_DISTANCE, 846.7, 0.0)
    call CameraSetupSetField(gg_cam_Final01, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Final01, CAMERA_FIELD_FIELD_OF_VIEW, 80.0, 0.0)
    call CameraSetupSetField(gg_cam_Final01, CAMERA_FIELD_FARZ, 10000.0, 0.0)
    call CameraSetupSetField(gg_cam_Final01, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Final01, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Final01, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Final01, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Final01, 322.7, - 1941.8, 0.0)

    set gg_cam_Intro08=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Intro08, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro08, CAMERA_FIELD_ROTATION, 176.4, 0.0)
    call CameraSetupSetField(gg_cam_Intro08, CAMERA_FIELD_ANGLE_OF_ATTACK, 312.4, 0.0)
    call CameraSetupSetField(gg_cam_Intro08, CAMERA_FIELD_TARGET_DISTANCE, 1500.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro08, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro08, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro08, CAMERA_FIELD_FARZ, 6000.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro08, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro08, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro08, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro08, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Intro08, 1590.1, - 1197.4, 0.0)

    set gg_cam_Camp=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Camp, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Camp, CAMERA_FIELD_ROTATION, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_Camp, CAMERA_FIELD_ANGLE_OF_ATTACK, 304.0, 0.0)
    call CameraSetupSetField(gg_cam_Camp, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0)
    call CameraSetupSetField(gg_cam_Camp, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Camp, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Camp, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_Camp, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Camp, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Camp, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Camp, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Camp, 1786.3, - 821.7, 0.0)

    set gg_cam_Boar01=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Boar01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar01, CAMERA_FIELD_ROTATION, 93.7, 0.0)
    call CameraSetupSetField(gg_cam_Boar01, CAMERA_FIELD_ANGLE_OF_ATTACK, 322.8, 0.0)
    call CameraSetupSetField(gg_cam_Boar01, CAMERA_FIELD_TARGET_DISTANCE, 578.3, 0.0)
    call CameraSetupSetField(gg_cam_Boar01, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar01, CAMERA_FIELD_FARZ, 5500.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar01, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar01, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar01, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar01, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Boar01, - 781.5, 1208.2, 0.0)

    set gg_cam_Boar03=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Boar03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar03, CAMERA_FIELD_ROTATION, 105.1, 0.0)
    call CameraSetupSetField(gg_cam_Boar03, CAMERA_FIELD_ANGLE_OF_ATTACK, 312.8, 0.0)
    call CameraSetupSetField(gg_cam_Boar03, CAMERA_FIELD_TARGET_DISTANCE, 1024.5, 0.0)
    call CameraSetupSetField(gg_cam_Boar03, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar03, CAMERA_FIELD_FIELD_OF_VIEW, 80.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar03, CAMERA_FIELD_FARZ, 5500.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar03, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar03, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar03, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Boar03, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Boar03, - 545.7, 160.5, 0.0)

    set gg_cam_HumansAppear=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_HumansAppear, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_HumansAppear, CAMERA_FIELD_ROTATION, 133.0, 0.0)
    call CameraSetupSetField(gg_cam_HumansAppear, CAMERA_FIELD_ANGLE_OF_ATTACK, 349.2, 0.0)
    call CameraSetupSetField(gg_cam_HumansAppear, CAMERA_FIELD_TARGET_DISTANCE, 2657.3, 0.0)
    call CameraSetupSetField(gg_cam_HumansAppear, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_HumansAppear, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_HumansAppear, CAMERA_FIELD_FARZ, 10000.0, 0.0)
    call CameraSetupSetField(gg_cam_HumansAppear, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_HumansAppear, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_HumansAppear, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_HumansAppear, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_HumansAppear, - 4940.6, 8284.6, 0.0)

    set gg_cam_SignalFireAlarm=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_SignalFireAlarm, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_SignalFireAlarm, CAMERA_FIELD_ROTATION, 90.0, 0.0)
    call CameraSetupSetField(gg_cam_SignalFireAlarm, CAMERA_FIELD_ANGLE_OF_ATTACK, 304.0, 0.0)
    call CameraSetupSetField(gg_cam_SignalFireAlarm, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0)
    call CameraSetupSetField(gg_cam_SignalFireAlarm, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_SignalFireAlarm, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_SignalFireAlarm, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_SignalFireAlarm, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_SignalFireAlarm, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_SignalFireAlarm, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_SignalFireAlarm, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_SignalFireAlarm, 3170.4, - 3264.7, 0.0)

    set gg_cam_Catapult=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Catapult, CAMERA_FIELD_ZOFFSET, 50.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult, CAMERA_FIELD_ROTATION, 211.9, 0.0)
    call CameraSetupSetField(gg_cam_Catapult, CAMERA_FIELD_ANGLE_OF_ATTACK, 338.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult, CAMERA_FIELD_TARGET_DISTANCE, 1815.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult, CAMERA_FIELD_FIELD_OF_VIEW, 80.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult, CAMERA_FIELD_FARZ, 10000.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Catapult, - 6335.3, 10181.6, 0.0)

    set gg_cam_Intro09=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Intro09, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro09, CAMERA_FIELD_ROTATION, 131.6, 0.0)
    call CameraSetupSetField(gg_cam_Intro09, CAMERA_FIELD_ANGLE_OF_ATTACK, 325.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro09, CAMERA_FIELD_TARGET_DISTANCE, 699.8, 0.0)
    call CameraSetupSetField(gg_cam_Intro09, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro09, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro09, CAMERA_FIELD_FARZ, 10000.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro09, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro09, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro09, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro09, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Intro09, 1465.9, - 1272.3, 0.0)

    set gg_cam_Human03=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Human03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human03, CAMERA_FIELD_ROTATION, 311.1, 0.0)
    call CameraSetupSetField(gg_cam_Human03, CAMERA_FIELD_ANGLE_OF_ATTACK, 315.0, 0.0)
    call CameraSetupSetField(gg_cam_Human03, CAMERA_FIELD_TARGET_DISTANCE, 769.7, 0.0)
    call CameraSetupSetField(gg_cam_Human03, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Human03, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_Human03, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Human03, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human03, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human03, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Human03, - 3639.0, 10202.8, 0.0)

    set gg_cam_Human04=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Human04, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human04, CAMERA_FIELD_ROTATION, 155.6, 0.0)
    call CameraSetupSetField(gg_cam_Human04, CAMERA_FIELD_ANGLE_OF_ATTACK, 321.1, 0.0)
    call CameraSetupSetField(gg_cam_Human04, CAMERA_FIELD_TARGET_DISTANCE, 578.3, 0.0)
    call CameraSetupSetField(gg_cam_Human04, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human04, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Human04, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_Human04, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Human04, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human04, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human04, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Human04, - 3615.6, 10122.2, 0.0)

    set gg_cam_FinalBoatLoading=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_FinalBoatLoading, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalBoatLoading, CAMERA_FIELD_ROTATION, 91.9, 0.0)
    call CameraSetupSetField(gg_cam_FinalBoatLoading, CAMERA_FIELD_ANGLE_OF_ATTACK, 315.7, 0.0)
    call CameraSetupSetField(gg_cam_FinalBoatLoading, CAMERA_FIELD_TARGET_DISTANCE, 1000.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalBoatLoading, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalBoatLoading, CAMERA_FIELD_FIELD_OF_VIEW, 80.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalBoatLoading, CAMERA_FIELD_FARZ, 10000.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalBoatLoading, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalBoatLoading, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalBoatLoading, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_FinalBoatLoading, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_FinalBoatLoading, 539.6, - 2887.9, 0.0)

    set gg_cam_Intro10=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Intro10, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro10, CAMERA_FIELD_ROTATION, 359.6, 0.0)
    call CameraSetupSetField(gg_cam_Intro10, CAMERA_FIELD_ANGLE_OF_ATTACK, 334.3, 0.0)
    call CameraSetupSetField(gg_cam_Intro10, CAMERA_FIELD_TARGET_DISTANCE, 826.5, 0.0)
    call CameraSetupSetField(gg_cam_Intro10, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro10, CAMERA_FIELD_FIELD_OF_VIEW, 80.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro10, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro10, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro10, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro10, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro10, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Intro10, 1680.5, - 1201.6, 0.0)

    set gg_cam_Intro11=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Intro11, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro11, CAMERA_FIELD_ROTATION, 64.2, 0.0)
    call CameraSetupSetField(gg_cam_Intro11, CAMERA_FIELD_ANGLE_OF_ATTACK, 312.1, 0.0)
    call CameraSetupSetField(gg_cam_Intro11, CAMERA_FIELD_TARGET_DISTANCE, 826.5, 0.0)
    call CameraSetupSetField(gg_cam_Intro11, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro11, CAMERA_FIELD_FIELD_OF_VIEW, 80.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro11, CAMERA_FIELD_FARZ, 10000.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro11, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro11, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro11, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Intro11, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Intro11, 1588.2, - 1323.8, 0.0)

    set gg_cam_Human00=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Human00, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human00, CAMERA_FIELD_ROTATION, 88.9, 0.0)
    call CameraSetupSetField(gg_cam_Human00, CAMERA_FIELD_ANGLE_OF_ATTACK, 310.8, 0.0)
    call CameraSetupSetField(gg_cam_Human00, CAMERA_FIELD_TARGET_DISTANCE, 769.7, 0.0)
    call CameraSetupSetField(gg_cam_Human00, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human00, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Human00, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_Human00, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Human00, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human00, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human00, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Human00, - 5914.6, 9950.2, 0.0)

    set gg_cam_Catapult02=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Catapult02, CAMERA_FIELD_ZOFFSET, 50.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult02, CAMERA_FIELD_ROTATION, 192.7, 0.0)
    call CameraSetupSetField(gg_cam_Catapult02, CAMERA_FIELD_ANGLE_OF_ATTACK, 336.5, 0.0)
    call CameraSetupSetField(gg_cam_Catapult02, CAMERA_FIELD_TARGET_DISTANCE, 1815.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult02, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult02, CAMERA_FIELD_FIELD_OF_VIEW, 80.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult02, CAMERA_FIELD_FARZ, 10000.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult02, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult02, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult02, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult02, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Catapult02, - 6478.2, 10408.5, 0.0)

    set gg_cam_Catapult03=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Catapult03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult03, CAMERA_FIELD_ROTATION, 63.1, 0.0)
    call CameraSetupSetField(gg_cam_Catapult03, CAMERA_FIELD_ANGLE_OF_ATTACK, 320.3, 0.0)
    call CameraSetupSetField(gg_cam_Catapult03, CAMERA_FIELD_TARGET_DISTANCE, 846.7, 0.0)
    call CameraSetupSetField(gg_cam_Catapult03, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult03, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult03, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult03, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult03, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult03, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Catapult03, - 5205.4, 10957.0, 0.0)

    set gg_cam_Catapult04=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Catapult04, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult04, CAMERA_FIELD_ROTATION, 26.9, 0.0)
    call CameraSetupSetField(gg_cam_Catapult04, CAMERA_FIELD_ANGLE_OF_ATTACK, 329.7, 0.0)
    call CameraSetupSetField(gg_cam_Catapult04, CAMERA_FIELD_TARGET_DISTANCE, 846.7, 0.0)
    call CameraSetupSetField(gg_cam_Catapult04, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult04, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult04, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult04, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult04, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult04, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Catapult04, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Catapult04, - 5205.4, 10957.0, 0.0)

    set gg_cam_Human05=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Human05, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human05, CAMERA_FIELD_ROTATION, 290.4, 0.0)
    call CameraSetupSetField(gg_cam_Human05, CAMERA_FIELD_ANGLE_OF_ATTACK, 344.5, 0.0)
    call CameraSetupSetField(gg_cam_Human05, CAMERA_FIELD_TARGET_DISTANCE, 525.7, 0.0)
    call CameraSetupSetField(gg_cam_Human05, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human05, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Human05, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_Human05, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    call CameraSetupSetField(gg_cam_Human05, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human05, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Human05, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Human05, - 3557.8, 10002.5, 0.0)

    set gg_cam_IntroBoatA=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_IntroBoatA, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatA, CAMERA_FIELD_ROTATION, 135.2, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatA, CAMERA_FIELD_ANGLE_OF_ATTACK, 320.9, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatA, CAMERA_FIELD_TARGET_DISTANCE, 1127.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatA, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatA, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatA, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatA, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatA, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatA, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatA, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_IntroBoatA, 2132.7, - 4437.6, 0.0)

    set gg_cam_IntroBoatB=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_IntroBoatB, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatB, CAMERA_FIELD_ROTATION, 103.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatB, CAMERA_FIELD_ANGLE_OF_ATTACK, 350.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatB, CAMERA_FIELD_TARGET_DISTANCE, 1127.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatB, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatB, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatB, CAMERA_FIELD_FARZ, 10000.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatB, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatB, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatB, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroBoatB, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_IntroBoatB, 901.9, - 2974.6, 0.0)

    set gg_cam_IntroDialogueA=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_IntroDialogueA, CAMERA_FIELD_ZOFFSET, 25.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroDialogueA, CAMERA_FIELD_ROTATION, 131.1, 0.0)
    call CameraSetupSetField(gg_cam_IntroDialogueA, CAMERA_FIELD_ANGLE_OF_ATTACK, 335.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroDialogueA, CAMERA_FIELD_TARGET_DISTANCE, 699.8, 0.0)
    call CameraSetupSetField(gg_cam_IntroDialogueA, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroDialogueA, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroDialogueA, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroDialogueA, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroDialogueA, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroDialogueA, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_IntroDialogueA, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_IntroDialogueA, 1445.8, - 1293.8, 0.0)

endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: Unit Event Config
//
// GUI Unit Event by Bribe, version 2.5.0.0
//===========================================================================
function Trig_Unit_Event_Config_Actions takes nothing returns nothing
    //  
    // Copy Unit Event Ability from Object Editor, then set DetectRemoveAbility to it as follows:
    //  
    set udg_DetectRemoveAbility='APai'
    //  
    // Paste it a second time, then set DetectTransformAbility to it as follows:
    //  
    set udg_DetectTransformAbility='APai'
    //  
    // One additional event to run right before Unit Indexer initializes, added 29 May 2017 for ZiBitheWand3r3r 
    set udg_UnitIndexEvent=- 1.00
    //  
    // Initialize Unit Event now that all the InitTrig_ functions have run
    //  
    set udg_IsUnitPreplaced[0]=true
    call ExecuteFunc("UnitEventInit")
    set udg_UnitIndexEvent=3.00
    set udg_IsUnitPreplaced[0]=udg_IsUnitTransforming[0]
endfunction

//===========================================================================
function InitTrig_Unit_Event_Config takes nothing returns nothing
    set gg_trg_Unit_Event_Config=CreateTrigger()
    call TriggerAddAction(gg_trg_Unit_Event_Config, function Trig_Unit_Event_Config_Actions)
endfunction

//===========================================================================
// Trigger: Unit Event
//===========================================================================
//===========================================================================
function UnitEventDestroyGroup takes integer i returns nothing
    if udg_CargoTransportGroup[i] != null then
        call DestroyGroup(udg_CargoTransportGroup[i])
        set udg_CargoTransportGroup[i]=null
    endif
endfunction
function UnitEventCheckAfter takes nothing returns nothing
    local integer i= 0
    loop
        set i=udg_CheckDeathList[i]
        exitwhen i == 0
        if udg_IsUnitNew[i] then
            //The unit was just created.
            set udg_IsUnitNew[i]=false
        elseif udg_IsUnitTransforming[i] then
           //Added 21 July 2017 to fix the issue re-adding this ability in the same instant
           set udg_UDex=i
           set udg_UnitTypeEvent=0.00
           set udg_UnitTypeEvent=1.00
           set udg_UnitTypeOf[i]=GetUnitTypeId(udg_UDexUnits[i]) //Set this afterward to give the user extra reference
           set udg_IsUnitTransforming[i]=false
           call UnitAddAbility(udg_UDexUnits[i], udg_DetectTransformAbility)
        elseif udg_IsUnitAlive[i] then
            //The unit has started reincarnating.
            set udg_IsUnitReincarnating[i]=true
            set udg_IsUnitAlive[i]=false
            set udg_UDex=i
            set udg_DeathEvent=0.50
            set udg_DeathEvent=0.00
        endif
        set udg_CheckDeathInList[i]=false
    endloop
    //Empty the list
    set udg_CheckDeathList[0]=0
endfunction
function UnitEventCheckAfterProxy takes integer i returns nothing
    if udg_CheckDeathList[0] == 0 then
        call TimerStart(udg_CheckDeathTimer, 0.00, false, function UnitEventCheckAfter)
    endif
    if not udg_CheckDeathInList[i] then
        set udg_CheckDeathList[i]=udg_CheckDeathList[0]
        set udg_CheckDeathList[0]=i
        set udg_CheckDeathInList[i]=true
    endif
endfunction

function UnitEventOnUnload takes nothing returns nothing
    local integer i= udg_UDex
    call GroupRemoveUnit(udg_CargoTransportGroup[GetUnitUserData(udg_CargoTransportUnit[i])], udg_UDexUnits[i])
    set udg_IsUnitBeingUnloaded[i]=true
    set udg_CargoEvent=0.00
    set udg_CargoEvent=2.00
    set udg_CargoEvent=0.00
    set udg_IsUnitBeingUnloaded[i]=false
    if not IsUnitLoaded(udg_UDexUnits[i]) or IsUnitType(udg_CargoTransportUnit[i], UNIT_TYPE_DEAD) or GetUnitTypeId(udg_CargoTransportUnit[i]) == 0 then
        set udg_CargoTransportUnit[i]=null
    endif
endfunction

function UnitEventOnDeath takes nothing returns boolean
    local integer pdex= udg_UDex
    set udg_UDex=GetUnitUserData(GetTriggerUnit())
    if udg_UDex != 0 then
        set udg_KillerOfUnit[udg_UDex]=GetKillingUnit() //Added 29 May 2017 for GIMLI_2 
        set udg_IsUnitAlive[udg_UDex]=false
        set udg_DeathEvent=0.00
        set udg_DeathEvent=1.00
        set udg_DeathEvent=0.00
        set udg_KillerOfUnit[udg_UDex]=null
        if udg_CargoTransportUnit[udg_UDex] != null then
            call UnitEventOnUnload()
        endif
    endif
    set udg_UDex=pdex
    return false
endfunction
  
function UnitEventOnOrder takes nothing returns boolean
    local integer pdex= udg_UDex
    local unit u= GetFilterUnit()
    local integer i= GetUnitUserData(u)
    if i > 0 then
        set udg_UDex=i
        if GetUnitAbilityLevel(u, udg_DetectRemoveAbility) == 0 then
            if not udg_IsUnitRemoved[i] then
                set udg_IsUnitRemoved[i]=true
                set udg_IsUnitAlive[i]=false
                set udg_SummonerOfUnit[i]=null
                
                //For backwards-compatibility:
                set udg_DeathEvent=0.00
                set udg_DeathEvent=3.00
                set udg_DeathEvent=0.00
                
                //Fire deindex event for UDex:
                set udg_UnitIndexEvent=0.00
                set udg_UnitIndexEvent=2.00
                set udg_UnitIndexEvent=0.00
                
                set udg_UDexNext[udg_UDexPrev[i]]=udg_UDexNext[i]
                set udg_UDexPrev[udg_UDexNext[i]]=udg_UDexPrev[i]
                
                // Recycle the index for later use
                set udg_UDexUnits[i]=null
                set udg_UDexPrev[i]=udg_UDexLastRecycled
                set udg_UDexLastRecycled=i
                call UnitEventDestroyGroup(i)
            endif
        elseif not udg_IsUnitAlive[i] then
            if not IsUnitType(u, UNIT_TYPE_DEAD) then
                set udg_IsUnitAlive[i]=true
                set udg_DeathEvent=0.00
                set udg_DeathEvent=2.00
                set udg_DeathEvent=0.00
                set udg_IsUnitReincarnating[i]=false
            endif
        elseif IsUnitType(u, UNIT_TYPE_DEAD) then
            if udg_IsUnitNew[i] then
                //This unit was created as a corpse.
                set udg_IsUnitAlive[i]=false
                set udg_DeathEvent=0.00
                set udg_DeathEvent=1.00
                set udg_DeathEvent=0.00
            elseif udg_CargoTransportUnit[i] == null or not IsUnitType(u, UNIT_TYPE_HERO) then
                //The unit may have just started reincarnating.
                call UnitEventCheckAfterProxy(i)
            endif
        elseif GetUnitAbilityLevel(u, udg_DetectTransformAbility) == 0 and not udg_IsUnitTransforming[i] then
            set udg_IsUnitTransforming[i]=true
            call UnitEventCheckAfterProxy(i) //This block has been updated on 21 July 2017
        endif
        if udg_CargoTransportUnit[i] != null and not udg_IsUnitBeingUnloaded[i] and not IsUnitLoaded(u) or IsUnitType(u, UNIT_TYPE_DEAD) then
            call UnitEventOnUnload()
        endif
        set udg_UDex=pdex
    endif
    set u=null
    return false
endfunction
function UnitEventOnSummon takes nothing returns boolean
    local integer pdex= udg_UDex
    set udg_UDex=GetUnitUserData(GetTriggerUnit())
    if udg_IsUnitNew[udg_UDex] then
        set udg_SummonerOfUnit[udg_UDex]=GetSummoningUnit()
        set udg_UnitIndexEvent=0.00
        set udg_UnitIndexEvent=0.50
        set udg_UnitIndexEvent=0.00
    endif
    set udg_UDex=pdex
    return false
endfunction
function UnitEventOnLoad takes nothing returns boolean
    local integer pdex= udg_UDex
    local integer i= GetUnitUserData(GetTriggerUnit())
    local integer index
    if i != 0 then
        set udg_UDex=i
        if udg_CargoTransportUnit[i] != null then
            call UnitEventOnUnload()
        endif
        //Loaded corpses do not issue an order when unloaded, therefore must
        //use the enter-region event method taken from Jesus4Lyf's Transport.
        if not udg_IsUnitAlive[i] then
            call SetUnitX(udg_UDexUnits[i], udg_WorldMaxX)
            call SetUnitY(udg_UDexUnits[i], udg_WorldMaxY)
        endif
        
        set udg_CargoTransportUnit[i]=GetTransportUnit()
        set index=GetUnitUserData(udg_CargoTransportUnit[i])
        if udg_CargoTransportGroup[index] == null then
            set udg_CargoTransportGroup[index]=CreateGroup()
        endif
        call GroupAddUnit(udg_CargoTransportGroup[index], udg_UDexUnits[i])
        set udg_CargoEvent=0.00
        set udg_CargoEvent=1.00
        set udg_CargoEvent=0.00
        set udg_UDex=pdex
    endif
    return false
endfunction
function UnitEventEnter takes nothing returns boolean
    local integer pdex= udg_UDex
    local integer i= udg_UDexLastRecycled
    local unit u= GetFilterUnit()
    if udg_UnitIndexerEnabled and GetUnitAbilityLevel(u, udg_DetectRemoveAbility) == 0 then
        //Generate a unique integer index for this unit
        if i == 0 then
            set i=udg_UDexMax + 1
            set udg_UDexMax=i
        else
            set udg_UDexLastRecycled=udg_UDexPrev[i]
        endif
        //Link index to unit, unit to index
        set udg_UDexUnits[i]=u
        call SetUnitUserData(u, i)
        
        //For backwards-compatibility, add the unit to a linked list
        set udg_UDexNext[i]=udg_UDexNext[0]
        set udg_UDexPrev[udg_UDexNext[0]]=i
        set udg_UDexNext[0]=i
        set udg_UDexPrev[i]=0

        set udg_CheckDeathInList[i]=false

        call UnitAddAbility(u, udg_DetectRemoveAbility)
        call UnitMakeAbilityPermanent(u, true, udg_DetectRemoveAbility)
        call UnitAddAbility(u, udg_DetectTransformAbility)
        set udg_UnitTypeOf[i]=GetUnitTypeId(u)
        set udg_IsUnitNew[i]=true
        set udg_IsUnitAlive[i]=true
        set udg_IsUnitRemoved[i]=false
        set udg_IsUnitReincarnating[i]=false
        set udg_IsUnitPreplaced[i]=udg_IsUnitPreplaced[0] //Added 29 May 2017 for Spellbound
        call UnitEventCheckAfterProxy(i)
        
        //Fire index event for UDex
        set udg_UDex=i
        set udg_UnitIndexEvent=0.00
        set udg_UnitIndexEvent=1.00
        set udg_UnitIndexEvent=0.00
    else
        set udg_UDex=GetUnitUserData(u)
        if udg_CargoTransportUnit[udg_UDex] != null and not IsUnitLoaded(u) then
            //The unit was dead, but has re-entered the map.
            call UnitEventOnUnload()
        endif
    endif
    set udg_UDex=pdex
    set u=null
    return false
endfunction
//===========================================================================
function UnitEventInit takes nothing returns nothing
    local integer i= bj_MAX_PLAYER_SLOTS
    local player p
    local trigger t= CreateTrigger()
    local trigger load= CreateTrigger()
    local trigger death= CreateTrigger()
    local trigger summon= CreateTrigger()
    local rect r= GetWorldBounds()
    local region re= CreateRegion()
    local boolexpr enterB= Filter(function UnitEventEnter)
    local boolexpr orderB= Filter(function UnitEventOnOrder)
    set udg_WorldMaxX=GetRectMaxX(r)
    set udg_WorldMaxY=GetRectMaxY(r)
    call RegionAddRect(re, r)
    call RemoveRect(r)
    call UnitEventDestroyGroup(0)
    call UnitEventDestroyGroup(1)
    
    set udg_CheckDeathList[0]=0
    set udg_UnitIndexerEnabled=true
    call TriggerRegisterEnterRegion(CreateTrigger(), re, enterB)
    call TriggerAddCondition(load, Filter(function UnitEventOnLoad))
    call TriggerAddCondition(death, Filter(function UnitEventOnDeath))
    call TriggerAddCondition(summon, Filter(function UnitEventOnSummon))
    loop
        set i=i - 1
        set p=Player(i)
        call SetPlayerAbilityAvailable(p, udg_DetectRemoveAbility, false)
        call SetPlayerAbilityAvailable(p, udg_DetectTransformAbility, false)
        call TriggerRegisterPlayerUnitEvent(summon, p, EVENT_PLAYER_UNIT_SUMMON, null)
        call TriggerRegisterPlayerUnitEvent(t, p, EVENT_PLAYER_UNIT_ISSUED_ORDER, orderB)
        call TriggerRegisterPlayerUnitEvent(death, p, EVENT_PLAYER_UNIT_DEATH, null)
        call TriggerRegisterPlayerUnitEvent(load, p, EVENT_PLAYER_UNIT_LOADED, null)
        call GroupEnumUnitsOfPlayer(bj_lastCreatedGroup, p, enterB)
        exitwhen i == 0
    endloop
    set summon=null
    set death=null
    set load=null
    set re=null
    set enterB=null
    set orderB=null
    set p=null
    set r=null
    set t=null
endfunction
function InitTrig_Unit_Event takes nothing returns nothing
endfunction
//===========================================================================
// Trigger: OilTextHide
//===========================================================================
function Trig_OilTextHide_Actions takes nothing returns nothing
    // Hide Oil UI frames
    call OilHarvest_setUIVisible(false)
endfunction

//===========================================================================
function InitTrig_OilTextHide takes nothing returns nothing
    set gg_trg_OilTextHide=CreateTrigger()
    call TriggerAddAction(gg_trg_OilTextHide, function Trig_OilTextHide_Actions)
endfunction

//===========================================================================
// Trigger: OilTextShow
//===========================================================================
function Trig_OilTextShow_Actions takes nothing returns nothing
    // Show Oil UI frames
    call OilHarvest_setUIVisible(true)
endfunction

//===========================================================================
function InitTrig_OilTextShow takes nothing returns nothing
    set gg_trg_OilTextShow=CreateTrigger()
    call TriggerAddAction(gg_trg_OilTextShow, function Trig_OilTextShow_Actions)
endfunction

//===========================================================================
// Trigger: Rend I Devastate
//===========================================================================
function Trig_Rend_I_Devastate_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A00O' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rend_I_Devastate_Func004Func001Func001C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A00O', GetTriggerUnit()) == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rend_I_Devastate_Func004Func001C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A00O', GetTriggerUnit()) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rend_I_Devastate_Func004C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A00O', GetTriggerUnit()) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rend_I_Devastate_Actions takes nothing returns nothing
    // Sound: Ability_Devastate
    call PlaySoundOnUnitBJ(gg_snd_Ability_Devastate, 80.00, GetSpellTargetUnit())
    //  
    if ( Trig_Rend_I_Devastate_Func004C() ) then
        call UnitDamageTargetBJ(GetTriggerUnit(), GetSpellTargetUnit(), 50.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL)
    else
        if ( Trig_Rend_I_Devastate_Func004Func001C() ) then
            call UnitDamageTargetBJ(GetTriggerUnit(), GetSpellTargetUnit(), 75.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL)
        else
            if ( Trig_Rend_I_Devastate_Func004Func001Func001C() ) then
                call UnitDamageTargetBJ(GetTriggerUnit(), GetSpellTargetUnit(), 100.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL)
            else
            endif
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Rend_I_Devastate takes nothing returns nothing
    set gg_trg_Rend_I_Devastate=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Rend_I_Devastate, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_Rend_I_Devastate, Condition(function Trig_Rend_I_Devastate_Conditions))
    call TriggerAddAction(gg_trg_Rend_I_Devastate, function Trig_Rend_I_Devastate_Actions)
endfunction

//===========================================================================
// Trigger: Rend I Rend
//===========================================================================
function Trig_Rend_I_Rend_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A00Q' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rend_I_Rend_Func006001003 takes nothing returns boolean
    return ( IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == false )
endfunction

function Trig_Rend_I_Rend_Func006Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasBuffBJ(GetEnumUnit(), 'B003') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rend_I_Rend_Func006Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A00Q', GetTriggerUnit()) == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rend_I_Rend_Func006Func001Func001Func001Func002C takes nothing returns boolean
    if ( not ( UnitHasBuffBJ(GetEnumUnit(), 'B003') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rend_I_Rend_Func006Func001Func001Func001C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A00Q', GetTriggerUnit()) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rend_I_Rend_Func006Func001Func001Func002C takes nothing returns boolean
    if ( not ( UnitHasBuffBJ(GetEnumUnit(), 'B003') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rend_I_Rend_Func006Func001Func001C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A00Q', GetTriggerUnit()) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rend_I_Rend_Func006Func001C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(GetEnumUnit()) == true ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_MAGIC_IMMUNE) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rend_I_Rend_Func006A takes nothing returns nothing
    if ( Trig_Rend_I_Rend_Func006Func001C() ) then
        if ( Trig_Rend_I_Rend_Func006Func001Func001C() ) then
            if ( Trig_Rend_I_Rend_Func006Func001Func001Func002C() ) then
                call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), 100.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL)
                call AddSpecialEffectTargetUnitBJ("chest", GetEnumUnit(), "Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl")
                call DestroyEffectBJ(GetLastCreatedEffectBJ())
            else
                call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), 125.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL)
                call AddSpecialEffectTargetUnitBJ("origin", GetEnumUnit(), "Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl")
                call BlzPlaySpecialEffect(GetLastCreatedEffectBJ(), ANIM_TYPE_DEATH)
                call DestroyEffectBJ(GetLastCreatedEffectBJ())
            endif
        else
            if ( Trig_Rend_I_Rend_Func006Func001Func001Func001C() ) then
                if ( Trig_Rend_I_Rend_Func006Func001Func001Func001Func002C() ) then
                    call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), 150.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL)
                    call AddSpecialEffectTargetUnitBJ("chest", GetEnumUnit(), "Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl")
                    call DestroyEffectBJ(GetLastCreatedEffectBJ())
                else
                    call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), 200.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL)
                    call AddSpecialEffectTargetUnitBJ("origin", GetEnumUnit(), "Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl")
                    call BlzPlaySpecialEffect(GetLastCreatedEffectBJ(), ANIM_TYPE_DEATH)
                    call DestroyEffectBJ(GetLastCreatedEffectBJ())
                endif
            else
                if ( Trig_Rend_I_Rend_Func006Func001Func001Func001Func001C() ) then
                    if ( Trig_Rend_I_Rend_Func006Func001Func001Func001Func001Func001C() ) then
                        call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), 200.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL)
                        call AddSpecialEffectTargetUnitBJ("chest", GetEnumUnit(), "Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl")
                        call DestroyEffectBJ(GetLastCreatedEffectBJ())
                    else
                        call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), 300.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL)
                        call AddSpecialEffectTargetUnitBJ("origin", GetEnumUnit(), "Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl")
                        call BlzPlaySpecialEffect(GetLastCreatedEffectBJ(), ANIM_TYPE_DEATH)
                        call DestroyEffectBJ(GetLastCreatedEffectBJ())
                    endif
                else
                endif
            endif
        endif
    else
    endif
endfunction

function Trig_Rend_I_Rend_Actions takes nothing returns nothing
    // Sound: Ability_Devastate
    call PlaySoundOnUnitBJ(gg_snd_Ability_Rend, 80.00, GetTriggerUnit())
    set udg_Rend_TempPoint_Q=GetSpellTargetLoc()
    //  
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00, udg_Rend_TempPoint_Q, Condition(function Trig_Rend_I_Rend_Func006001003)), function Trig_Rend_I_Rend_Func006A)
    //  
    call RemoveLocation(udg_Rend_TempPoint_Q)
endfunction

//===========================================================================
function InitTrig_Rend_I_Rend takes nothing returns nothing
    set gg_trg_Rend_I_Rend=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Rend_I_Rend, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_Rend_I_Rend, Condition(function Trig_Rend_I_Rend_Conditions))
    call TriggerAddAction(gg_trg_Rend_I_Rend, function Trig_Rend_I_Rend_Actions)
endfunction

//===========================================================================
// Trigger: PeonWeightOn
//
// Peon is lifting resource, he should be slowed down
//===========================================================================
function Trig_PeonWeightOn_Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetOrderedUnit()) == 'n60D' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetOrderedUnit()) == 'o60D' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetOrderedUnit()) == 'h60J' ) ) then
        return true
    endif
    return false
endfunction

function Trig_PeonWeightOn_Conditions takes nothing returns boolean
    if ( not Trig_PeonWeightOn_Func001C() ) then
        return false
    endif
    if ( not ( UnitHasBuffBJ(GetOrderedUnit(), 'B611') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_PeonWeightOn_Actions takes nothing returns nothing
    if ( ( GetIssuedOrderId() == 852017 ) ) then
    call UnitAddAbilityBJ('A62Y', GetOrderedUnit())
    endif
endfunction

//===========================================================================
function InitTrig_PeonWeightOn takes nothing returns nothing
    set gg_trg_PeonWeightOn=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_PeonWeightOn, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterAnyUnitEventBJ(gg_trg_PeonWeightOn, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterAnyUnitEventBJ(gg_trg_PeonWeightOn, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(gg_trg_PeonWeightOn, Condition(function Trig_PeonWeightOn_Conditions))
    call TriggerAddAction(gg_trg_PeonWeightOn, function Trig_PeonWeightOn_Actions)
endfunction

//===========================================================================
// Trigger: PeonWeightOff
//
// Peon is lifting resource, he should be slowed down
//===========================================================================
function Trig_PeonWeightOff_Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetOrderedUnit()) == 'n60D' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetOrderedUnit()) == 'o60D' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetOrderedUnit()) == 'h60J' ) ) then
        return true
    endif
    return false
endfunction

function Trig_PeonWeightOff_Conditions takes nothing returns boolean
    if ( not Trig_PeonWeightOff_Func004C() ) then
        return false
    endif
    if ( not ( UnitHasBuffBJ(GetOrderedUnit(), 'B611') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_PeonWeightOff_Actions takes nothing returns nothing
    if ( ( GetIssuedOrderId() == 852018 ) ) then
    call UnitRemoveAbilityBJ('A62Y', GetOrderedUnit())
    call UnitRemoveBuffBJ('B611', GetOrderedUnit())
    endif
endfunction

//===========================================================================
function InitTrig_PeonWeightOff takes nothing returns nothing
    set gg_trg_PeonWeightOff=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_PeonWeightOff, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterAnyUnitEventBJ(gg_trg_PeonWeightOff, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterAnyUnitEventBJ(gg_trg_PeonWeightOff, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(gg_trg_PeonWeightOff, Condition(function Trig_PeonWeightOff_Conditions))
    call TriggerAddAction(gg_trg_PeonWeightOff, function Trig_PeonWeightOff_Actions)
endfunction

//===========================================================================
// Trigger: Initialization
//===========================================================================
function Trig_Initialization_Func008001002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'npig' )
endfunction

function Trig_Initialization_Func008A takes nothing returns nothing
    call ShowUnitHide(GetEnumUnit())
endfunction

function Trig_Initialization_Func089002 takes nothing returns nothing
    call SetDestructableInvulnerableBJ(GetEnumDestructable(), true)
endfunction

function Trig_Initialization_Func090Func001Func001C takes nothing returns boolean
    if ( ( GetDestructableTypeId(GetEnumDestructable()) == 'B61A' ) ) then
        return true
    endif
    if ( ( GetDestructableTypeId(GetEnumDestructable()) == 'B60W' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Initialization_Func090Func001C takes nothing returns boolean
    if ( not Trig_Initialization_Func090Func001Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Initialization_Func090A takes nothing returns nothing
    if ( Trig_Initialization_Func090Func001C() ) then
        call ShowDestructableBJ(false, GetEnumDestructable())
    else
    endif
endfunction

function Trig_Initialization_Actions takes nothing returns nothing
    call ConditionalTriggerExecute(gg_trg_FaceanimLoader)
    // SetUp
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 0.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call ConditionalTriggerExecute(gg_trg_OilTextHide)
    call CinematicModeBJ(true, GetPlayersAll())
    call ClearMapMusicBJ()
    call ForGroupBJ(GetUnitsInRectMatching(gg_rct_Pig_Farm, Condition(function Trig_Initialization_Func008001002)), function Trig_Initialization_Func008A)
    call SetPlayerAbilityAvailableBJ(false, 'A610', Player(0))
    call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY, false, Player(PLAYER_NEUTRAL_AGGRESSIVE))
    call SetPlayerUnitAvailableBJ('o613', false, Player(0))
    call SetPlayerUnitAvailableBJ('o60O', false, Player(0))
    call SetPlayerUnitAvailableBJ('otbk', false, Player(0))
    call SetPlayerUnitAvailableBJ('o60T', false, Player(0))
    call SetPlayerUnitAvailableBJ('o60W', false, Player(0))
    call SetPlayerUnitAvailableBJ('o60Z', false, Player(0))
    call SetPlayerUnitAvailableBJ('o60P', false, Player(0))
    call SetPlayerAllianceStateBJ(Player(0), Player(8), bj_ALLIANCE_UNALLIED)
    call SetPlayerAllianceStateBJ(Player(8), Player(0), bj_ALLIANCE_UNALLIED)
    call SetPlayerOnScoreScreenBJ(false, Player(8))
    call SetPlayerName(Player(0), "TRIGSTR_187")
    call SetPlayerColorBJ(Player(1), PLAYER_COLOR_LIGHT_BLUE, true)
    call SetPlayerStateBJ(Player(1), PLAYER_STATE_RESOURCE_GOLD, 1000)
    call SetPlayerStateBJ(Player(1), PLAYER_STATE_RESOURCE_LUMBER, 1000)
    call SetPlayerAllianceStateBJ(Player(0), Player(20), bj_ALLIANCE_NEUTRAL)
    call SetPlayerAllianceStateBJ(Player(20), Player(0), bj_ALLIANCE_NEUTRAL)
    call SetPlayerAllianceStateBJ(Player(20), Player(4), bj_ALLIANCE_NEUTRAL)
    call SetPlayerAllianceStateBJ(Player(4), Player(20), bj_ALLIANCE_NEUTRAL)
    call EnableCreepSleepBJ(false)
    set udg_HumanShipAloc=gg_unit_nbsp_0048
    set udg_Utok=gg_unit_o605_0006
    set udg_Captain=gg_unit_hcth_0058
    set udg_Footman01=gg_unit_h60K_0098
    set udg_Footman02=gg_unit_h60K_0099
    set udg_Footman03=gg_unit_h60K_0060
    call ShowUnitHide(udg_Captain)
    call ShowUnitHide(udg_Footman01)
    call ShowUnitHide(udg_Footman02)
    call ShowUnitHide(udg_Footman03)
    call ShowDestructableBJ(false, gg_dest_B005_1940)
    call ShowDestructableBJ(false, gg_dest_LTcr_1048)
    call SetDoodadAnimationRectBJ("decay", 'NOfp', gg_rct_Pitfire)
    call SetSkyModel("Environment\\Sky\\LordaeronWinterSky\\LordaeronWinterSky.mdl")
    call SetUnitInvulnerable(udg_HumanShipAloc, true)
    call SetUnitInvulnerable(gg_unit_o60Q_0014, true)
    call ShowUnitHide(gg_unit_nbsp_0048)
    call SetDestructableInvulnerableBJ(gg_dest_B00C_2125, true)
    call SetDestructableInvulnerableBJ(gg_dest_B00C_2126, true)
    call SetDestructableInvulnerableBJ(gg_dest_B00C_1903, true)
    call ShowUnitHide(gg_unit_hdes_0016)
    call ShowUnitHide(gg_unit_nspp_0034)
    call ShowUnitHide(gg_unit_o605_0004)
    call ShowUnitHide(gg_unit_o60P_0036)
    call ShowUnitHide(gg_unit_nwwf_0030)
    call ShowUnitHide(gg_unit_nwwf_0028)
    call ShowUnitHide(gg_unit_nwwf_0029)
    call ShowUnitHide(gg_unit_nwlt_0031)
    call ShowUnitHide(gg_unit_nwlt_0032)
    call ShowUnitHide(gg_unit_nwlt_0033)
    call ShowUnitShow(gg_unit_npig_0049)
    call ShowUnitShow(gg_unit_npig_0050)
    call ShowUnitHide(gg_unit_h60B_0095)
    call ShowUnitHide(gg_unit_h60B_0096)
    call ShowUnitHide(gg_unit_h60B_0097)
    call ShowUnitHide(gg_unit_h60K_0094)
    call ShowUnitHide(gg_unit_h60K_0093)
    call ShowUnitHide(gg_unit_o001_0007)
    call ShowUnitHide(gg_unit_o001_0008)
    call UnitAddAbilityBJ('A61M', gg_unit_o614_0010)
    // Human Frigate Should not attack
    call PauseUnitBJ(true, gg_unit_hdes_0016)
    // Bushes should block the sight
    call SetDestructableOccluderHeight(gg_dest_B60L_1872, 300.00)
    call SetDestructableOccluderHeight(gg_dest_B60L_1894, 300.00)
    call SetDestructableOccluderHeight(gg_dest_B60L_1901, 300.00)
    call SetDestructableOccluderHeight(gg_dest_B60L_1510, 300.00)
    call SetDestructableOccluderHeight(gg_dest_B60L_1774, 300.00)
    call SetDestructableOccluderHeight(gg_dest_B60L_1777, 300.00)
    call ShowDestructableBJ(false, gg_dest_B61C_1509)
    call ShowDestructableBJ(false, gg_dest_LTba_1955)
    call ShowDestructableBJ(false, gg_dest_LTba_1954)
    call ShowDestructableBJ(false, gg_dest_LTba_1956)
    call ShowDestructableBJ(false, gg_dest_LTba_1958)
    call ShowDestructableBJ(false, gg_dest_LTba_1959)
    call ShowDestructableBJ(false, gg_dest_LTba_1957)
    call ShowDestructableBJ(false, gg_dest_LTcr_1961)
    call ShowDestructableBJ(false, gg_dest_LTcr_1962)
    call ShowDestructableBJ(false, gg_dest_LTcr_1960)
    call EnumDestructablesInRectAll(gg_rct_Supply_Crates, function Trig_Initialization_Func089002)
    call EnumDestructablesInRectAll(gg_rct_Supply_Crates, function Trig_Initialization_Func090A)
    call SetDoodadAnimationRectBJ("stand 21", 'NWf1', GetPlayableMapRect())
    call SetDoodadAnimationRectBJ("stand 21", 'NWf3', GetPlayableMapRect())
    call SetDoodadAnimationRectBJ("stand 21", 'NWf2', GetPlayableMapRect())
    call SetDoodadAnimationRectBJ("stand 21", 'NWf4', GetPlayableMapRect())
    call SetAllyColorFilterState(0)
    call EnableMinimapFilterButtons(false, false)
    call SetCreepCampFilterState(false)
    call PauseUnitBJ(true, gg_unit_hdes_0016)
    call SetPlayerAllianceStateBJ(Player(4), Player(0), bj_ALLIANCE_ALLIED_VISION)
    call SetPlayerAllianceStateBJ(Player(0), Player(4), bj_ALLIANCE_ALLIED_VISION)
    call CreateFogModifierRadiusLocBJ(true, Player(0), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Supply_Crates), 512)
    call CreateFogModifierRadiusLocBJ(true, Player(0), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_Pig_Farm), 256.00)
    call SetTimeOfDay(5.00)
    call SetPlayerStateBJ(Player(0), PLAYER_STATE_RESOURCE_GOLD, 100)
    call SetPlayerStateBJ(Player(0), PLAYER_STATE_RESOURCE_LUMBER, 150)
    call SetUnitColor(gg_unit_o60Q_0014, PLAYER_COLOR_RED)
    call SetPlayerHandicapXPBJ(Player(0), 15.00)
    set udg_Rend=gg_unit_O617_0012
    call ConditionalTriggerExecute(gg_trg_Intro_Cinemathic)
    call ConditionalTriggerExecute(gg_trg_Creep_Multiplier)
endfunction

//===========================================================================
function InitTrig_Initialization takes nothing returns nothing
    set gg_trg_Initialization=CreateTrigger()
    call TriggerAddAction(gg_trg_Initialization, function Trig_Initialization_Actions)
endfunction

//===========================================================================
// Trigger: FaceanimLoader
//===========================================================================
function Trig_FaceanimLoader_Actions takes nothing returns nothing
    // InitFacialAnims
    // Utok
    call LoadUtok01FacialAnimations()
    call LoadUtok02FacialAnimations()
    // Rend
    call LoadRend01FacialAnimations()
    call LoadRend02FacialAnimations()
    call LoadRend03FacialAnimations()
    call LoadRend04FacialAnimations()
    call LoadRend05FacialAnimations()
    call LoadRend06FacialAnimations()
    call LoadRend07FacialAnimations()
    call LoadPeon01FacialAnimations()
    call LoadRend08FacialAnimations()
    call LoadRend09FacialAnimations()
    call LoadRend10FacialAnimations()
    // Gunt
    call LoadGrunt01FacialAnimations()
    // Footman
    call LoadFootman01FacialAnimations()
    call LoadFootman02FacialAnimations()
    call LoadFootman03FacialAnimations()
    call LoadFootman05FacialAnimations()
    call LoadFootman06FacialAnimations()
    call LoadFootman07FacialAnimations()
    // Captain
    call LoadCaptain01FacialAnimations()
    call LoadCaptain02FacialAnimations()
    call LoadCaptain03FacialAnimations()
endfunction

//===========================================================================
function InitTrig_FaceanimLoader takes nothing returns nothing
    set gg_trg_FaceanimLoader=CreateTrigger()
    call TriggerAddAction(gg_trg_FaceanimLoader, function Trig_FaceanimLoader_Actions)
endfunction

//===========================================================================
// Trigger: Cinematic Tree Stand
//===========================================================================
function Trig_Cinematic_Tree_Stand_Func001Func001Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() < 45.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cinematic_Tree_Stand_Func001Func001C takes nothing returns boolean
    if ( not ( GetDestructableTypeId(GetEnumDestructable()) == 'WTst' ) ) then
        return false
    endif
    if ( not ( IsDestructableAliveBJ(GetEnumDestructable()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cinematic_Tree_Stand_Func001A takes nothing returns nothing
    if ( Trig_Cinematic_Tree_Stand_Func001Func001C() ) then
        if ( Trig_Cinematic_Tree_Stand_Func001Func001Func001C() ) then
            call QueueDestructableAnimationBJ(GetEnumDestructable(), ( "Stand " + I2S(GetRandomInt(1, 2)) ))
        else
            // Does nothing
        endif
    else
        // Does nothing
    endif
endfunction

function Trig_Cinematic_Tree_Stand_Actions takes nothing returns nothing
    call EnumDestructablesInRectAll(GetPlayableMapRect(), function Trig_Cinematic_Tree_Stand_Func001A)
endfunction

//===========================================================================
function InitTrig_Cinematic_Tree_Stand takes nothing returns nothing
    set gg_trg_Cinematic_Tree_Stand=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Cinematic_Tree_Stand, 5.00)
    call TriggerAddAction(gg_trg_Cinematic_Tree_Stand, function Trig_Cinematic_Tree_Stand_Actions)
endfunction

//===========================================================================
// Trigger: MusicList
//===========================================================================
function Trig_MusicList_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Playlist="Warcraft2\\Music\\OrcTheme1.mp3;Warcraft2\\Music\\OrcTheme2.mp3;Warcraft2\\Music\\OrcTheme3.mp3;Warcraft2\\Music\\OrcTheme4.mp3;Warcraft2\\Music\\OrcTheme5.mp3"
    call SetMapMusic(udg_Playlist, false, 0)
endfunction

//===========================================================================
function InitTrig_MusicList takes nothing returns nothing
    set gg_trg_MusicList=CreateTrigger()
    call TriggerAddAction(gg_trg_MusicList, function Trig_MusicList_Actions)
endfunction

//===========================================================================
// Trigger: Exp Gain
//
// Холод собачий
//===========================================================================
function Trig_Exp_Gain_Conditions takes nothing returns boolean
    if ( not ( GetHeroLevel(udg_Rend) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Exp_Gain_Actions takes nothing returns nothing
    call SuspendHeroXPBJ(false, udg_Rend)
endfunction

//===========================================================================
function InitTrig_Exp_Gain takes nothing returns nothing
    set gg_trg_Exp_Gain=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Exp_Gain, EVENT_PLAYER_HERO_LEVEL)
    call TriggerAddCondition(gg_trg_Exp_Gain, Condition(function Trig_Exp_Gain_Conditions))
    call TriggerAddAction(gg_trg_Exp_Gain, function Trig_Exp_Gain_Actions)
endfunction

//===========================================================================
// Trigger: Creep Multiplier
//===========================================================================
function Trig_Creep_Multiplier_Func002C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    return true
endfunction

function Trig_Creep_Multiplier_Func003C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_Creep_Multiplier_Func004C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Creep_Multiplier_Func006A takes nothing returns nothing
    call BlzSetUnitMaxHP(GetEnumUnit(), ( BlzGetUnitMaxHP(GetEnumUnit()) + ( GetUnitLevel(GetEnumUnit()) * udg_CreepHP ) ))
    call SetUnitLifePercentBJ(GetEnumUnit(), 100)
    call BlzSetUnitWeaponIntegerFieldBJ(GetEnumUnit(), UNIT_WEAPON_IF_ATTACK_DAMAGE_BASE, 0, ( BlzGetUnitBaseDamage(GetEnumUnit(), 0) + ( GetUnitLevel(GetEnumUnit()) * udg_CreepDMG ) ))
    call BlzSetUnitWeaponIntegerFieldBJ(GetEnumUnit(), UNIT_WEAPON_IF_ATTACK_DAMAGE_BASE, 1, ( BlzGetUnitBaseDamage(GetEnumUnit(), 1) + ( GetUnitLevel(GetEnumUnit()) * udg_CreepDMG ) ))
endfunction

function Trig_Creep_Multiplier_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    if ( Trig_Creep_Multiplier_Func002C() ) then
        set udg_CreepHP=50
        set udg_CreepDMG=2
    else
    endif
    if ( Trig_Creep_Multiplier_Func003C() ) then
        set udg_CreepHP=100
        set udg_CreepDMG=4
    else
    endif
    if ( Trig_Creep_Multiplier_Func004C() ) then
        set udg_CreepHP=150
        set udg_CreepDMG=6
    else
    endif
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_AGGRESSIVE)), function Trig_Creep_Multiplier_Func006A)
endfunction

//===========================================================================
function InitTrig_Creep_Multiplier takes nothing returns nothing
    set gg_trg_Creep_Multiplier=CreateTrigger()
    call TriggerAddAction(gg_trg_Creep_Multiplier, function Trig_Creep_Multiplier_Actions)
endfunction

//===========================================================================
// Trigger: Neutral Smart Attack
//===========================================================================
function Trig_Neutral_Smart_Attack_Conditions takes nothing returns boolean
    if ( not ( GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") ) ) then
        return false
    endif
    if ( not ( BlzIsUnitInvulnerable(GetOrderTargetUnit()) != true ) ) then
        return false
    endif
    if ( not ( BlzIsSelectionEnabled() == true ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetOrderTargetUnit()) == Player(PLAYER_NEUTRAL_PASSIVE) ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetOrderTargetUnit(), UNIT_TYPE_STRUCTURE) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Neutral_Smart_Attack_Actions takes nothing returns nothing
    local unit u= GetOrderTargetUnit()
    set u=GetOrderTargetUnit()
    set udg_Neutral_Smart_Order=IssueTargetOrder(GetTriggerUnit(), "attack", u)
endfunction

//===========================================================================
function InitTrig_Neutral_Smart_Attack takes nothing returns nothing
    set gg_trg_Neutral_Smart_Attack=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Neutral_Smart_Attack, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    call TriggerAddCondition(gg_trg_Neutral_Smart_Attack, Condition(function Trig_Neutral_Smart_Attack_Conditions))
    call TriggerAddAction(gg_trg_Neutral_Smart_Attack, function Trig_Neutral_Smart_Attack_Actions)
endfunction

//===========================================================================
// Trigger: Easy
//===========================================================================
function Trig_Easy_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    return true
endfunction

function Trig_Easy_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetPlayerTechResearchedSwap('Rhme', 0, Player(1))
    call SetPlayerTechResearchedSwap('Rhar', 0, Player(1))
    set udg_WolfAttackDelayDownBoundary=65.00
    set udg_WolfAttackDelayUpBoundary=145.00
    set udg_TimerValue=55.00
    call SetResourceAmount(gg_unit_n60O_0013, 15000)
    call SetResourceAmount(gg_unit_n60O_0011, 25000)
    call RemoveUnit(gg_unit_ngnv_0015)
    call RemoveUnit(gg_unit_ngnb_0051)
    call RemoveUnit(gg_unit_nwen_0077)
endfunction

//===========================================================================
function InitTrig_Easy takes nothing returns nothing
    set gg_trg_Easy=CreateTrigger()
    call TriggerAddCondition(gg_trg_Easy, Condition(function Trig_Easy_Conditions))
    call TriggerAddAction(gg_trg_Easy, function Trig_Easy_Actions)
endfunction

//===========================================================================
// Trigger: Normal
//===========================================================================
function Trig_Normal_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_Normal_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetPlayerTechResearchedSwap('Rhme', 1, Player(1))
    call SetPlayerTechResearchedSwap('Rhar', 1, Player(1))
    set udg_WolfAttackDelayDownBoundary=35.00
    set udg_WolfAttackDelayUpBoundary=115.00
    set udg_TimerValue=45.00
    call SetResourceAmount(gg_unit_n60O_0013, 20000)
    call SetResourceAmount(gg_unit_n60O_0011, 30000)
endfunction

//===========================================================================
function InitTrig_Normal takes nothing returns nothing
    set gg_trg_Normal=CreateTrigger()
    call TriggerAddCondition(gg_trg_Normal, Condition(function Trig_Normal_Conditions))
    call TriggerAddAction(gg_trg_Normal, function Trig_Normal_Actions)
endfunction

//===========================================================================
// Trigger: Hard
//===========================================================================
function Trig_Hard_Conditions takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hard_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetPlayerTechResearchedSwap('Rhme', 2, Player(1))
    call SetPlayerTechResearchedSwap('Rhar', 2, Player(1))
    set udg_WolfAttackDelayDownBoundary=25.00
    set udg_WolfAttackDelayUpBoundary=65.00
    set udg_TimerValue=35.00
    call SetResourceAmount(gg_unit_n60O_0013, 25000)
    call SetResourceAmount(gg_unit_n60O_0011, 40000)
endfunction

//===========================================================================
function InitTrig_Hard takes nothing returns nothing
    set gg_trg_Hard=CreateTrigger()
    call TriggerAddCondition(gg_trg_Hard, Condition(function Trig_Hard_Conditions))
    call TriggerAddAction(gg_trg_Hard, function Trig_Hard_Actions)
endfunction

//===========================================================================
// Trigger: SnowcapsOn
//===========================================================================
function Trig_SnowcapsOn_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'o614' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SnowcapsOn_Func002C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'o610' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SnowcapsOn_Func003C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'o60X' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SnowcapsOn_Actions takes nothing returns nothing
    if ( Trig_SnowcapsOn_Func001C() ) then
        call UnitAddAbilityBJ('A61M', GetConstructedStructure())
    else
    endif
    if ( Trig_SnowcapsOn_Func002C() ) then
        call UnitAddAbilityBJ('A630', GetConstructedStructure())
    else
    endif
    if ( Trig_SnowcapsOn_Func003C() ) then
        call UnitAddAbilityBJ('A62Z', GetConstructedStructure())
    else
    endif
endfunction

//===========================================================================
function InitTrig_SnowcapsOn takes nothing returns nothing
    set gg_trg_SnowcapsOn=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_SnowcapsOn, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH)
    call TriggerAddAction(gg_trg_SnowcapsOn, function Trig_SnowcapsOn_Actions)
endfunction

//===========================================================================
// Trigger: SnowcapsOff
//===========================================================================
function Trig_SnowcapsOff_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'o614' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SnowcapsOff_Func002C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'o610' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SnowcapsOff_Func003C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'o60X' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SnowcapsOff_Actions takes nothing returns nothing
    if ( Trig_SnowcapsOff_Func001C() ) then
        call UnitRemoveAbilityBJ('A61M', GetDyingUnit())
    else
    endif
    if ( Trig_SnowcapsOff_Func002C() ) then
        call UnitRemoveAbilityBJ('A630', GetDyingUnit())
    else
    endif
    if ( Trig_SnowcapsOff_Func003C() ) then
        call UnitRemoveAbilityBJ('A62Z', GetDyingUnit())
    else
    endif
endfunction

//===========================================================================
function InitTrig_SnowcapsOff takes nothing returns nothing
    set gg_trg_SnowcapsOff=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_SnowcapsOff, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(gg_trg_SnowcapsOff, function Trig_SnowcapsOff_Actions)
endfunction

//===========================================================================
// Trigger: PeriodicSeagull 1
//===========================================================================
function Trig_PeriodicSeagull_1_Actions takes nothing returns nothing
    call SetSoundPositionLocBJ(gg_snd_Seagull1, GetRandomLocInRect(GetPlayableMapRect()), 150.00)
    call PlaySoundBJ(gg_snd_Seagull1)
endfunction

//===========================================================================
function InitTrig_PeriodicSeagull_1 takes nothing returns nothing
    set gg_trg_PeriodicSeagull_1=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_PeriodicSeagull_1, GetRandomReal(60.00, 150.00))
    call TriggerAddAction(gg_trg_PeriodicSeagull_1, function Trig_PeriodicSeagull_1_Actions)
endfunction

//===========================================================================
// Trigger: PeriodicSeagull 2
//===========================================================================
function Trig_PeriodicSeagull_2_Actions takes nothing returns nothing
    call SetSoundPositionLocBJ(gg_snd_Seagull101, GetRandomLocInRect(GetPlayableMapRect()), 150.00)
    call PlaySoundBJ(gg_snd_Seagull101)
endfunction

//===========================================================================
function InitTrig_PeriodicSeagull_2 takes nothing returns nothing
    set gg_trg_PeriodicSeagull_2=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_PeriodicSeagull_2, GetRandomReal(60.00, 150.00))
    call TriggerAddAction(gg_trg_PeriodicSeagull_2, function Trig_PeriodicSeagull_2_Actions)
endfunction

//===========================================================================
// Trigger: SettingQuests
//===========================================================================
function Trig_SettingQuests_Func012Func003C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_SettingQuests_Func012C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_SettingQuests_Func014Func003C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_SettingQuests_Func014C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_SettingQuests_Func045Func003C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_SettingQuests_Func045C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_SettingQuests_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    // Landing
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_013", "TRIGSTR_014", "ReplaceableTextures\\CommandButtons\\BTNBasicStruct.blp")
    set udg_Landing=GetLastCreatedQuestBJ()
    call CreateQuestItemBJ(udg_Landing, "TRIGSTR_015")
    set udg_LandingRequirment01=GetLastCreatedQuestItemBJ()
    call CreateQuestItemBJ(udg_Landing, "TRIGSTR_016")
    set udg_LandingRequirment02=GetLastCreatedQuestItemBJ()
    // Resources
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_039", "TRIGSTR_040", "ReplaceableTextures\\CommandButtons\\BTNGatherGold.blp")
    set udg_Resources=GetLastCreatedQuestBJ()
    if ( Trig_SettingQuests_Func012C() ) then
        call CreateQuestItemBJ(udg_Resources, "TRIGSTR_041")
    else
        if ( Trig_SettingQuests_Func012Func003C() ) then
            call CreateQuestItemBJ(udg_Resources, "TRIGSTR_210")
        else
            call CreateQuestItemBJ(udg_Resources, "TRIGSTR_211")
        endif
    endif
    set udg_ResRequirem01=GetLastCreatedQuestItemBJ()
    if ( Trig_SettingQuests_Func014C() ) then
        call CreateQuestItemBJ(udg_Resources, "TRIGSTR_042")
    else
        if ( Trig_SettingQuests_Func014Func003C() ) then
            call CreateQuestItemBJ(udg_Resources, "TRIGSTR_215")
        else
            call CreateQuestItemBJ(udg_Resources, "TRIGSTR_216")
        endif
    endif
    set udg_ResRequirem02=GetLastCreatedQuestItemBJ()
    // Discover Quest Landing
    call TriggerSleepAction(10.00)
    call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_018")
    call CreateLeaderboardBJ(bj_FORCE_PLAYER[0], "TRIGSTR_086")
    set udg_Board=GetLastCreatedLeaderboard()
    call LeaderboardAddItemBJ(Player(0), udg_Board, "TRIGSTR_238", udg_Farms)
    call LeaderboardAddItemBJ(Player(3), udg_Board, "TRIGSTR_2159", 0)
    call LeaderboardSetPlayerItemLabelColorBJ(Player(3), udg_Board, 100.00, 0.00, 0.00, 0)
    call LeaderboardSetPlayerItemValueColorBJ(Player(3), udg_Board, 100.00, 0.00, 0.00, 0)
    // Create Undiscovered Quests
    // Wolves
    call CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED, "TRIGSTR_101", "TRIGSTR_102", "ReplaceableTextures\\CommandButtons\\BTNTimberWolf.blp")
    set udg_WolfsQuest=GetLastCreatedQuestBJ()
    call CreateQuestItemBJ(udg_WolfsQuest, "TRIGSTR_103")
    set udg_WRequirem=GetLastCreatedQuestItemBJ()
    // Humans
    call CreateQuestBJ(bj_QUESTTYPE_REQ_UNDISCOVERED, "TRIGSTR_127", "TRIGSTR_128", "ReplaceableTextures\\CommandButtons\\BTNHumanCaptureFlag.blp")
    set udg_HumanQuest=GetLastCreatedQuestBJ()
    call CreateQuestItemBJ(udg_HumanQuest, "TRIGSTR_129")
    set udg_HRequirem01=GetLastCreatedQuestItemBJ()
    call CreateQuestItemBJ(udg_HumanQuest, "TRIGSTR_130")
    set udg_HRequirem02=GetLastCreatedQuestItemBJ()
    // Discover Quest Resources
    call TriggerSleepAction(10.00)
    call SetSpeechVolumeGroupsBJ()
    call PlayDialogueFromSpeakerEx(bj_FORCE_PLAYER[0], udg_Rend, 'O617', gg_snd_WC2Orc01Rend6, bj_TIMETYPE_ADD, 0, true)
    call VolumeGroupResetBJ()
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    if ( Trig_SettingQuests_Func045C() ) then
        call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_043")
    else
        if ( Trig_SettingQuests_Func045Func003C() ) then
            call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_220")
        else
            call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_237")
        endif
    endif
    // //
    call LeaderboardAddItemBJ(Player(1), udg_Board, "TRIGSTR_204", udg_GoldStash)
    call LeaderboardSetPlayerItemLabelColorBJ(Player(1), udg_Board, 100.00, 80.00, 20, 0)
    call LeaderboardSetPlayerItemValueColorBJ(Player(1), udg_Board, 100.00, 80.00, 20, 0)
    // //
    call LeaderboardAddItemBJ(Player(2), udg_Board, "TRIGSTR_205", udg_LumberStash)
    call LeaderboardSetPlayerItemLabelColorBJ(Player(2), udg_Board, 20.00, 100.00, 20.00, 0)
    call LeaderboardSetPlayerItemValueColorBJ(Player(2), udg_Board, 20.00, 100.00, 20, 0)
    // //
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    call PanCameraToTimedLocForPlayer(Player(0), GetRectCenter(gg_rct_Supply_Crates), 1.00)
    call TriggerSleepAction(1.00)
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_1977")
endfunction

//===========================================================================
function InitTrig_SettingQuests takes nothing returns nothing
    set gg_trg_SettingQuests=CreateTrigger()
    call TriggerAddAction(gg_trg_SettingQuests, function Trig_SettingQuests_Actions)
endfunction

//===========================================================================
// Trigger: HintUtokAttackedTriggered
//===========================================================================
function Trig_HintUtokAttackedTriggered_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QueuedTriggerAddBJ(gg_trg_HintUtokAttackedQ, true)
endfunction

//===========================================================================
function InitTrig_HintUtokAttackedTriggered takes nothing returns nothing
    set gg_trg_HintUtokAttackedTriggered=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_HintUtokAttackedTriggered, gg_unit_o605_0006, EVENT_UNIT_ATTACKED)
    call TriggerAddAction(gg_trg_HintUtokAttackedTriggered, function Trig_HintUtokAttackedTriggered_Actions)
endfunction

//===========================================================================
// Trigger: HintUtokAttackedQ
//===========================================================================
function Trig_HintUtokAttackedQ_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_HINT, "TRIGSTR_2059")
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_HintUtokAttackedQ takes nothing returns nothing
    set gg_trg_HintUtokAttackedQ=CreateTrigger()
    call TriggerAddAction(gg_trg_HintUtokAttackedQ, function Trig_HintUtokAttackedQ_Actions)
endfunction

//===========================================================================
// Trigger: HintGoldIncrementQ
//===========================================================================
function Trig_HintGoldIncrementQ_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_HINT, "TRIGSTR_2184")
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_HintGoldIncrementQ takes nothing returns nothing
    set gg_trg_HintGoldIncrementQ=CreateTrigger()
    call TriggerAddAction(gg_trg_HintGoldIncrementQ, function Trig_HintGoldIncrementQ_Actions)
endfunction

//===========================================================================
// Trigger: HintLumberIncrementQ
//===========================================================================
function Trig_HintLumberIncrementQ_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_HINT, "TRIGSTR_2183")
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_HintLumberIncrementQ takes nothing returns nothing
    set gg_trg_HintLumberIncrementQ=CreateTrigger()
    call TriggerAddAction(gg_trg_HintLumberIncrementQ, function Trig_HintLumberIncrementQ_Actions)
endfunction

//===========================================================================
// Trigger: QuestsCompleted
//===========================================================================
function Trig_QuestsCompleted_Conditions takes nothing returns boolean
    if ( not ( IsQuestCompleted(udg_Resources) == true ) ) then
        return false
    endif
    if ( not ( IsQuestCompleted(udg_Landing) == true ) ) then
        return false
    endif
    if ( not ( IsQuestCompleted(udg_HumanQuest) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestsCompleted_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(15.00)
    call ConditionalTriggerExecute(gg_trg_Final_Cinematic)
endfunction

//===========================================================================
function InitTrig_QuestsCompleted takes nothing returns nothing
    set gg_trg_QuestsCompleted=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_QuestsCompleted, 2.00)
    call TriggerAddCondition(gg_trg_QuestsCompleted, Condition(function Trig_QuestsCompleted_Conditions))
    call TriggerAddAction(gg_trg_QuestsCompleted, function Trig_QuestsCompleted_Actions)
endfunction

//===========================================================================
// Trigger: QuestMCampChanged01
//===========================================================================
function Trig_QuestMCampChanged01_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'o610' ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestMCampChanged01_Func009C takes nothing returns boolean
    if ( not ( udg_Farms < 4 ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestMCampChanged01_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call PlaySoundBJ(gg_snd_GoodJob)
    call LeaderboardSetPlayerItemValueBJ(Player(3), udg_Board, 1)
    call TriggerSleepAction(2.00)
    call QuestItemSetCompletedBJ(udg_LandingRequirment01, true)
    call LeaderboardRemovePlayerItemBJ(Player(3), udg_Board)
    if ( Trig_QuestMCampChanged01_Func009C() ) then
        call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_UPDATED, "TRIGSTR_022")
    else
    endif
endfunction

//===========================================================================
function InitTrig_QuestMCampChanged01 takes nothing returns nothing
    set gg_trg_QuestMCampChanged01=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_QuestMCampChanged01, Player(0), EVENT_PLAYER_UNIT_CONSTRUCT_FINISH)
    call TriggerAddCondition(gg_trg_QuestMCampChanged01, Condition(function Trig_QuestMCampChanged01_Conditions))
    call TriggerAddAction(gg_trg_QuestMCampChanged01, function Trig_QuestMCampChanged01_Actions)
endfunction

//===========================================================================
// Trigger: QuestMCampChanged02
//===========================================================================
function Trig_QuestMCampChanged02_Conditions takes nothing returns boolean
    if ( not ( udg_Farms >= 4 ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestMCampChanged02_Func007C takes nothing returns boolean
    if ( not ( IsQuestItemCompleted(udg_LandingRequirment01) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestMCampChanged02_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestItemSetCompletedBJ(udg_LandingRequirment02, true)
    call DisableTrigger(gg_trg_FarmConstructed)
    call LeaderboardRemovePlayerItemBJ(Player(0), udg_Board)
    call TriggerSleepAction(2.00)
    if ( Trig_QuestMCampChanged02_Func007C() ) then
        call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_UPDATED, "TRIGSTR_023")
    else
    endif
endfunction

//===========================================================================
function InitTrig_QuestMCampChanged02 takes nothing returns nothing
    set gg_trg_QuestMCampChanged02=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_QuestMCampChanged02, 2.00)
    call TriggerAddCondition(gg_trg_QuestMCampChanged02, Condition(function Trig_QuestMCampChanged02_Conditions))
    call TriggerAddAction(gg_trg_QuestMCampChanged02, function Trig_QuestMCampChanged02_Actions)
endfunction

//===========================================================================
// Trigger: QuestCampCompletedTriggered
//===========================================================================
function Trig_QuestCampCompletedTriggered_Conditions takes nothing returns boolean
    if ( not ( IsQuestItemCompleted(udg_LandingRequirment01) == true ) ) then
        return false
    endif
    if ( not ( IsQuestItemCompleted(udg_LandingRequirment02) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestCampCompletedTriggered_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QueuedTriggerAddBJ(gg_trg_QuestMCampCompleted, true)
endfunction

//===========================================================================
function InitTrig_QuestCampCompletedTriggered takes nothing returns nothing
    set gg_trg_QuestCampCompletedTriggered=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_QuestCampCompletedTriggered, 2.00)
    call TriggerAddCondition(gg_trg_QuestCampCompletedTriggered, Condition(function Trig_QuestCampCompletedTriggered_Conditions))
    call TriggerAddAction(gg_trg_QuestCampCompletedTriggered, function Trig_QuestCampCompletedTriggered_Actions)
endfunction

//===========================================================================
// Trigger: QuestMCampCompleted
//===========================================================================
function Trig_QuestMCampCompleted_Func002C takes nothing returns boolean
    if ( not ( IsQuestCompleted(udg_Resources) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestMCampCompleted_Func006C takes nothing returns boolean
    if ( not ( IsQuestCompleted(udg_HumanQuest) == true ) ) then
        return false
    endif
    if ( not ( IsQuestCompleted(udg_Resources) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestMCampCompleted_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    if ( Trig_QuestMCampCompleted_Func002C() ) then
        call DestroyLeaderboardBJ(udg_Board)
    else
    endif
    call QuestSetCompletedBJ(udg_Landing, true)
    call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_025")
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    if ( Trig_QuestMCampCompleted_Func006C() ) then
        call DoNothing()
    else
        call QueuedTriggerAddBJ(gg_trg_Wolf_CinematicQ, true)
        call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
    endif
endfunction

//===========================================================================
function InitTrig_QuestMCampCompleted takes nothing returns nothing
    set gg_trg_QuestMCampCompleted=CreateTrigger()
    call TriggerAddAction(gg_trg_QuestMCampCompleted, function Trig_QuestMCampCompleted_Actions)
endfunction

//===========================================================================
// Trigger: QuestResChanged01
//===========================================================================
function Trig_QuestResChanged01_Func001Func001C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    if ( not ( udg_GoldStash >= 25000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestResChanged01_Func001Func002C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    if ( not ( udg_GoldStash >= 20000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestResChanged01_Func001Func003C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    if ( not ( udg_GoldStash >= 15000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestResChanged01_Func001C takes nothing returns boolean
    if ( Trig_QuestResChanged01_Func001Func001C() ) then
        return true
    endif
    if ( Trig_QuestResChanged01_Func001Func002C() ) then
        return true
    endif
    if ( Trig_QuestResChanged01_Func001Func003C() ) then
        return true
    endif
    return false
endfunction

function Trig_QuestResChanged01_Conditions takes nothing returns boolean
    if ( not Trig_QuestResChanged01_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_QuestResChanged01_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestItemSetCompletedBJ(udg_ResRequirem01, true)
    call LeaderboardRemovePlayerItemBJ(Player(1), udg_Board)
    call QueuedTriggerAddBJ(gg_trg_QuestMessageResGoldUpdated, true)
endfunction

//===========================================================================
function InitTrig_QuestResChanged01 takes nothing returns nothing
    set gg_trg_QuestResChanged01=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_QuestResChanged01, 1.00)
    call TriggerAddCondition(gg_trg_QuestResChanged01, Condition(function Trig_QuestResChanged01_Conditions))
    call TriggerAddAction(gg_trg_QuestResChanged01, function Trig_QuestResChanged01_Actions)
endfunction

//===========================================================================
// Trigger: QuestMessageResGoldUpdated
//===========================================================================
function Trig_QuestMessageResGoldUpdated_Func003Func001Func002C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestMessageResGoldUpdated_Func003Func001C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestMessageResGoldUpdated_Func003C takes nothing returns boolean
    if ( not ( IsQuestItemCompleted(udg_ResRequirem02) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestMessageResGoldUpdated_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    if ( Trig_QuestMessageResGoldUpdated_Func003C() ) then
        if ( Trig_QuestMessageResGoldUpdated_Func003Func001C() ) then
            call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_UPDATED, "TRIGSTR_2065")
        else
            if ( Trig_QuestMessageResGoldUpdated_Func003Func001Func002C() ) then
                call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_UPDATED, "TRIGSTR_2067")
            else
                call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_UPDATED, "TRIGSTR_2066")
            endif
        endif
    else
        call DoNothing()
    endif
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_QuestMessageResGoldUpdated takes nothing returns nothing
    set gg_trg_QuestMessageResGoldUpdated=CreateTrigger()
    call TriggerAddAction(gg_trg_QuestMessageResGoldUpdated, function Trig_QuestMessageResGoldUpdated_Actions)
endfunction

//===========================================================================
// Trigger: QuestResChanged02
//===========================================================================
function Trig_QuestResChanged02_Func002Func001C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    if ( not ( udg_LumberStash >= 25000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestResChanged02_Func002Func002C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    if ( not ( udg_LumberStash >= 20000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestResChanged02_Func002Func003C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    if ( not ( udg_LumberStash >= 15000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestResChanged02_Func002C takes nothing returns boolean
    if ( Trig_QuestResChanged02_Func002Func001C() ) then
        return true
    endif
    if ( Trig_QuestResChanged02_Func002Func002C() ) then
        return true
    endif
    if ( Trig_QuestResChanged02_Func002Func003C() ) then
        return true
    endif
    return false
endfunction

function Trig_QuestResChanged02_Conditions takes nothing returns boolean
    if ( not Trig_QuestResChanged02_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_QuestResChanged02_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestItemSetCompletedBJ(udg_ResRequirem02, true)
    call LeaderboardRemovePlayerItemBJ(Player(2), udg_Board)
    call QueuedTriggerAddBJ(gg_trg_QuestMessageResLumberUpdated, true)
endfunction

//===========================================================================
function InitTrig_QuestResChanged02 takes nothing returns nothing
    set gg_trg_QuestResChanged02=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_QuestResChanged02, 1.00)
    call TriggerAddCondition(gg_trg_QuestResChanged02, Condition(function Trig_QuestResChanged02_Conditions))
    call TriggerAddAction(gg_trg_QuestResChanged02, function Trig_QuestResChanged02_Actions)
endfunction

//===========================================================================
// Trigger: QuestMessageResLumberUpdated
//===========================================================================
function Trig_QuestMessageResLumberUpdated_Func003Func001Func003C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestMessageResLumberUpdated_Func003Func001C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestMessageResLumberUpdated_Func003C takes nothing returns boolean
    if ( not ( IsQuestItemCompleted(udg_ResRequirem01) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestMessageResLumberUpdated_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    if ( Trig_QuestMessageResLumberUpdated_Func003C() ) then
        if ( Trig_QuestMessageResLumberUpdated_Func003Func001C() ) then
            call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_UPDATED, "TRIGSTR_2071")
        else
            if ( Trig_QuestMessageResLumberUpdated_Func003Func001Func003C() ) then
                call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_UPDATED, "TRIGSTR_2073")
            else
                call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_UPDATED, "TRIGSTR_2072")
            endif
        endif
    else
        call DoNothing()
    endif
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_QuestMessageResLumberUpdated takes nothing returns nothing
    set gg_trg_QuestMessageResLumberUpdated=CreateTrigger()
    call TriggerAddAction(gg_trg_QuestMessageResLumberUpdated, function Trig_QuestMessageResLumberUpdated_Actions)
endfunction

//===========================================================================
// Trigger: QuestResCompleted
//===========================================================================
function Trig_QuestResCompleted_Conditions takes nothing returns boolean
    if ( not ( IsQuestItemCompleted(udg_ResRequirem01) == true ) ) then
        return false
    endif
    if ( not ( IsQuestItemCompleted(udg_ResRequirem02) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestResCompleted_Func005C takes nothing returns boolean
    if ( not ( IsQuestCompleted(udg_Landing) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_QuestResCompleted_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    if ( Trig_QuestResCompleted_Func005C() ) then
        call DestroyLeaderboardBJ(udg_Board)
    else
    endif
    call QuestSetCompletedBJ(udg_Resources, true)
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    call QueuedTriggerAddBJ(gg_trg_QuestMessageResCompleted, true)
endfunction

//===========================================================================
function InitTrig_QuestResCompleted takes nothing returns nothing
    set gg_trg_QuestResCompleted=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_QuestResCompleted, 1.00)
    call TriggerAddCondition(gg_trg_QuestResCompleted, Condition(function Trig_QuestResCompleted_Conditions))
    call TriggerAddAction(gg_trg_QuestResCompleted, function Trig_QuestResCompleted_Actions)
endfunction

//===========================================================================
// Trigger: QuestMessageResCompleted
//===========================================================================
function Trig_QuestMessageResCompleted_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_2064")
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_QuestMessageResCompleted takes nothing returns nothing
    set gg_trg_QuestMessageResCompleted=CreateTrigger()
    call TriggerAddAction(gg_trg_QuestMessageResCompleted, function Trig_QuestMessageResCompleted_Actions)
endfunction

//===========================================================================
// Trigger: HumansQuest
//===========================================================================
function Trig_HumansQuest_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestSetDiscoveredBJ(udg_HumanQuest, true)
    call ConditionalTriggerExecute(gg_trg_TreeBridgeActivated)
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    call SetSpeechVolumeGroupsBJ()
    call PlayDialogueFromSpeakerEx(bj_FORCE_PLAYER[0], udg_Rend, 'O617', gg_snd_WC2Orc01Rend9, bj_TIMETYPE_ADD, 0, true)
    call VolumeGroupResetBJ()
    call TriggerSleepAction(3.00)
    call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_135")
    call TriggerSleepAction(2.00)
    call ConditionalTriggerExecute(gg_trg_Timer)
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_HumansQuest takes nothing returns nothing
    set gg_trg_HumansQuest=CreateTrigger()
    call TriggerAddAction(gg_trg_HumansQuest, function Trig_HumansQuest_Actions)
endfunction

//===========================================================================
// Trigger: HumansQuestChanged
//===========================================================================
function Trig_HumansQuestChanged_Conditions takes nothing returns boolean
    if ( not ( IsQuestDiscovered(udg_HumanQuest) == true ) ) then
        return false
    endif
    if ( not ( IsQuestItemCompleted(udg_HRequirem01) == true ) ) then
        return false
    endif
    if ( not ( CountLivingPlayerUnitsOfTypeId('h60K', Player(1)) == 0 ) ) then
        return false
    endif
    if ( not ( CountLivingPlayerUnitsOfTypeId('h621', Player(1)) == 0 ) ) then
        return false
    endif
    if ( not ( CountLivingPlayerUnitsOfTypeId('h620', Player(1)) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumansQuestChanged_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestItemSetCompletedBJ(udg_HRequirem02, true)
endfunction

//===========================================================================
function InitTrig_HumansQuestChanged takes nothing returns nothing
    set gg_trg_HumansQuestChanged=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_HumansQuestChanged, 2)
    call TriggerAddCondition(gg_trg_HumansQuestChanged, Condition(function Trig_HumansQuestChanged_Conditions))
    call TriggerAddAction(gg_trg_HumansQuestChanged, function Trig_HumansQuestChanged_Actions)
endfunction

//===========================================================================
// Trigger: HumansCompleted
//===========================================================================
function Trig_HumansCompleted_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestSetCompletedBJ(udg_HumanQuest, true)
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_151")
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_HumansCompleted takes nothing returns nothing
    set gg_trg_HumansCompleted=CreateTrigger()
    call TriggerAddAction(gg_trg_HumansCompleted, function Trig_HumansCompleted_Actions)
endfunction

//===========================================================================
// Trigger: WolfQuestTriggered
//===========================================================================
function Trig_WolfQuestTriggered_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetAttacker()) == Player(8) ) ) then
        return false
    endif
    return true
endfunction

function Trig_WolfQuestTriggered_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QueuedTriggerAddBJ(gg_trg_WolfQuest, true)
endfunction

//===========================================================================
function InitTrig_WolfQuestTriggered takes nothing returns nothing
    set gg_trg_WolfQuestTriggered=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_WolfQuestTriggered, Player(0), EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_WolfQuestTriggered, Condition(function Trig_WolfQuestTriggered_Conditions))
    call TriggerAddAction(gg_trg_WolfQuestTriggered, function Trig_WolfQuestTriggered_Actions)
endfunction

//===========================================================================
// Trigger: WolfQuest
//===========================================================================
function Trig_WolfQuest_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    call SetDestructableInvulnerableBJ(gg_dest_B00C_1903, false)
    call SetDestructableInvulnerableBJ(gg_dest_B00C_2125, false)
    call SetDestructableInvulnerableBJ(gg_dest_B00C_2126, false)
    call QuestSetDiscoveredBJ(udg_WolfsQuest, true)
    call SetSpeechVolumeGroupsBJ()
    call PlayDialogueFromSpeakerTypeEx(bj_FORCE_PLAYER[0], Player(0), 'o60D', GetCameraTargetPositionLoc(), gg_snd_WC2Orc01Peon1, bj_TIMETYPE_ADD, 0, true)
    call PlayDialogueFromSpeakerEx(bj_FORCE_PLAYER[0], udg_Rend, 'O617', gg_snd_WC2Orc01Rend7, bj_TIMETYPE_ADD, 0, true)
    call VolumeGroupResetBJ()
    call TriggerSleepAction(2)
    call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_104")
    call TriggerSleepAction(1.00)
    call PlaySoundAtPointBJ(gg_snd_DuskWolf, 100, GetRectCenter(gg_rct_OrcCamp), 0)
    call ConditionalTriggerExecute(gg_trg_Wolf_Attack)
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_WolfQuest takes nothing returns nothing
    set gg_trg_WolfQuest=CreateTrigger()
    call TriggerAddAction(gg_trg_WolfQuest, function Trig_WolfQuest_Actions)
endfunction

//===========================================================================
// Trigger: WolfsCompletedTriggered
//===========================================================================
function Trig_WolfsCompletedTriggered_Conditions takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_1903) == false ) ) then
        return false
    endif
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_2125) == false ) ) then
        return false
    endif
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_2126) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_WolfsCompletedTriggered_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call DisableTrigger(gg_trg_Wolf_Attack)
    call QueuedTriggerAddBJ(gg_trg_WolfCompleted, true)
endfunction

//===========================================================================
function InitTrig_WolfsCompletedTriggered takes nothing returns nothing
    set gg_trg_WolfsCompletedTriggered=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_WolfsCompletedTriggered, 2)
    call TriggerAddCondition(gg_trg_WolfsCompletedTriggered, Condition(function Trig_WolfsCompletedTriggered_Conditions))
    call TriggerAddAction(gg_trg_WolfsCompletedTriggered, function Trig_WolfsCompletedTriggered_Actions)
endfunction

//===========================================================================
// Trigger: WolfCompleted
//===========================================================================
function Trig_WolfCompleted_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestItemSetCompletedBJ(udg_WRequirem, true)
    call QuestSetCompletedBJ(udg_WolfsQuest, true)
    call TriggerSleepAction(2.00)
    call SetSpeechVolumeGroupsBJ()
    call PlayDialogueFromSpeakerEx(bj_FORCE_PLAYER[0], udg_Rend, 'O617', gg_snd_WC2Orc01Rend8, bj_TIMETYPE_ADD, 0, true)
    call VolumeGroupResetBJ()
    call TriggerSleepAction(3.00)
    call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_112")
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_WolfCompleted takes nothing returns nothing
    set gg_trg_WolfCompleted=CreateTrigger()
    call TriggerAddAction(gg_trg_WolfCompleted, function Trig_WolfCompleted_Actions)
endfunction

//===========================================================================
// Trigger: WolfDen01Destroyed
//===========================================================================
function Trig_WolfDen01Destroyed_Func006001003001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(8) )
endfunction

function Trig_WolfDen01Destroyed_Func006001003002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_WolfDen01Destroyed_Func006001003 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == Player(8)), (IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false)) // INLINED!!
endfunction

function Trig_WolfDen01Destroyed_Func006002 takes nothing returns nothing
    call KillUnit(GetEnumUnit())
endfunction

function Trig_WolfDen01Destroyed_Func007002 takes nothing returns nothing
    call SetUnitPositionLoc(GetEnumUnit(), GetRandomLocInRect(gg_rct_WolfLairEscapeCave01))
endfunction

function Trig_WolfDen01Destroyed_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_WolfSpawn01), "Doodads\\Cinematic\\CavernDust\\CavernDust.mdl")
    call CameraSetEQNoiseForPlayer(Player(0), 2.00)
    call TriggerSleepAction(1.00)
    call ForGroupBJ(GetUnitsInRangeOfLocMatching(256.00, GetRectCenter(gg_rct_WolfSpawn01), Condition(function Trig_WolfDen01Destroyed_Func006001003)), function Trig_WolfDen01Destroyed_Func006002)
    call ForGroupBJ(GetUnitsInRectOfPlayer(gg_rct_WolfLair, Player(0)), function Trig_WolfDen01Destroyed_Func007002)
    call CreateDestructableLoc('LTrc', GetRectCenter(gg_rct_WolfLair), GetRandomDirectionDeg(), 1.60, 0)
    call SetDestructableInvulnerableBJ(GetLastCreatedDestructable(), true)
    call TriggerSleepAction(1.00)
    call CameraClearNoiseForPlayer(Player(0))
endfunction

//===========================================================================
function InitTrig_WolfDen01Destroyed takes nothing returns nothing
    set gg_trg_WolfDen01Destroyed=CreateTrigger()
    call TriggerRegisterDeathEvent(gg_trg_WolfDen01Destroyed, gg_dest_B00C_1903)
    call TriggerAddAction(gg_trg_WolfDen01Destroyed, function Trig_WolfDen01Destroyed_Actions)
endfunction

//===========================================================================
// Trigger: WolfDen02Destroyed
//===========================================================================
function Trig_WolfDen02Destroyed_Func006001003001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(8) )
endfunction

function Trig_WolfDen02Destroyed_Func006001003002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_WolfDen02Destroyed_Func006001003 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == Player(8)), (IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false)) // INLINED!!
endfunction

function Trig_WolfDen02Destroyed_Func006002 takes nothing returns nothing
    call KillUnit(GetEnumUnit())
endfunction

function Trig_WolfDen02Destroyed_Func007002 takes nothing returns nothing
    call SetUnitPositionLoc(GetEnumUnit(), GetRandomLocInRect(gg_rct_WolfLairEscapeCave02))
endfunction

function Trig_WolfDen02Destroyed_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_WolfLair03), "Doodads\\Cinematic\\CavernDust\\CavernDust.mdl")
    call CameraSetEQNoiseForPlayer(Player(0), 2.00)
    call TriggerSleepAction(1.00)
    call ForGroupBJ(GetUnitsInRangeOfLocMatching(256.00, GetRectCenter(gg_rct_WolfLair03), Condition(function Trig_WolfDen02Destroyed_Func006001003)), function Trig_WolfDen02Destroyed_Func006002)
    call ForGroupBJ(GetUnitsInRectOfPlayer(gg_rct_WolfLair02, Player(0)), function Trig_WolfDen02Destroyed_Func007002)
    call CreateDestructableLoc('LTrc', GetRectCenter(gg_rct_WolfLair03), GetRandomDirectionDeg(), 1.60, 0)
    call SetDestructableInvulnerableBJ(GetLastCreatedDestructable(), true)
    call TriggerSleepAction(1.00)
    call CameraClearNoiseForPlayer(Player(0))
endfunction

//===========================================================================
function InitTrig_WolfDen02Destroyed takes nothing returns nothing
    set gg_trg_WolfDen02Destroyed=CreateTrigger()
    call TriggerRegisterDeathEvent(gg_trg_WolfDen02Destroyed, gg_dest_B00C_2125)
    call TriggerAddAction(gg_trg_WolfDen02Destroyed, function Trig_WolfDen02Destroyed_Actions)
endfunction

//===========================================================================
// Trigger: WolfDen03Destroyed
//===========================================================================
function Trig_WolfDen03Destroyed_Func006001003001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(8) )
endfunction

function Trig_WolfDen03Destroyed_Func006001003002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_WolfDen03Destroyed_Func006001003 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == Player(8)), (IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false)) // INLINED!!
endfunction

function Trig_WolfDen03Destroyed_Func006002 takes nothing returns nothing
    call KillUnit(GetEnumUnit())
endfunction

function Trig_WolfDen03Destroyed_Func007002 takes nothing returns nothing
    call SetUnitPositionLoc(GetEnumUnit(), GetRandomLocInRect(gg_rct_WolfLairEscapeCave03))
endfunction

function Trig_WolfDen03Destroyed_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_WolfLair02), "Doodads\\Cinematic\\CavernDust\\CavernDust.mdl")
    call CameraSetEQNoiseForPlayer(Player(0), 2.00)
    call TriggerSleepAction(1.00)
    call ForGroupBJ(GetUnitsInRangeOfLocMatching(256.00, GetRectCenter(gg_rct_WolfLair02), Condition(function Trig_WolfDen03Destroyed_Func006001003)), function Trig_WolfDen03Destroyed_Func006002)
    call ForGroupBJ(GetUnitsInRectOfPlayer(gg_rct_WolfLair03, Player(0)), function Trig_WolfDen03Destroyed_Func007002)
    call CreateDestructableLoc('LTrc', GetRectCenter(gg_rct_WolfLair02), GetRandomDirectionDeg(), 1.60, 0)
    call SetDestructableInvulnerableBJ(GetLastCreatedDestructable(), true)
    call TriggerSleepAction(1.00)
    call CameraClearNoiseForPlayer(Player(0))
endfunction

//===========================================================================
function InitTrig_WolfDen03Destroyed takes nothing returns nothing
    set gg_trg_WolfDen03Destroyed=CreateTrigger()
    call TriggerRegisterDeathEvent(gg_trg_WolfDen03Destroyed, gg_dest_B00C_2126)
    call TriggerAddAction(gg_trg_WolfDen03Destroyed, function Trig_WolfDen03Destroyed_Actions)
endfunction

//===========================================================================
// Trigger: GoldIncrement
//===========================================================================
function Trig_GoldIncrement_Conditions takes nothing returns boolean
    if ( not ( udg_GoldStash < 25000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_GoldIncrement_Func001Func001C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    if ( not ( udg_GoldStash >= 15000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_GoldIncrement_Func001C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    if ( not ( udg_GoldStash >= 20000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_GoldIncrement_Actions takes nothing returns nothing
    if ( Trig_GoldIncrement_Func001C() ) then
        return
    else
        if ( Trig_GoldIncrement_Func001Func001C() ) then
            return
        else
        endif
    endif
    call SetPlayerStateBJ(Player(0), PLAYER_STATE_RESOURCE_GOLD, ( GetPlayerState(Player(0), PLAYER_STATE_RESOURCE_GOLD) - 5000 ))
    set udg_GoldStash=( udg_GoldStash + 5000 )
    call LeaderboardSetPlayerItemValueBJ(Player(1), udg_Board, udg_GoldStash)
    call PlaySoundAtPointBJ(gg_snd_ReceiveGold, 100, GetCameraTargetPositionLoc(), 0)
endfunction

//===========================================================================
function InitTrig_GoldIncrement takes nothing returns nothing
    set gg_trg_GoldIncrement=CreateTrigger()
    call TriggerRegisterPlayerStateEvent(gg_trg_GoldIncrement, Player(0), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 5000.00)
    call TriggerAddCondition(gg_trg_GoldIncrement, Condition(function Trig_GoldIncrement_Conditions))
    call TriggerAddAction(gg_trg_GoldIncrement, function Trig_GoldIncrement_Actions)
endfunction

//===========================================================================
// Trigger: LumberIncrement
//===========================================================================
function Trig_LumberIncrement_Conditions takes nothing returns boolean
    if ( not ( udg_LumberStash < 25000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_LumberIncrement_Func001Func001C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_EASY ) ) then
        return false
    endif
    if ( not ( udg_LumberStash >= 15000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_LumberIncrement_Func001C takes nothing returns boolean
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return false
    endif
    if ( not ( udg_LumberStash >= 20000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_LumberIncrement_Actions takes nothing returns nothing
    if ( Trig_LumberIncrement_Func001C() ) then
        return
    else
        if ( Trig_LumberIncrement_Func001Func001C() ) then
            return
        else
        endif
    endif
    call SetPlayerStateBJ(Player(0), PLAYER_STATE_RESOURCE_LUMBER, ( GetPlayerState(Player(0), PLAYER_STATE_RESOURCE_LUMBER) - 5000 ))
    set udg_LumberStash=( udg_LumberStash + 5000 )
    call LeaderboardSetPlayerItemValueBJ(Player(2), udg_Board, udg_LumberStash)
    call PlaySoundAtPointBJ(gg_snd_BundleOfLumber, 100, GetCameraTargetPositionLoc(), 0)
endfunction

//===========================================================================
function InitTrig_LumberIncrement takes nothing returns nothing
    set gg_trg_LumberIncrement=CreateTrigger()
    call TriggerRegisterPlayerStateEvent(gg_trg_LumberIncrement, Player(0), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 5000.00)
    call TriggerAddCondition(gg_trg_LumberIncrement, Condition(function Trig_LumberIncrement_Conditions))
    call TriggerAddAction(gg_trg_LumberIncrement, function Trig_LumberIncrement_Actions)
endfunction

//===========================================================================
// Trigger: Gold BundleA
//===========================================================================
function Trig_Gold_BundleA_Conditions takes nothing returns boolean
    if ( not ( udg_GoldStash == 5000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gold_BundleA_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call RemoveDestructable(gg_dest_B619_1082)
    call ShowDestructableBJ(true, gg_dest_B61A_0540)
    call AddSpecialEffectLocBJ(GetDestructableLoc(gg_dest_B61A_0540), "UI\\Feedback\\GoldCredit\\GoldCredit.mdl")
    call QueuedTriggerAddBJ(gg_trg_HintGoldIncrementQ, true)
endfunction

//===========================================================================
function InitTrig_Gold_BundleA takes nothing returns nothing
    set gg_trg_Gold_BundleA=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Gold_BundleA, 1.00)
    call TriggerAddCondition(gg_trg_Gold_BundleA, Condition(function Trig_Gold_BundleA_Conditions))
    call TriggerAddAction(gg_trg_Gold_BundleA, function Trig_Gold_BundleA_Actions)
endfunction

//===========================================================================
// Trigger: Gold BundleB
//===========================================================================
function Trig_Gold_BundleB_Conditions takes nothing returns boolean
    if ( not ( udg_GoldStash == 10000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gold_BundleB_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowDestructableBJ(true, gg_dest_B61A_0539)
    call RemoveDestructable(gg_dest_B619_1067)
    call AddSpecialEffectLocBJ(GetDestructableLoc(gg_dest_B61A_0539), "UI\\Feedback\\GoldCredit\\GoldCredit.mdl")
    call QueuedTriggerAddBJ(gg_trg_HintGoldIncrementQ, true)
endfunction

//===========================================================================
function InitTrig_Gold_BundleB takes nothing returns nothing
    set gg_trg_Gold_BundleB=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Gold_BundleB, 1.00)
    call TriggerAddCondition(gg_trg_Gold_BundleB, Condition(function Trig_Gold_BundleB_Conditions))
    call TriggerAddAction(gg_trg_Gold_BundleB, function Trig_Gold_BundleB_Actions)
endfunction

//===========================================================================
// Trigger: Gold BundleC
//===========================================================================
function Trig_Gold_BundleC_Conditions takes nothing returns boolean
    if ( not ( udg_GoldStash == 15000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gold_BundleC_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowDestructableBJ(true, gg_dest_B61A_0022)
    call RemoveDestructable(gg_dest_B619_1112)
    call AddSpecialEffectLocBJ(GetDestructableLoc(gg_dest_B619_1112), "UI\\Feedback\\GoldCredit\\GoldCredit.mdl")
    call QueuedTriggerAddBJ(gg_trg_HintGoldIncrementQ, true)
endfunction

//===========================================================================
function InitTrig_Gold_BundleC takes nothing returns nothing
    set gg_trg_Gold_BundleC=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Gold_BundleC, 1.00)
    call TriggerAddCondition(gg_trg_Gold_BundleC, Condition(function Trig_Gold_BundleC_Conditions))
    call TriggerAddAction(gg_trg_Gold_BundleC, function Trig_Gold_BundleC_Actions)
endfunction

//===========================================================================
// Trigger: Gold BundleD
//===========================================================================
function Trig_Gold_BundleD_Func003C takes nothing returns boolean
    if ( ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return true
    endif
    if ( ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return true
    endif
    return false
endfunction

function Trig_Gold_BundleD_Conditions takes nothing returns boolean
    if ( not ( udg_GoldStash == 20000 ) ) then
        return false
    endif
    if ( not Trig_Gold_BundleD_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Gold_BundleD_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowDestructableBJ(true, gg_dest_B61A_0541)
    call RemoveDestructable(gg_dest_B619_1130)
    call AddSpecialEffectLocBJ(GetDestructableLoc(gg_dest_B61A_0541), "UI\\Feedback\\GoldCredit\\GoldCredit.mdl")
    call QueuedTriggerAddBJ(gg_trg_HintGoldIncrementQ, true)
endfunction

//===========================================================================
function InitTrig_Gold_BundleD takes nothing returns nothing
    set gg_trg_Gold_BundleD=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Gold_BundleD, 1.00)
    call TriggerAddCondition(gg_trg_Gold_BundleD, Condition(function Trig_Gold_BundleD_Conditions))
    call TriggerAddAction(gg_trg_Gold_BundleD, function Trig_Gold_BundleD_Actions)
endfunction

//===========================================================================
// Trigger: Gold BundleE
//===========================================================================
function Trig_Gold_BundleE_Conditions takes nothing returns boolean
    if ( not ( udg_GoldStash == 25000 ) ) then
        return false
    endif
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gold_BundleE_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowDestructableBJ(true, gg_dest_B61A_1936)
    call RemoveDestructable(gg_dest_B619_1935)
    call AddSpecialEffectLocBJ(GetDestructableLoc(gg_dest_B61A_1936), "UI\\Feedback\\GoldCredit\\GoldCredit.mdl")
    call QueuedTriggerAddBJ(gg_trg_HintGoldIncrementQ, true)
endfunction

//===========================================================================
function InitTrig_Gold_BundleE takes nothing returns nothing
    set gg_trg_Gold_BundleE=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Gold_BundleE, 1.00)
    call TriggerAddCondition(gg_trg_Gold_BundleE, Condition(function Trig_Gold_BundleE_Conditions))
    call TriggerAddAction(gg_trg_Gold_BundleE, function Trig_Gold_BundleE_Actions)
endfunction

//===========================================================================
// Trigger: Lumber BundleA
//===========================================================================
function Trig_Lumber_BundleA_Conditions takes nothing returns boolean
    if ( not ( udg_LumberStash == 5000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Lumber_BundleA_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowDestructableBJ(true, gg_dest_B60W_0551)
    call SetDestructableAnimationBJ(gg_dest_B60W_0551, "birth")
    call QueueDestructableAnimationBJ(gg_dest_B60W_0551, "stand")
    call QueuedTriggerAddBJ(gg_trg_HintLumberIncrementQ, true)
endfunction

//===========================================================================
function InitTrig_Lumber_BundleA takes nothing returns nothing
    set gg_trg_Lumber_BundleA=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Lumber_BundleA, 1.00)
    call TriggerAddCondition(gg_trg_Lumber_BundleA, Condition(function Trig_Lumber_BundleA_Conditions))
    call TriggerAddAction(gg_trg_Lumber_BundleA, function Trig_Lumber_BundleA_Actions)
endfunction

//===========================================================================
// Trigger: Lumber BundleB
//===========================================================================
function Trig_Lumber_BundleB_Conditions takes nothing returns boolean
    if ( not ( udg_LumberStash == 10000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Lumber_BundleB_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowDestructableBJ(true, gg_dest_B60W_0549)
    call SetDestructableAnimationBJ(gg_dest_B60W_0549, "birth")
    call QueueDestructableAnimationBJ(gg_dest_B60W_0549, "stand")
    call QueuedTriggerAddBJ(gg_trg_HintLumberIncrementQ, true)
endfunction

//===========================================================================
function InitTrig_Lumber_BundleB takes nothing returns nothing
    set gg_trg_Lumber_BundleB=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Lumber_BundleB, 1.00)
    call TriggerAddCondition(gg_trg_Lumber_BundleB, Condition(function Trig_Lumber_BundleB_Conditions))
    call TriggerAddAction(gg_trg_Lumber_BundleB, function Trig_Lumber_BundleB_Actions)
endfunction

//===========================================================================
// Trigger: Lumber BundleC
//===========================================================================
function Trig_Lumber_BundleC_Conditions takes nothing returns boolean
    if ( not ( udg_LumberStash == 15000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Lumber_BundleC_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowDestructableBJ(true, gg_dest_B60W_0547)
    call SetDestructableAnimationBJ(gg_dest_B60W_0547, "birth")
    call QueueDestructableAnimationBJ(gg_dest_B60W_0547, "stand")
    call QueuedTriggerAddBJ(gg_trg_HintLumberIncrementQ, true)
endfunction

//===========================================================================
function InitTrig_Lumber_BundleC takes nothing returns nothing
    set gg_trg_Lumber_BundleC=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Lumber_BundleC, 1.00)
    call TriggerAddCondition(gg_trg_Lumber_BundleC, Condition(function Trig_Lumber_BundleC_Conditions))
    call TriggerAddAction(gg_trg_Lumber_BundleC, function Trig_Lumber_BundleC_Actions)
endfunction

//===========================================================================
// Trigger: Lumber BundleD
//===========================================================================
function Trig_Lumber_BundleD_Func002C takes nothing returns boolean
    if ( ( GetGameDifficulty() == MAP_DIFFICULTY_NORMAL ) ) then
        return true
    endif
    if ( ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return true
    endif
    return false
endfunction

function Trig_Lumber_BundleD_Conditions takes nothing returns boolean
    if ( not ( udg_LumberStash == 20000 ) ) then
        return false
    endif
    if ( not Trig_Lumber_BundleD_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Lumber_BundleD_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowDestructableBJ(true, gg_dest_B60W_0546)
    call SetDestructableAnimationBJ(gg_dest_B60W_0546, "birth")
    call QueueDestructableAnimationBJ(gg_dest_B60W_0546, "stand")
    call QueuedTriggerAddBJ(gg_trg_HintLumberIncrementQ, true)
endfunction

//===========================================================================
function InitTrig_Lumber_BundleD takes nothing returns nothing
    set gg_trg_Lumber_BundleD=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Lumber_BundleD, 1.00)
    call TriggerAddCondition(gg_trg_Lumber_BundleD, Condition(function Trig_Lumber_BundleD_Conditions))
    call TriggerAddAction(gg_trg_Lumber_BundleD, function Trig_Lumber_BundleD_Actions)
endfunction

//===========================================================================
// Trigger: Lumber BundleE
//===========================================================================
function Trig_Lumber_BundleE_Conditions takes nothing returns boolean
    if ( not ( udg_LumberStash == 25000 ) ) then
        return false
    endif
    if ( not ( GetGameDifficulty() == MAP_DIFFICULTY_HARD ) ) then
        return false
    endif
    return true
endfunction

function Trig_Lumber_BundleE_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowDestructableBJ(true, gg_dest_B60W_1937)
    call SetDestructableAnimationBJ(gg_dest_B60W_1937, "birth")
    call QueueDestructableAnimationBJ(gg_dest_B60W_1937, "stand")
    call QueuedTriggerAddBJ(gg_trg_HintLumberIncrementQ, true)
endfunction

//===========================================================================
function InitTrig_Lumber_BundleE takes nothing returns nothing
    set gg_trg_Lumber_BundleE=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Lumber_BundleE, 1.00)
    call TriggerAddCondition(gg_trg_Lumber_BundleE, Condition(function Trig_Lumber_BundleE_Conditions))
    call TriggerAddAction(gg_trg_Lumber_BundleE, function Trig_Lumber_BundleE_Actions)
endfunction

//===========================================================================
// Trigger: Farm01
//===========================================================================
function Trig_Farm01_Conditions takes nothing returns boolean
    if ( not ( udg_Farms == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Farm01_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowUnitShow(gg_unit_npig_0002)
    call ShowUnitShow(gg_unit_npig_0003)
    call PlaySoundBJ(gg_snd_GoodJob)
    call TriggerSleepAction(1.00)
    call PlaySoundAtPointBJ(gg_snd_PigFarmWhat1, 70.00, GetRectCenter(gg_rct_Pig_Farm), 0)
    call QuestItemSetDescriptionBJ(udg_LandingRequirment02, "TRIGSTR_094")
endfunction

//===========================================================================
function InitTrig_Farm01 takes nothing returns nothing
    set gg_trg_Farm01=CreateTrigger()
    call TriggerAddCondition(gg_trg_Farm01, Condition(function Trig_Farm01_Conditions))
    call TriggerAddAction(gg_trg_Farm01, function Trig_Farm01_Actions)
endfunction

//===========================================================================
// Trigger: Farm02
//===========================================================================
function Trig_Farm02_Conditions takes nothing returns boolean
    if ( not ( udg_Farms == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Farm02_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowUnitShow(gg_unit_npig_0023)
    call ShowUnitShow(gg_unit_npig_0024)
    call PlaySoundBJ(gg_snd_GoodJob)
    call TriggerSleepAction(1.00)
    call PlaySoundAtPointBJ(gg_snd_PigFarmWhat1, 70.00, GetRectCenter(gg_rct_Pig_Farm), 0)
    call QuestItemSetDescriptionBJ(udg_LandingRequirment02, "TRIGSTR_073")
endfunction

//===========================================================================
function InitTrig_Farm02 takes nothing returns nothing
    set gg_trg_Farm02=CreateTrigger()
    call TriggerAddCondition(gg_trg_Farm02, Condition(function Trig_Farm02_Conditions))
    call TriggerAddAction(gg_trg_Farm02, function Trig_Farm02_Actions)
endfunction

//===========================================================================
// Trigger: Farm03
//===========================================================================
function Trig_Farm03_Conditions takes nothing returns boolean
    if ( not ( udg_Farms == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Farm03_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowUnitShow(gg_unit_npig_0025)
    call ShowUnitShow(gg_unit_npig_0022)
    call PlaySoundBJ(gg_snd_GoodJob)
    call TriggerSleepAction(1.00)
    call PlaySoundAtPointBJ(gg_snd_PigFarmWhat1, 70.00, GetRectCenter(gg_rct_Pig_Farm), 0)
    call QuestItemSetDescriptionBJ(udg_LandingRequirment02, "TRIGSTR_088")
endfunction

//===========================================================================
function InitTrig_Farm03 takes nothing returns nothing
    set gg_trg_Farm03=CreateTrigger()
    call TriggerAddCondition(gg_trg_Farm03, Condition(function Trig_Farm03_Conditions))
    call TriggerAddAction(gg_trg_Farm03, function Trig_Farm03_Actions)
endfunction

//===========================================================================
// Trigger: Farm04
//===========================================================================
function Trig_Farm04_Conditions takes nothing returns boolean
    if ( not ( udg_Farms == 4 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Farm04_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ShowUnitShow(gg_unit_npig_0019)
    call ShowUnitShow(gg_unit_npig_0020)
    call PlaySoundBJ(gg_snd_GoodJob)
    call TriggerSleepAction(1.00)
    call PlaySoundAtPointBJ(gg_snd_PigFarmWhat1, 70.00, GetRectCenter(gg_rct_Pig_Farm), 0)
    call QuestItemSetDescriptionBJ(udg_LandingRequirment02, "TRIGSTR_090")
endfunction

//===========================================================================
function InitTrig_Farm04 takes nothing returns nothing
    set gg_trg_Farm04=CreateTrigger()
    call TriggerAddCondition(gg_trg_Farm04, Condition(function Trig_Farm04_Conditions))
    call TriggerAddAction(gg_trg_Farm04, function Trig_Farm04_Actions)
endfunction

//===========================================================================
// Trigger: FarmConstructed
//===========================================================================
function Trig_FarmConstructed_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'o60X' ) ) then
        return false
    endif
    if ( not ( IsQuestCompleted(udg_Landing) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_FarmConstructed_Func003C takes nothing returns boolean
    if ( not ( IsQuestItemCompleted(udg_LandingRequirment02) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_FarmConstructed_Actions takes nothing returns nothing
    set udg_Farms=( udg_Farms + 1 )
    call LeaderboardSetPlayerItemValueBJ(Player(0), udg_Board, udg_Farms)
    if ( Trig_FarmConstructed_Func003C() ) then
        call ConditionalTriggerExecute(gg_trg_Farm01)
        call ConditionalTriggerExecute(gg_trg_Farm02)
        call ConditionalTriggerExecute(gg_trg_Farm03)
        call ConditionalTriggerExecute(gg_trg_Farm04)
    else
        call DoNothing()
    endif
endfunction

//===========================================================================
function InitTrig_FarmConstructed takes nothing returns nothing
    set gg_trg_FarmConstructed=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_FarmConstructed, Player(0), EVENT_PLAYER_UNIT_CONSTRUCT_FINISH)
    call TriggerAddCondition(gg_trg_FarmConstructed, Condition(function Trig_FarmConstructed_Conditions))
    call TriggerAddAction(gg_trg_FarmConstructed, function Trig_FarmConstructed_Actions)
endfunction

//===========================================================================
// Trigger: BoneFire
//===========================================================================
function Trig_BoneFire_Func003001001002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(0) )
endfunction

function Trig_BoneFire_Func003001001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_BoneFire_Func003001001002 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == Player(0)), (IsUnitAliveBJ(GetFilterUnit()) == true)) // INLINED!!
endfunction

function Trig_BoneFire_Conditions takes nothing returns boolean
    if ( not ( IsQuestDiscovered(udg_HumanQuest) == true ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(gg_rct_Rect_039, Condition(function Trig_BoneFire_Func003001001002))) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_BoneFire_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestItemSetCompletedBJ(udg_HRequirem01, true)
    call DestroyTimerDialogBJ(udg_Timerwindow)
    call TriggerSleepAction(1.00)
    call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_BoneFire), "Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl")
    call PlaySoundAtPointBJ(gg_snd_BattleShipDeath1, 75.00, GetRectCenter(gg_rct_BoneFire), 0)
    call TriggerSleepAction(1.00)
    call KillDestructable(gg_dest_B617_1717)
    call TriggerSleepAction(1.00)
    call DestroyEffectBJ(GetLastCreatedEffectBJ())
    call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_UPDATED, "TRIGSTR_154")
endfunction

//===========================================================================
function InitTrig_BoneFire takes nothing returns nothing
    set gg_trg_BoneFire=CreateTrigger()
    call DisableTrigger(gg_trg_BoneFire)
    call TriggerRegisterTimerEventPeriodic(gg_trg_BoneFire, 1.00)
    call TriggerAddCondition(gg_trg_BoneFire, Condition(function Trig_BoneFire_Conditions))
    call TriggerAddAction(gg_trg_BoneFire, function Trig_BoneFire_Actions)
endfunction

//===========================================================================
// Trigger: Timer
//===========================================================================
function Trig_Timer_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call PlaySoundBJ(gg_snd_Warning)
    call StartTimerBJ(udg_Timer, false, udg_TimerValue)
    call TriggerSleepAction(0.50)
    call CreateTimerDialogBJ(udg_Timer, "TRIGSTR_155")
    set udg_Timerwindow=GetLastCreatedTimerDialogBJ()
    call CreateFogModifierRadiusLocBJ(true, Player(0), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_BoneFire), 512.00)
    call PingMinimapLocForForce(bj_FORCE_PLAYER[0], GetRectCenter(gg_rct_BoneFire), 15.00)
    call EnableTrigger(gg_trg_BoneFire)
    call TriggerSleepAction(1.00)
    call CameraSetupApplyForPlayer(true, gg_cam_SignalFireAlarm, Player(0), 1.00)
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_1974")
endfunction

//===========================================================================
function InitTrig_Timer takes nothing returns nothing
    set gg_trg_Timer=CreateTrigger()
    call TriggerAddAction(gg_trg_Timer, function Trig_Timer_Actions)
endfunction

//===========================================================================
// Trigger: TimerExpires
//===========================================================================
function Trig_TimerExpires_Func002C takes nothing returns boolean
    if ( not ( IsQuestItemCompleted(udg_HRequirem01) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_TimerExpires_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    if ( Trig_TimerExpires_Func002C() ) then
    else
        call DestroyTimerDialogBJ(udg_Timerwindow)
        call ConditionalTriggerExecute(gg_trg_BonefireDefeat)
    endif
endfunction

//===========================================================================
function InitTrig_TimerExpires takes nothing returns nothing
    set gg_trg_TimerExpires=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_TimerExpires, udg_Timer)
    call TriggerAddAction(gg_trg_TimerExpires, function Trig_TimerExpires_Actions)
endfunction

//===========================================================================
// Trigger: TentDropsLumber
//===========================================================================
function Trig_TentDropsLumber_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'h620' ) ) then
        return false
    endif
    return true
endfunction

function Trig_TentDropsLumber_Actions takes nothing returns nothing
    call PlaySoundAtPointBJ(gg_snd_BundleOfLumber, 100, GetCameraTargetPositionLoc(), 0)
    call CreateItemLoc('lmbr', GetUnitLoc(GetDyingUnit()))
endfunction

//===========================================================================
function InitTrig_TentDropsLumber takes nothing returns nothing
    set gg_trg_TentDropsLumber=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_TentDropsLumber, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_TentDropsLumber, Condition(function Trig_TentDropsLumber_Conditions))
    call TriggerAddAction(gg_trg_TentDropsLumber, function Trig_TentDropsLumber_Actions)
endfunction

//===========================================================================
// Trigger: BonefireDefeat
//===========================================================================
function Trig_BonefireDefeat_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_FAILED, "TRIGSTR_157")
    call TriggerSleepAction(1.00)
    call PlayMusicBJ(gg_snd_OrcDefeat)
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    call TriggerExecute(gg_trg_Defeat)
endfunction

//===========================================================================
function InitTrig_BonefireDefeat takes nothing returns nothing
    set gg_trg_BonefireDefeat=CreateTrigger()
    call TriggerAddAction(gg_trg_BonefireDefeat, function Trig_BonefireDefeat_Actions)
endfunction

//===========================================================================
// Trigger: ResourcesDefeat
//===========================================================================
function Trig_ResourcesDefeat_Conditions takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(gg_unit_n60O_0011) == false ) ) then
        return false
    endif
    if ( not ( IsUnitAliveBJ(gg_unit_n60O_0013) == false ) ) then
        return false
    endif
    if ( not ( IsQuestItemCompleted(udg_ResRequirem01) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_ResourcesDefeat_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_FAILED, "TRIGSTR_2075")
    call TriggerSleepAction(1.00)
    call PlayMusicBJ(gg_snd_OrcDefeat)
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    call TriggerExecute(gg_trg_Defeat)
endfunction

//===========================================================================
function InitTrig_ResourcesDefeat takes nothing returns nothing
    set gg_trg_ResourcesDefeat=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_ResourcesDefeat, gg_unit_n60O_0011, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(gg_trg_ResourcesDefeat, gg_unit_n60O_0013, EVENT_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_ResourcesDefeat, Condition(function Trig_ResourcesDefeat_Conditions))
    call TriggerAddAction(gg_trg_ResourcesDefeat, function Trig_ResourcesDefeat_Actions)
endfunction

//===========================================================================
// Trigger: Defeat
//===========================================================================
function Trig_Defeat_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ClearSelectionForPlayer(Player(0))
    call ConditionalTriggerExecute(gg_trg_OilTextHide)
    call CinematicModeBJ(true, GetPlayersAll())
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\HazeAndFogFilter_Mask.blp", 100.00, 0, 0, 25.00)
    call TriggerSleepAction(2.00)
    call CustomDefeatBJ(Player(0), "TRIGSTR_2185")
endfunction

//===========================================================================
function InitTrig_Defeat takes nothing returns nothing
    set gg_trg_Defeat=CreateTrigger()
    call TriggerAddAction(gg_trg_Defeat, function Trig_Defeat_Actions)
endfunction

//===========================================================================
// Trigger: Waterfall01On
//===========================================================================
function Trig_Waterfall01On_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolWaterfall[1] == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Waterfall01On_Actions takes nothing returns nothing
    set udg_VisibilityBoolWaterfall[1]=true
    call CreateFogModifierRadiusLocBJ(true, Player(0), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_WaterFall01VisibilityModCenter), 1024.00)
    set udg_VisibilityModWaterfall[1]=GetLastCreatedFogModifier()
    call FogModifierStart(udg_VisibilityModWaterfall[1])
    call EnableTrigger(gg_trg_Waterfall01Off)
endfunction

//===========================================================================
function InitTrig_Waterfall01On takes nothing returns nothing
    set gg_trg_Waterfall01On=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Waterfall01On, gg_rct_WaterFall01VisibilityTriggered)
    call TriggerAddCondition(gg_trg_Waterfall01On, Condition(function Trig_Waterfall01On_Conditions))
    call TriggerAddAction(gg_trg_Waterfall01On, function Trig_Waterfall01On_Actions)
endfunction

//===========================================================================
// Trigger: Waterfall01Off
//===========================================================================
function Trig_Waterfall01Off_Func006001001002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(0) )
endfunction

function Trig_Waterfall01Off_Func006001001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Waterfall01Off_Func006001001002 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == Player(0)), (IsUnitAliveBJ(GetFilterUnit()) == true)) // INLINED!!
endfunction

function Trig_Waterfall01Off_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolWaterfall[1] == true ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(gg_rct_WaterFall01VisibilityTriggered, Condition(function Trig_Waterfall01Off_Func006001001002))) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Waterfall01Off_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_VisibilityBoolWaterfall[1]=false
    call DestroyFogModifier(udg_VisibilityModWaterfall[1])
endfunction

//===========================================================================
function InitTrig_Waterfall01Off takes nothing returns nothing
    set gg_trg_Waterfall01Off=CreateTrigger()
    call DisableTrigger(gg_trg_Waterfall01Off)
    call TriggerRegisterTimerEventPeriodic(gg_trg_Waterfall01Off, 2)
    call TriggerAddCondition(gg_trg_Waterfall01Off, Condition(function Trig_Waterfall01Off_Conditions))
    call TriggerAddAction(gg_trg_Waterfall01Off, function Trig_Waterfall01Off_Actions)
endfunction

//===========================================================================
// Trigger: Waterfall02On
//===========================================================================
function Trig_Waterfall02On_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolWaterfall[2] == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Waterfall02On_Actions takes nothing returns nothing
    set udg_VisibilityBoolWaterfall[2]=true
    call CreateFogModifierRectBJ(true, Player(0), FOG_OF_WAR_VISIBLE, gg_rct_WaterFall02VisibilityTriggered)
    set udg_VisibilityModWaterfall[2]=GetLastCreatedFogModifier()
    call FogModifierStart(udg_VisibilityModWaterfall[2])
    call EnableTrigger(gg_trg_Waterfall02Off)
endfunction

//===========================================================================
function InitTrig_Waterfall02On takes nothing returns nothing
    set gg_trg_Waterfall02On=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Waterfall02On, gg_rct_WaterFall02VisibilityTriggered)
    call TriggerAddCondition(gg_trg_Waterfall02On, Condition(function Trig_Waterfall02On_Conditions))
    call TriggerAddAction(gg_trg_Waterfall02On, function Trig_Waterfall02On_Actions)
endfunction

//===========================================================================
// Trigger: Waterfall02Off
//===========================================================================
function Trig_Waterfall02Off_Func006001001002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(0) )
endfunction

function Trig_Waterfall02Off_Func006001001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Waterfall02Off_Func006001001002 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == Player(0)), (IsUnitAliveBJ(GetFilterUnit()) == true)) // INLINED!!
endfunction

function Trig_Waterfall02Off_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolWaterfall[2] == true ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(gg_rct_WaterFall02VisibilityTriggered, Condition(function Trig_Waterfall02Off_Func006001001002))) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Waterfall02Off_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_VisibilityBoolWaterfall[2]=false
    call DestroyFogModifier(udg_VisibilityModWaterfall[2])
endfunction

//===========================================================================
function InitTrig_Waterfall02Off takes nothing returns nothing
    set gg_trg_Waterfall02Off=CreateTrigger()
    call DisableTrigger(gg_trg_Waterfall02Off)
    call TriggerRegisterTimerEventPeriodic(gg_trg_Waterfall02Off, 2)
    call TriggerAddCondition(gg_trg_Waterfall02Off, Condition(function Trig_Waterfall02Off_Conditions))
    call TriggerAddAction(gg_trg_Waterfall02Off, function Trig_Waterfall02Off_Actions)
endfunction

//===========================================================================
// Trigger: Waterfall03On
//===========================================================================
function Trig_Waterfall03On_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolWaterfall[3] == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Waterfall03On_Actions takes nothing returns nothing
    set udg_VisibilityBoolWaterfall[3]=true
    call CreateFogModifierRadiusLocBJ(true, Player(0), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_WaterFall03VisibilityModCenter), 768.00)
    set udg_VisibilityModWaterfall[3]=GetLastCreatedFogModifier()
    call FogModifierStart(udg_VisibilityModWaterfall[3])
    call EnableTrigger(gg_trg_Waterfall03Off)
endfunction

//===========================================================================
function InitTrig_Waterfall03On takes nothing returns nothing
    set gg_trg_Waterfall03On=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Waterfall03On, gg_rct_WaterFall03VisibilityTriggered)
    call TriggerAddCondition(gg_trg_Waterfall03On, Condition(function Trig_Waterfall03On_Conditions))
    call TriggerAddAction(gg_trg_Waterfall03On, function Trig_Waterfall03On_Actions)
endfunction

//===========================================================================
// Trigger: Waterfall03Off
//===========================================================================
function Trig_Waterfall03Off_Func006001001002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(0) )
endfunction

function Trig_Waterfall03Off_Func006001001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Waterfall03Off_Func006001001002 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == Player(0)), (IsUnitAliveBJ(GetFilterUnit()) == true)) // INLINED!!
endfunction

function Trig_Waterfall03Off_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolWaterfall[3] == true ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(gg_rct_WaterFall03VisibilityTriggered, Condition(function Trig_Waterfall03Off_Func006001001002))) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Waterfall03Off_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_VisibilityBoolWaterfall[3]=false
    call DestroyFogModifier(udg_VisibilityModWaterfall[3])
endfunction

//===========================================================================
function InitTrig_Waterfall03Off takes nothing returns nothing
    set gg_trg_Waterfall03Off=CreateTrigger()
    call DisableTrigger(gg_trg_Waterfall03Off)
    call TriggerRegisterTimerEventPeriodic(gg_trg_Waterfall03Off, 2)
    call TriggerAddCondition(gg_trg_Waterfall03Off, Condition(function Trig_Waterfall03Off_Conditions))
    call TriggerAddAction(gg_trg_Waterfall03Off, function Trig_Waterfall03Off_Actions)
endfunction

//===========================================================================
// Trigger: Waterfall04On
//===========================================================================
function Trig_Waterfall04On_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolWaterfall[4] == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Waterfall04On_Func009C takes nothing returns boolean
    if ( not ( udg_SecretFound == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Waterfall04On_Actions takes nothing returns nothing
    set udg_VisibilityBoolWaterfall[4]=true
    call CreateFogModifierRectBJ(true, Player(0), FOG_OF_WAR_VISIBLE, gg_rct_WaterFall04VisibilityTriggered)
    set udg_VisibilityModWaterfall[4]=GetLastCreatedFogModifier()
    call FogModifierStart(udg_VisibilityModWaterfall[4])
    call EnableTrigger(gg_trg_Waterfall04Off)
    if ( Trig_Waterfall04On_Func009C() ) then
        set udg_SecretFound=true
        call PlaySoundBJ(gg_snd_SecretFound)
    else
    endif
endfunction

//===========================================================================
function InitTrig_Waterfall04On takes nothing returns nothing
    set gg_trg_Waterfall04On=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Waterfall04On, gg_rct_WaterFall04VisibilityTriggered)
    call TriggerAddCondition(gg_trg_Waterfall04On, Condition(function Trig_Waterfall04On_Conditions))
    call TriggerAddAction(gg_trg_Waterfall04On, function Trig_Waterfall04On_Actions)
endfunction

//===========================================================================
// Trigger: Waterfall04Off
//===========================================================================
function Trig_Waterfall04Off_Func006001001002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(0) )
endfunction

function Trig_Waterfall04Off_Func006001001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Waterfall04Off_Func006001001002 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == Player(0)), (IsUnitAliveBJ(GetFilterUnit()) == true)) // INLINED!!
endfunction

function Trig_Waterfall04Off_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolWaterfall[4] == true ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(gg_rct_WaterFall04VisibilityTriggered, Condition(function Trig_Waterfall04Off_Func006001001002))) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Waterfall04Off_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_VisibilityBoolWaterfall[4]=false
    call DestroyFogModifier(udg_VisibilityModWaterfall[4])
endfunction

//===========================================================================
function InitTrig_Waterfall04Off takes nothing returns nothing
    set gg_trg_Waterfall04Off=CreateTrigger()
    call DisableTrigger(gg_trg_Waterfall04Off)
    call TriggerRegisterTimerEventPeriodic(gg_trg_Waterfall04Off, 2)
    call TriggerAddCondition(gg_trg_Waterfall04Off, Condition(function Trig_Waterfall04Off_Conditions))
    call TriggerAddAction(gg_trg_Waterfall04Off, function Trig_Waterfall04Off_Actions)
endfunction

//===========================================================================
// Trigger: Cliff01On
//===========================================================================
function Trig_Cliff01On_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolCliff[1] == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cliff01On_Actions takes nothing returns nothing
    set udg_VisibilityBoolCliff[1]=true
    call CreateFogModifierRectBJ(true, Player(0), FOG_OF_WAR_VISIBLE, gg_rct_CoolCliffs01VisibilityTriggered)
    set udg_VisibilityModCliffs[1]=GetLastCreatedFogModifier()
    call FogModifierStart(udg_VisibilityModCliffs[1])
    call EnableTrigger(gg_trg_Cliff01Off)
endfunction

//===========================================================================
function InitTrig_Cliff01On takes nothing returns nothing
    set gg_trg_Cliff01On=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Cliff01On, gg_rct_CoolCliffs01VisibilityTriggered)
    call TriggerAddCondition(gg_trg_Cliff01On, Condition(function Trig_Cliff01On_Conditions))
    call TriggerAddAction(gg_trg_Cliff01On, function Trig_Cliff01On_Actions)
endfunction

//===========================================================================
// Trigger: Cliff01Off
//===========================================================================
function Trig_Cliff01Off_Func005001001002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(0) )
endfunction

function Trig_Cliff01Off_Func005001001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Cliff01Off_Func005001001002 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == Player(0)), (IsUnitAliveBJ(GetFilterUnit()) == true)) // INLINED!!
endfunction

function Trig_Cliff01Off_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolCliff[1] == true ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(gg_rct_CoolCliffs01VisibilityTriggered, Condition(function Trig_Cliff01Off_Func005001001002))) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cliff01Off_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_VisibilityBoolCliff[1]=false
    call DestroyFogModifier(udg_VisibilityModCliffs[1])
endfunction

//===========================================================================
function InitTrig_Cliff01Off takes nothing returns nothing
    set gg_trg_Cliff01Off=CreateTrigger()
    call DisableTrigger(gg_trg_Cliff01Off)
    call TriggerRegisterTimerEventPeriodic(gg_trg_Cliff01Off, 2)
    call TriggerAddCondition(gg_trg_Cliff01Off, Condition(function Trig_Cliff01Off_Conditions))
    call TriggerAddAction(gg_trg_Cliff01Off, function Trig_Cliff01Off_Actions)
endfunction

//===========================================================================
// Trigger: Cliff02On
//===========================================================================
function Trig_Cliff02On_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolCliff[2] == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cliff02On_Actions takes nothing returns nothing
    set udg_VisibilityBoolCliff[2]=true
    call CreateFogModifierRectBJ(true, Player(0), FOG_OF_WAR_VISIBLE, gg_rct_CoolCliffs02VisibilityTriggered)
    set udg_VisibilityModCliffs[2]=GetLastCreatedFogModifier()
    call FogModifierStart(udg_VisibilityModCliffs[2])
    call EnableTrigger(gg_trg_Cliff02Off)
endfunction

//===========================================================================
function InitTrig_Cliff02On takes nothing returns nothing
    set gg_trg_Cliff02On=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Cliff02On, gg_rct_CoolCliffs02VisibilityTriggered)
    call TriggerAddCondition(gg_trg_Cliff02On, Condition(function Trig_Cliff02On_Conditions))
    call TriggerAddAction(gg_trg_Cliff02On, function Trig_Cliff02On_Actions)
endfunction

//===========================================================================
// Trigger: Cliff02Off
//===========================================================================
function Trig_Cliff02Off_Func005001001002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(0) )
endfunction

function Trig_Cliff02Off_Func005001001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Cliff02Off_Func005001001002 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == Player(0)), (IsUnitAliveBJ(GetFilterUnit()) == true)) // INLINED!!
endfunction

function Trig_Cliff02Off_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolCliff[2] == true ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(gg_rct_CoolCliffs02VisibilityTriggered, Condition(function Trig_Cliff02Off_Func005001001002))) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cliff02Off_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_VisibilityBoolCliff[2]=false
    call DestroyFogModifier(udg_VisibilityModCliffs[2])
endfunction

//===========================================================================
function InitTrig_Cliff02Off takes nothing returns nothing
    set gg_trg_Cliff02Off=CreateTrigger()
    call DisableTrigger(gg_trg_Cliff02Off)
    call TriggerRegisterTimerEventPeriodic(gg_trg_Cliff02Off, 2)
    call TriggerAddCondition(gg_trg_Cliff02Off, Condition(function Trig_Cliff02Off_Conditions))
    call TriggerAddAction(gg_trg_Cliff02Off, function Trig_Cliff02Off_Actions)
endfunction

//===========================================================================
// Trigger: Cliff03On
//===========================================================================
function Trig_Cliff03On_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolCliff[3] == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cliff03On_Actions takes nothing returns nothing
    set udg_VisibilityBoolCliff[3]=true
    call CreateFogModifierRadiusLocBJ(true, Player(0), FOG_OF_WAR_VISIBLE, GetRectCenter(gg_rct_CoolCliffs03VisibilityModCenter), 1280.00)
    set udg_VisibilityModCliffs[3]=GetLastCreatedFogModifier()
    call FogModifierStart(udg_VisibilityModCliffs[3])
    call EnableTrigger(gg_trg_Cliff03Off)
endfunction

//===========================================================================
function InitTrig_Cliff03On takes nothing returns nothing
    set gg_trg_Cliff03On=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cliff03On, Condition(function Trig_Cliff03On_Conditions))
    call TriggerAddAction(gg_trg_Cliff03On, function Trig_Cliff03On_Actions)
endfunction

//===========================================================================
// Trigger: Cliff03Off
//===========================================================================
function Trig_Cliff03Off_Conditions takes nothing returns boolean
    if ( not ( udg_VisibilityBoolCliff[3] == true ) ) then
        return false
    endif
    if ( not ( IsUnitAliveBJ(gg_unit_o60Q_0014) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cliff03Off_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_VisibilityBoolCliff[3]=false
    call DestroyFogModifier(udg_VisibilityModCliffs[3])
endfunction

//===========================================================================
function InitTrig_Cliff03Off takes nothing returns nothing
    set gg_trg_Cliff03Off=CreateTrigger()
    call DisableTrigger(gg_trg_Cliff03Off)
    call TriggerRegisterTimerEventPeriodic(gg_trg_Cliff03Off, 2)
    call TriggerAddCondition(gg_trg_Cliff03Off, Condition(function Trig_Cliff03Off_Conditions))
    call TriggerAddAction(gg_trg_Cliff03Off, function Trig_Cliff03Off_Actions)
endfunction

//===========================================================================
// Trigger: SelectPeon
//===========================================================================
function Trig_SelectPeon_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=3
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call CreateNUnitsAtLocFacingLocBJ(1, 'o60D', Player(0), GetRectCenter(gg_rct_CreatePeons), GetUnitLoc(gg_unit_n60O_0011))
        call IssueTargetOrderBJ(GetLastCreatedUnit(), "harvest", gg_unit_n60O_0011)
        call TriggerSleepAction(1.00)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_SelectPeon takes nothing returns nothing
    set gg_trg_SelectPeon=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_SelectPeon, gg_unit_o60D_0009, EVENT_UNIT_SELECTED)
    call TriggerAddAction(gg_trg_SelectPeon, function Trig_SelectPeon_Actions)
endfunction

//===========================================================================
// Trigger: Wolf Attack
//===========================================================================
function Trig_Wolf_Attack_Conditions takes nothing returns boolean
    if ( not ( IsQuestCompleted(udg_WolfsQuest) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func002001 takes nothing returns boolean
    return ( IsQuestCompleted(udg_WolfsQuest) == true )
endfunction

function Trig_Wolf_Attack_Func006Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func006C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_1903) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func008Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func008C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_2126) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func010Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func010C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_2125) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func012001 takes nothing returns boolean
    return ( IsQuestCompleted(udg_WolfsQuest) == true )
endfunction

function Trig_Wolf_Attack_Func015Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func015C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_1903) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func017Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func017C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_2126) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func019Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func019C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_2125) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func021001 takes nothing returns boolean
    return ( IsQuestCompleted(udg_WolfsQuest) == true )
endfunction

function Trig_Wolf_Attack_Func025Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func025C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_1903) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func027Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func027C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_2126) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func029Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func029C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_2125) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func031001 takes nothing returns boolean
    return ( IsQuestCompleted(udg_WolfsQuest) == true )
endfunction

function Trig_Wolf_Attack_Func034Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func034C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_1903) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func036Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func036C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_2126) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func038Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func038C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_2125) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func040001 takes nothing returns boolean
    return ( IsQuestCompleted(udg_WolfsQuest) == true )
endfunction

function Trig_Wolf_Attack_Func043Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func043C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_1903) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func045Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func045C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_2126) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func047Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() >= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func047C takes nothing returns boolean
    if ( not ( IsDestructableAliveBJ(gg_dest_B00C_2125) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Attack_Func049001 takes nothing returns boolean
    return ( IsQuestCompleted(udg_WolfsQuest) == true )
endfunction

function Trig_Wolf_Attack_Actions takes nothing returns nothing
    call TriggerSleepAction(2)
    if ( (IsQuestCompleted(udg_WolfsQuest) == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    // ******Wave01******
    // FrostWolf
    // ***NorthDen***
    if ( Trig_Wolf_Attack_Func006C() ) then
        if ( Trig_Wolf_Attack_Func006Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwwf', Player(8), GetRectCenter(gg_rct_WolfLair), 270.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    // EastDen
    if ( Trig_Wolf_Attack_Func008C() ) then
        if ( Trig_Wolf_Attack_Func008Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwwf', Player(8), GetRectCenter(gg_rct_WolfLair02), 335.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    // WestDen
    if ( Trig_Wolf_Attack_Func010C() ) then
        if ( Trig_Wolf_Attack_Func010Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwwf', Player(8), GetRectCenter(gg_rct_WolfLair03), 0.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    call TriggerSleepAction(10.00)
    if ( (IsQuestCompleted(udg_WolfsQuest) == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    // TimberWolf
    // NorthDen
    if ( Trig_Wolf_Attack_Func015C() ) then
        if ( Trig_Wolf_Attack_Func015Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwlt', Player(8), GetRectCenter(gg_rct_WolfLair), 270.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    // EastDen
    if ( Trig_Wolf_Attack_Func017C() ) then
        if ( Trig_Wolf_Attack_Func017Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwlt', Player(8), GetRectCenter(gg_rct_WolfLair02), 335.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    // WestDen
    if ( Trig_Wolf_Attack_Func019C() ) then
        if ( Trig_Wolf_Attack_Func019Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwlt', Player(8), GetRectCenter(gg_rct_WolfLair03), 0.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    call TriggerSleepAction(GetRandomReal(65.00, 125.00))
    if ( (IsQuestCompleted(udg_WolfsQuest) == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    // ***Wave02***
    // FrostWolf
    // ***NorthDen***
    if ( Trig_Wolf_Attack_Func025C() ) then
        if ( Trig_Wolf_Attack_Func025Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwwf', Player(8), GetRectCenter(gg_rct_WolfLair), 270.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    // EastDen
    if ( Trig_Wolf_Attack_Func027C() ) then
        if ( Trig_Wolf_Attack_Func027Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwwf', Player(8), GetRectCenter(gg_rct_WolfLair02), 335.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    // WestDen
    if ( Trig_Wolf_Attack_Func029C() ) then
        if ( Trig_Wolf_Attack_Func029Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwwf', Player(8), GetRectCenter(gg_rct_WolfLair03), 0.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    call TriggerSleepAction(10.00)
    if ( (IsQuestCompleted(udg_WolfsQuest) == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    // TimberWolf
    // NorthDen
    if ( Trig_Wolf_Attack_Func034C() ) then
        if ( Trig_Wolf_Attack_Func034Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwlt', Player(8), GetRectCenter(gg_rct_WolfLair), 270.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    // EastDen
    if ( Trig_Wolf_Attack_Func036C() ) then
        if ( Trig_Wolf_Attack_Func036Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwlt', Player(8), GetRectCenter(gg_rct_WolfLair02), 335.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    // WestDen
    if ( Trig_Wolf_Attack_Func038C() ) then
        if ( Trig_Wolf_Attack_Func038Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwlt', Player(8), GetRectCenter(gg_rct_WolfLair03), 0.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    call TriggerSleepAction(10.00)
    if ( (IsQuestCompleted(udg_WolfsQuest) == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    // TimberWolf
    // NorthDen
    if ( Trig_Wolf_Attack_Func043C() ) then
        if ( Trig_Wolf_Attack_Func043Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwlt', Player(8), GetRectCenter(gg_rct_WolfLair), 270.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    // EastDen
    if ( Trig_Wolf_Attack_Func045C() ) then
        if ( Trig_Wolf_Attack_Func045Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwlt', Player(8), GetRectCenter(gg_rct_WolfLair02), 335.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    // WestDen
    if ( Trig_Wolf_Attack_Func047C() ) then
        if ( Trig_Wolf_Attack_Func047Func001C() ) then
            call CreateNUnitsAtLoc(1, 'nwlt', Player(8), GetRectCenter(gg_rct_WolfLair03), 0.00)
            call IssuePointOrderLocBJ(GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_OrcCamp))
        else
        endif
    else
    endif
    call TriggerSleepAction(GetRandomReal(udg_WolfAttackDelayDownBoundary, udg_WolfAttackDelayUpBoundary))
    if ( (IsQuestCompleted(udg_WolfsQuest) == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call ConditionalTriggerExecute(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Wolf_Attack takes nothing returns nothing
    set gg_trg_Wolf_Attack=CreateTrigger()
    call TriggerAddCondition(gg_trg_Wolf_Attack, Condition(function Trig_Wolf_Attack_Conditions))
    call TriggerAddAction(gg_trg_Wolf_Attack, function Trig_Wolf_Attack_Actions)
endfunction

//===========================================================================
// Trigger: HeroDies
//===========================================================================
function Trig_HeroDies_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(2)
    call QuestMessageBJ(bj_FORCE_PLAYER[0], bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_188")
endfunction

//===========================================================================
function InitTrig_HeroDies takes nothing returns nothing
    set gg_trg_HeroDies=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_HeroDies, gg_unit_O617_0012, EVENT_UNIT_DEATH)
    call TriggerAddAction(gg_trg_HeroDies, function Trig_HeroDies_Actions)
endfunction

//===========================================================================
// Trigger: HumanTaunt
//===========================================================================
function Trig_HumanTaunt_Conditions takes nothing returns boolean
    if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_GROUND) == true ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    if ( not ( GetAttackedUnitBJ() != udg_Captain ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanTaunt_Func006001 takes nothing returns boolean
    return ( udg_HumanKilledCinematic == true )
endfunction

function Trig_HumanTaunt_Func008Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( GetRandomPercentageBJ() > 80.00 ) ) then
        return false
    endif
    if ( not ( udg_Chance <= 96.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanTaunt_Func008Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( udg_Chance > 64.00 ) ) then
        return false
    endif
    if ( not ( udg_Chance <= 80.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanTaunt_Func008Func001Func001Func001C takes nothing returns boolean
    if ( not ( udg_Chance > 48.00 ) ) then
        return false
    endif
    if ( not ( udg_Chance <= 64.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanTaunt_Func008Func001Func001C takes nothing returns boolean
    if ( not ( udg_Chance > 32.00 ) ) then
        return false
    endif
    if ( not ( udg_Chance <= 48.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanTaunt_Func008Func001C takes nothing returns boolean
    if ( not ( udg_Chance > 16.00 ) ) then
        return false
    endif
    if ( not ( udg_Chance <= 32.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanTaunt_Func008C takes nothing returns boolean
    if ( not ( udg_Chance <= 16.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanTaunt_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(1.00)
    if ( (udg_HumanKilledCinematic == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    set udg_Chance=GetRandomPercentageBJ()
    if ( Trig_HumanTaunt_Func008C() ) then
        call PlaySoundOnUnitBJ(gg_snd_FootmanWarcry1, 100, GetAttackedUnitBJ())
    else
        if ( Trig_HumanTaunt_Func008Func001C() ) then
            call PlaySoundOnUnitBJ(gg_snd_FootmanYesAttack3, 100, GetAttackedUnitBJ())
        else
            if ( Trig_HumanTaunt_Func008Func001Func001C() ) then
                call PlaySoundOnUnitBJ(gg_snd_H02Footman2301, 100, GetAttackedUnitBJ())
            else
                if ( Trig_HumanTaunt_Func008Func001Func001Func001C() ) then
                    call PlaySoundOnUnitBJ(gg_snd_O07FootmanA1101, 100, GetAttackedUnitBJ())
                else
                    if ( Trig_HumanTaunt_Func008Func001Func001Func001Func001C() ) then
                        call PlaySoundOnUnitBJ(gg_snd_O07FootmanA2201, 100, GetAttackedUnitBJ())
                    else
                        if ( Trig_HumanTaunt_Func008Func001Func001Func001Func001Func001C() ) then
                            call PlaySoundOnUnitBJ(gg_snd_FootmanYesAttack2, 100, GetAttackedUnitBJ())
                        else
                            call DoNothing()
                        endif
                    endif
                endif
            endif
        endif
    endif
endfunction

//===========================================================================
function InitTrig_HumanTaunt takes nothing returns nothing
    set gg_trg_HumanTaunt=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_HumanTaunt, Player(1), EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_HumanTaunt, Condition(function Trig_HumanTaunt_Conditions))
    call TriggerAddAction(gg_trg_HumanTaunt, function Trig_HumanTaunt_Actions)
endfunction

//===========================================================================
// Trigger: CaptainTaunt
//===========================================================================
function Trig_CaptainTaunt_Conditions takes nothing returns boolean
    if ( not ( GetAttackedUnitBJ() == udg_Captain ) ) then
        return false
    endif
    return true
endfunction

function Trig_CaptainTaunt_Func003001 takes nothing returns boolean
    return ( udg_HumanKilledCinematic == true )
endfunction

function Trig_CaptainTaunt_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(1.00)
    if ( (udg_HumanKilledCinematic == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlaySoundOnUnitBJ(gg_snd_CaptainWarcry1, 100, GetAttackedUnitBJ())
endfunction

//===========================================================================
function InitTrig_CaptainTaunt takes nothing returns nothing
    set gg_trg_CaptainTaunt=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_CaptainTaunt, Player(1), EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_CaptainTaunt, Condition(function Trig_CaptainTaunt_Conditions))
    call TriggerAddAction(gg_trg_CaptainTaunt, function Trig_CaptainTaunt_Actions)
endfunction

//===========================================================================
// Trigger: HumanTauntTurnedOn
//===========================================================================
function Trig_HumanTauntTurnedOn_Conditions takes nothing returns boolean
    if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_GROUND) == true ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanTauntTurnedOn_Func001C takes nothing returns boolean
    if ( not ( IsTriggerEnabled(gg_trg_HumanTaunt) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanTauntTurnedOn_Actions takes nothing returns nothing
    if ( Trig_HumanTauntTurnedOn_Func001C() ) then
        call EnableTrigger(gg_trg_HumanTaunt)
    else
    endif
endfunction

//===========================================================================
function InitTrig_HumanTauntTurnedOn takes nothing returns nothing
    set gg_trg_HumanTauntTurnedOn=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_HumanTauntTurnedOn, Player(1), EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_HumanTauntTurnedOn, Condition(function Trig_HumanTauntTurnedOn_Conditions))
    call TriggerAddAction(gg_trg_HumanTauntTurnedOn, function Trig_HumanTauntTurnedOn_Actions)
endfunction

//===========================================================================
// Trigger: PeonDies
//===========================================================================
function Trig_PeonDies_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'o60D' ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetAttacker()) == Player(8) ) ) then
        return false
    endif
    if ( not ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) < 15.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_PeonDies_Func005C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 2) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_PeonDies_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    if ( Trig_PeonDies_Func005C() ) then
        call PlaySoundAtPointBJ(gg_snd_WC2Orc01Peon2, 100, GetUnitLoc(GetDyingUnit()), 0)
    else
        call PlaySoundAtPointBJ(gg_snd_WC2Orc01Peon3, 100, GetUnitLoc(GetDyingUnit()), 0)
    endif
    call TriggerSleepAction(2.00)
    call EnableTrigger(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_PeonDies takes nothing returns nothing
    set gg_trg_PeonDies=CreateTrigger()
    call TriggerRegisterPlayerUnitEventSimple(gg_trg_PeonDies, Player(0), EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_PeonDies, Condition(function Trig_PeonDies_Conditions))
    call TriggerAddAction(gg_trg_PeonDies, function Trig_PeonDies_Actions)
endfunction

//===========================================================================
// Trigger: BearWalking02
//===========================================================================
function Trig_BearWalking02_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nplb_0056, "move", GetRandomLocInRect(gg_rct_Bear02Walking))
endfunction

//===========================================================================
function InitTrig_BearWalking02 takes nothing returns nothing
    set gg_trg_BearWalking02=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_BearWalking02, GetRandomReal(3.00, 12.00))
    call TriggerAddAction(gg_trg_BearWalking02, function Trig_BearWalking02_Actions)
endfunction

//===========================================================================
// Trigger: BearWalking01
//===========================================================================
function Trig_BearWalking01_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ(gg_unit_nplg_0055, "move", GetRandomLocInRect(gg_rct_Bear01Walking))
endfunction

//===========================================================================
function InitTrig_BearWalking01 takes nothing returns nothing
    set gg_trg_BearWalking01=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_BearWalking01, GetRandomReal(3.00, 12.00))
    call TriggerAddAction(gg_trg_BearWalking01, function Trig_BearWalking01_Actions)
endfunction

//===========================================================================
// Trigger: BearAttacked01
//===========================================================================
function Trig_BearAttacked01_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call DisableTrigger(gg_trg_BearWalking01)
endfunction

//===========================================================================
function InitTrig_BearAttacked01 takes nothing returns nothing
    set gg_trg_BearAttacked01=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_BearAttacked01, gg_unit_nplg_0055, EVENT_UNIT_ATTACKED)
    call TriggerAddAction(gg_trg_BearAttacked01, function Trig_BearAttacked01_Actions)
endfunction

//===========================================================================
// Trigger: BearAttacked02
//===========================================================================
function Trig_BearAttacked02_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call DisableTrigger(gg_trg_BearWalking02)
endfunction

//===========================================================================
function InitTrig_BearAttacked02 takes nothing returns nothing
    set gg_trg_BearAttacked02=CreateTrigger()
    call TriggerRegisterUnitEvent(gg_trg_BearAttacked02, gg_unit_nplb_0056, EVENT_UNIT_ATTACKED)
    call TriggerAddAction(gg_trg_BearAttacked02, function Trig_BearAttacked02_Actions)
endfunction

//===========================================================================
// Trigger: TreeBridgeActivated
//===========================================================================
function Trig_TreeBridgeActivated_Func013001001002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(0) )
endfunction

function Trig_TreeBridgeActivated_Func013001001002002 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_TreeBridgeActivated_Func013001001002 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == Player(0)), (IsUnitAliveBJ(GetFilterUnit()) == true)) // INLINED!!
endfunction

function Trig_TreeBridgeActivated_Conditions takes nothing returns boolean
    if ( not ( IsQuestDiscovered(udg_HumanQuest) == true ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(gg_rct_TreeBridgeActivated, Condition(function Trig_TreeBridgeActivated_Func013001001002))) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TreeBridgeActivated_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call DisableTrigger(gg_trg_TreeRestoreHP)
    call PanCameraToTimedLocForPlayer(Player(0), GetDestructableLoc(gg_dest_LTt4_0967), 1.00)
    call KillDestructable(gg_dest_LTt4_0967)
    call PlaySoundAtPointBJ(gg_snd_SupportColumnDeath1, 100, GetRectCenter(gg_rct_TreeBridgeActivated), 0)
    call PlaySoundAtPointBJ(gg_snd_TreeFall1, 100, GetRectCenter(gg_rct_BridgeSound), 0)
    call TriggerSleepAction(3.00)
    call CreateDestructableLoc('OTip', GetRectCenter(gg_rct_PlatformA), bj_UNIT_FACING, 1, 0)
    call CreateDestructableLoc('OTip', GetRectCenter(gg_rct_PlatformB), bj_UNIT_FACING, 1, 0)
    call IssuePointOrderLocBJ(gg_unit_h60K_0093, "attack", GetRandomLocInRect(gg_rct_OrcCamp))
    call IssuePointOrderLocBJ(gg_unit_h60K_0094, "attack", GetRandomLocInRect(gg_rct_OrcCamp))
endfunction

//===========================================================================
function InitTrig_TreeBridgeActivated takes nothing returns nothing
    set gg_trg_TreeBridgeActivated=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_TreeBridgeActivated, gg_rct_TreeBridgeActivated)
    call TriggerAddCondition(gg_trg_TreeBridgeActivated, Condition(function Trig_TreeBridgeActivated_Conditions))
    call TriggerAddAction(gg_trg_TreeBridgeActivated, function Trig_TreeBridgeActivated_Actions)
endfunction

//===========================================================================
// Trigger: TreeRestoreHP
//===========================================================================
function Trig_TreeRestoreHP_Conditions takes nothing returns boolean
    if ( not ( GetDestructableLife(gg_dest_LTt4_0967) <= 500.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TreeRestoreHP_Actions takes nothing returns nothing
    call SetDestructableLifePercentBJ(gg_dest_LTt4_0967, 100)
endfunction

//===========================================================================
function InitTrig_TreeRestoreHP takes nothing returns nothing
    set gg_trg_TreeRestoreHP=CreateTrigger()
    call DisableTrigger(gg_trg_TreeRestoreHP)
    call TriggerRegisterTimerEventPeriodic(gg_trg_TreeRestoreHP, 1.00)
    call TriggerAddCondition(gg_trg_TreeRestoreHP, Condition(function Trig_TreeRestoreHP_Conditions))
    call TriggerAddAction(gg_trg_TreeRestoreHP, function Trig_TreeRestoreHP_Actions)
endfunction

//===========================================================================
// Trigger: BearViewOn
//===========================================================================
function Trig_BearViewOn_Conditions takes nothing returns boolean
    if ( not ( udg_BearViewOn == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_BearViewOn_Actions takes nothing returns nothing
    set udg_BearViewOn=true
    call CreateFogModifierRectBJ(true, Player(0), FOG_OF_WAR_VISIBLE, gg_rct_ShowBear)
    set udg_BearViewMod=GetLastCreatedFogModifier()
    call EnableTrigger(gg_trg_BearViewOff)
endfunction

//===========================================================================
function InitTrig_BearViewOn takes nothing returns nothing
    set gg_trg_BearViewOn=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_BearViewOn, gg_rct_ShowBear)
    call TriggerAddCondition(gg_trg_BearViewOn, Condition(function Trig_BearViewOn_Conditions))
    call TriggerAddAction(gg_trg_BearViewOn, function Trig_BearViewOn_Actions)
endfunction

//===========================================================================
// Trigger: BearViewOff
//===========================================================================
function Trig_BearViewOff_Func004001001002001 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_BearViewOff_Func004001001002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(0) )
endfunction

function Trig_BearViewOff_Func004001001002 takes nothing returns boolean
    return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit()) == true), (GetOwningPlayer(GetFilterUnit()) == Player(0))) // INLINED!!
endfunction

function Trig_BearViewOff_Conditions takes nothing returns boolean
    if ( not ( udg_BearViewOn == true ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(gg_rct_ShowBear, Condition(function Trig_BearViewOff_Func004001001002))) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_BearViewOff_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call DestroyFogModifier(udg_BearViewMod)
    set udg_BearViewOn=false
endfunction

//===========================================================================
function InitTrig_BearViewOff takes nothing returns nothing
    set gg_trg_BearViewOff=CreateTrigger()
    call DisableTrigger(gg_trg_BearViewOff)
    call TriggerRegisterTimerEventPeriodic(gg_trg_BearViewOff, 2)
    call TriggerAddCondition(gg_trg_BearViewOff, Condition(function Trig_BearViewOff_Conditions))
    call TriggerAddAction(gg_trg_BearViewOff, function Trig_BearViewOff_Actions)
endfunction

//===========================================================================
// Trigger: Intro Cinemathic
//===========================================================================
function Trig_Intro_Cinemathic_Func016001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Func025001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Func028001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Func031001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Func039001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Func042001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Func045001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Func051001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Func053001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Func056001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Func061001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Func063001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Func070001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_Intro_Cinemathic_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetUnitPositionLocFacingLocBJ(gg_unit_o60Q_0014, GetRectCenter(gg_rct_Boat00), GetRectCenter(gg_rct_Boat01))
    call SetUnitPositionLocFacingLocBJ(udg_Rend, GetRectCenter(gg_rct_UrukStart), GetRectCenter(gg_rct_Uruk01))
    call SetUnitAnimation(gg_unit_o60D_0009, "stand work")
    call SetUnitBlendTimeBJ(udg_Rend, 0.25)
    call SetUnitBlendTimeBJ(udg_Utok, 0.25)
    call ShowUnitHide(udg_Rend)
    call SetUnitColor(gg_unit_o60Q_0100, PLAYER_COLOR_RED)
    call SetUnitScalePercent(gg_unit_o60Q_0100, 140.00, 140.00, 140.00)
    call SetUnitPathing(gg_unit_o60Q_0100, false)
    call SetUnitPathing(gg_unit_o60Q_0014, false)
    call IssuePointOrderLocBJ(gg_unit_o60Q_0100, "move", GetRectCenter(gg_rct_FakeBOatDirection))
    // Intro starts
    call SetCineModeVolumeGroupsBJ()
    call VolumeGroupSetVolumeBJ(SOUND_VOLUMEGROUP_MUSIC, 100)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_Intro01, Player(0), 0)
    call TriggerSleepAction(0.50)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call CameraSetupApplyForPlayer(true, gg_cam_Intro02, Player(0), 11.00)
    set udg_IntroCinemathic=true
    call PlayThematicMusicBJ("Warcraft2\\Music\\Warcraft II Menu Theme.mp3")
    call ConditionalTriggerExecute(gg_trg_BoatSounds)
    call TriggerSleepAction(7.00)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(gg_unit_o60Q_0014, "move", GetRectCenter(gg_rct_Boat02))
    call TriggerSleepAction(2.00)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(1.00)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_IntroBoatA, Player(0), 0.00)
    call CameraSetupApplyForPlayerSmooth(true, gg_cam_IntroBoatB, Player(0), 12.00, 1.00, 2.00, 100.00)
    call SetTerrainFogExBJ(0, 1000, 5500.00, 0.50, 31.00, 49.00, 52.00)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    // BoatArrives
    call ConditionalTriggerExecute(gg_trg_BoatSounds)
    call TriggerSleepAction(14.00)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(gg_unit_o605_0006, "move", GetRectCenter(gg_rct_Grunt02))
    call TriggerSleepAction(1.00)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitFacingToFaceLocTimed(gg_unit_o605_0006, GetRectCenter(gg_rct_Uruk02), 0.50)
    call TriggerSleepAction(0.50)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call AddUnitAnimationPropertiesBJ(true, "Cinematic", gg_unit_o605_0006)
    call SetUnitAnimation(gg_unit_o605_0006, "Cinematic Salute One")
    call QueueUnitAnimationBJ(gg_unit_o605_0006, "Cinematic Listening One")
    call PlaySoundOnUnitBJ(gg_snd_CS_H01b_Orc_gesture_v2, 100, gg_unit_o605_0006)
    call PlayDialogueFromSpeakerEx(GetPlayersAll(), gg_unit_o605_0006, 'o605', gg_snd_WC2Orc01Utok1, bj_TIMETYPE_ADD, 0, true)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlayDialogueFromSpeakerEx(GetPlayersAll(), udg_Rend, 'O617', gg_snd_WC2Orc01Rend1, bj_TIMETYPE_ADD, 0, true)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(1.00)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_Intro08, Player(0), 0.00)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call CameraSetupApplyForPlayerSmooth(true, gg_cam_Intro09, Player(0), 18.00, 1.00, 3.00, 100.00)
    call TransmissionFromUnitWithNameBJ(bj_FORCE_PLAYER[0], udg_Rend, "TRIGSTR_168", gg_snd_WC2Orc01Rend2, "TRIGSTR_169", bj_TIMETYPE_ADD, 0.00, true)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call TransmissionFromUnitWithNameBJ(bj_FORCE_PLAYER[0], udg_Rend, "TRIGSTR_170", gg_snd_WC2Orc01Rend3, "TRIGSTR_171", bj_TIMETYPE_ADD, 0.00, true)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(0.50)
    call CameraSetupApplyForPlayer(true, gg_cam_Intro10, Player(0), 0.00)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call CameraSetupApplyForPlayerSmooth(true, gg_cam_Intro11, Player(0), ( GetSoundDurationBJ(gg_snd_WC2Orc01Rend4) + ( GetSoundDurationBJ(gg_snd_WC2Orc01Rend5) + 3.00 ) ), 1.00, 3.00, 100.00)
    call TransmissionFromUnitWithNameBJ(bj_FORCE_PLAYER[0], udg_Rend, "TRIGSTR_231", gg_snd_WC2Orc01Rend4, "TRIGSTR_232", bj_TIMETYPE_ADD, 0.00, true)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call TransmissionFromUnitWithNameBJ(bj_FORCE_PLAYER[0], udg_Rend, "TRIGSTR_2088", gg_snd_WC2Orc01Rend5, "TRIGSTR_2089", bj_TIMETYPE_ADD, 0.00, true)
    // Ролик закончился
    call DisableTrigger(gg_trg_Intro_Skipped)
    call TriggerExecute(gg_trg_Intro_Cleanup)
endfunction

//===========================================================================
function InitTrig_Intro_Cinemathic takes nothing returns nothing
    set gg_trg_Intro_Cinemathic=CreateTrigger()
    call DisableTrigger(gg_trg_Intro_Cinemathic)
    call TriggerAddAction(gg_trg_Intro_Cinemathic, function Trig_Intro_Cinemathic_Actions)
endfunction

//===========================================================================
// Trigger: BoatSounds
//===========================================================================
function Trig_BoatSounds_Func004001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_BoatSounds_Func007001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_BoatSounds_Func010001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_BoatSounds_Func013001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_BoatSounds_Func016001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_BoatSounds_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call PlaySoundOnUnitBJ(gg_snd_BoatYes1, 50.00, gg_unit_o60Q_0014)
    call TriggerSleepAction(GetSoundDurationBJ(gg_snd_BoatYes1))
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlaySoundOnUnitBJ(gg_snd_BoatYes2, 50.00, gg_unit_o60Q_0014)
    call TriggerSleepAction(GetSoundDurationBJ(gg_snd_BoatYes2))
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlaySoundOnUnitBJ(gg_snd_BoatWhat1, 50.00, gg_unit_o60Q_0014)
    call TriggerSleepAction(GetSoundDurationBJ(gg_snd_BoatWhat1))
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlaySoundOnUnitBJ(gg_snd_BoatWhat2, 50.00, gg_unit_o60Q_0014)
    call TriggerSleepAction(GetSoundDurationBJ(gg_snd_BoatWhat2))
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlaySoundOnUnitBJ(gg_snd_BoatWhat3, 50.00, gg_unit_o60Q_0014)
    call TriggerSleepAction(GetSoundDurationBJ(gg_snd_BoatWhat3))
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
endfunction

//===========================================================================
function InitTrig_BoatSounds takes nothing returns nothing
    set gg_trg_BoatSounds=CreateTrigger()
    call TriggerAddAction(gg_trg_BoatSounds, function Trig_BoatSounds_Actions)
endfunction

//===========================================================================
// Trigger: BoatAboarding
//===========================================================================
function Trig_BoatAboarding_Func003001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_BoatAboarding_Func008001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_BoatAboarding_Func012001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_BoatAboarding_Func019001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_BoatAboarding_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(1.00)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlaySoundAtPointBJ(gg_snd_Loading, 100, GetRectCenter(gg_rct_UrukStart), 0)
    call SetUnitOwner(udg_Rend, Player(20), true)
    call ShowUnitShow(udg_Rend)
    call TriggerSleepAction(1.00)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(udg_Rend, "move", GetRectCenter(gg_rct_Uruk01))
    call PlaySoundOnUnitBJ(gg_snd_CS_Prologue2_Foley1, 100, udg_Rend)
    call TriggerSleepAction(0.50)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayerSmooth(true, gg_cam_IntroDialogueA, Player(0), 7.00, 1.00, 2.00, 100.00)
    call PlaySoundAtPointBJ(gg_snd_Loading01, 100, GetRectCenter(gg_rct_UrukStart), 0)
    call SetUnitPositionLocFacingBJ(gg_unit_o001_0007, GetRectCenter(gg_rct_UrukStart), 125.00)
    call ShowUnitShow(gg_unit_o001_0007)
    call IssuePointOrderLocBJ(gg_unit_o001_0007, "move", GetRectCenter(gg_rct_Uruk01))
    call TriggerSleepAction(1.00)
    if ( (udg_IntroSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlaySoundAtPointBJ(gg_snd_Loading02, 100, GetRectCenter(gg_rct_UrukStart), 0)
    call SetUnitPositionLocFacingBJ(gg_unit_o001_0008, GetRectCenter(gg_rct_UrukStart), 125.00)
    call ShowUnitShow(gg_unit_o001_0008)
    call IssuePointOrderLocBJ(gg_unit_o001_0008, "move", GetRectCenter(gg_rct_Uruk01))
endfunction

//===========================================================================
function InitTrig_BoatAboarding takes nothing returns nothing
    set gg_trg_BoatAboarding=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_BoatAboarding, gg_rct_Boat02)
    call TriggerAddAction(gg_trg_BoatAboarding, function Trig_BoatAboarding_Actions)
endfunction

//===========================================================================
// Trigger: IntroOrcsMoving
//===========================================================================
function Trig_IntroOrcsMoving_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCinemathic == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_IntroOrcsMoving_Func002C takes nothing returns boolean
    if ( not ( GetEnteringUnit() == udg_Rend ) ) then
        return false
    endif
    return true
endfunction

function Trig_IntroOrcsMoving_Func003Func003001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_IntroOrcsMoving_Func003Func006001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_IntroOrcsMoving_Func003C takes nothing returns boolean
    if ( not ( GetEnteringUnit() == gg_unit_o001_0007 ) ) then
        return false
    endif
    return true
endfunction

function Trig_IntroOrcsMoving_Func004Func003001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_IntroOrcsMoving_Func004Func006001 takes nothing returns boolean
    return ( udg_IntroSkipped == true )
endfunction

function Trig_IntroOrcsMoving_Func004C takes nothing returns boolean
    if ( not ( GetEnteringUnit() == gg_unit_o001_0008 ) ) then
        return false
    endif
    return true
endfunction

function Trig_IntroOrcsMoving_Actions takes nothing returns nothing
    if ( Trig_IntroOrcsMoving_Func002C() ) then
        call IssuePointOrderLocBJ(udg_Rend, "move", GetRectCenter(gg_rct_Uruk02))
    else
    endif
    if ( Trig_IntroOrcsMoving_Func003C() ) then
        call IssuePointOrderLocBJ(gg_unit_o001_0007, "move", GetRectCenter(gg_rct_Grunt03))
        call TriggerSleepAction(( DistanceBetweenPoints(GetUnitLoc(gg_unit_o001_0007), GetRectCenter(gg_rct_Grunt03)) / GetUnitMoveSpeed(gg_unit_o001_0007) ))
        if ( (udg_IntroSkipped == true) ) then // INLINED!!
            return
        else
            call DoNothing()
        endif
        call SetUnitFacingToFaceUnitTimed(gg_unit_o001_0007, gg_unit_o605_0006, 0.50)
        call TriggerSleepAction(0.50)
        if ( (udg_IntroSkipped == true) ) then // INLINED!!
            return
        else
            call DoNothing()
        endif
        call SetUnitAnimationWithRarity(gg_unit_o001_0007, "stand", RARITY_FREQUENT)
    else
    endif
    if ( Trig_IntroOrcsMoving_Func004C() ) then
        call IssuePointOrderLocBJ(gg_unit_o001_0008, "move", GetRectCenter(gg_rct_Grunt01))
        call TriggerSleepAction(( DistanceBetweenPoints(GetUnitLoc(gg_unit_o001_0008), GetRectCenter(gg_rct_Grunt01)) / GetUnitMoveSpeed(gg_unit_o001_0008) ))
        if ( (udg_IntroSkipped == true) ) then // INLINED!!
            return
        else
            call DoNothing()
        endif
        call SetUnitFacingToFaceUnitTimed(gg_unit_o001_0008, gg_unit_o605_0006, 0.50)
        call TriggerSleepAction(0.50)
        if ( (udg_IntroSkipped == true) ) then // INLINED!!
            return
        else
            call DoNothing()
        endif
        call SetUnitAnimationWithRarity(gg_unit_o001_0008, "stand", RARITY_FREQUENT)
    else
    endif
endfunction

//===========================================================================
function InitTrig_IntroOrcsMoving takes nothing returns nothing
    set gg_trg_IntroOrcsMoving=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_IntroOrcsMoving, gg_rct_Uruk01)
    call TriggerAddCondition(gg_trg_IntroOrcsMoving, Condition(function Trig_IntroOrcsMoving_Conditions))
    call TriggerAddAction(gg_trg_IntroOrcsMoving, function Trig_IntroOrcsMoving_Actions)
endfunction

//===========================================================================
// Trigger: IntroRendAnim
//===========================================================================
function Trig_IntroRendAnim_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCinemathic == true ) ) then
        return false
    endif
    if ( not ( GetEnteringUnit() == udg_Rend ) ) then
        return false
    endif
    return true
endfunction

function Trig_IntroRendAnim_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(0.25)
    call SetUnitAnimationWithRarity(udg_Rend, "stand", RARITY_FREQUENT)
endfunction

//===========================================================================
function InitTrig_IntroRendAnim takes nothing returns nothing
    set gg_trg_IntroRendAnim=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_IntroRendAnim, gg_rct_Uruk02)
    call TriggerAddCondition(gg_trg_IntroRendAnim, Condition(function Trig_IntroRendAnim_Conditions))
    call TriggerAddAction(gg_trg_IntroRendAnim, function Trig_IntroRendAnim_Actions)
endfunction

//===========================================================================
// Trigger: Intro Skipped
//===========================================================================
function Trig_Intro_Skipped_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCinemathic == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Intro_Skipped_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_IntroSkipped=true
    call ConditionalTriggerExecute(gg_trg_Intro_Cleanup)
endfunction

//===========================================================================
function InitTrig_Intro_Skipped takes nothing returns nothing
    set gg_trg_Intro_Skipped=CreateTrigger()
    call TriggerRegisterPlayerEventEndCinematic(gg_trg_Intro_Skipped, Player(0))
    call TriggerAddCondition(gg_trg_Intro_Skipped, Condition(function Trig_Intro_Skipped_Conditions))
    call TriggerAddAction(gg_trg_Intro_Skipped, function Trig_Intro_Skipped_Actions)
endfunction

//===========================================================================
// Trigger: Intro Cleanup
//===========================================================================
function Trig_Intro_Cleanup_Conditions takes nothing returns boolean
    if ( not ( udg_IntroCinemathic == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Intro_Cleanup_Func007C takes nothing returns boolean
    if ( not ( udg_IntroSkipped == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Intro_Cleanup_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_IntroCinemathic=false
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 2, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(2)
    call VolumeGroupResetBJ()
    if ( Trig_Intro_Cleanup_Func007C() ) then
        call StopSoundBJ(gg_snd_WC2Orc01Utok1, false)
        call StopSoundBJ(gg_snd_WC2Orc01Rend1, false)
        call StopSoundBJ(gg_snd_WC2Orc01Rend2, false)
        call StopSoundBJ(gg_snd_WC2Orc01Rend3, false)
        call StopSoundBJ(gg_snd_WC2Orc01Rend4, false)
        call StopSoundBJ(gg_snd_WC2Orc01Rend5, false)
    else
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_Camp, Player(0), 0)
    call TriggerSleepAction(1.00)
    call ResetToGameCameraForPlayer(Player(0), 0)
    call ResetTerrainFogBJ()
    call ConditionalTriggerExecute(gg_trg_MusicList)
    call SetUnitPositionLocFacingLocBJ(udg_Rend, GetRectCenter(gg_rct_Rect_024), GetRectCenter(gg_rct_Grunt02))
    call ShowUnitShow(udg_Rend)
    call ShowUnitShow(gg_unit_o001_0007)
    call ShowUnitShow(gg_unit_o001_0008)
    call SetUnitOwner(udg_Rend, Player(0), false)
    call SetUnitPositionLocFacingLocBJ(gg_unit_o001_0008, GetRectCenter(gg_rct_Grunt04), GetRectCenter(gg_rct_WolfSpawn01))
    call SetUnitPositionLocFacingLocBJ(gg_unit_o605_0006, GetRectCenter(gg_rct_Grunt05), GetRectCenter(gg_rct_PigEscapes))
    call SetUnitPositionLocFacingLocBJ(gg_unit_o001_0007, GetRectCenter(gg_rct_Grunt02), GetRectCenter(gg_rct_Uruk02))
    call SetUnitPositionLocFacingBJ(gg_unit_o60D_0009, GetRectCenter(gg_rct_PeonStartGame), bj_UNIT_FACING)
    call ResetUnitAnimation(gg_unit_o60D_0009)
    call AddUnitAnimationPropertiesBJ(false, "Cinematic", gg_unit_o605_0006)
    call SetUnitPositionLocFacingLocBJ(gg_unit_o60Q_0014, GetRectCenter(gg_rct_Boat02), GetRectCenter(gg_rct_Boat00))
    call SetUnitFacingTimed(gg_unit_o60Q_0014, 0.00, 1.50)
    call RemoveUnit(gg_unit_o60Q_0100)
    call SelectUnitSingle(udg_Rend)
    call SetUnitBlendTimeBJ(udg_Rend, 0.15)
    call SetUnitBlendTimeBJ(udg_Utok, 0.15)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call ConditionalTriggerExecute(gg_trg_OilTextShow)
    call CinematicModeBJ(false, bj_FORCE_PLAYER[0])
    call TriggerExecute(gg_trg_Cliff03On)
    call TriggerSleepAction(1.00)
    call TriggerExecute(gg_trg_SettingQuests)
endfunction

//===========================================================================
function InitTrig_Intro_Cleanup takes nothing returns nothing
    set gg_trg_Intro_Cleanup=CreateTrigger()
    call TriggerAddCondition(gg_trg_Intro_Cleanup, Condition(function Trig_Intro_Cleanup_Conditions))
    call TriggerAddAction(gg_trg_Intro_Cleanup, function Trig_Intro_Cleanup_Actions)
endfunction

//===========================================================================
// Trigger: CameraStore
//===========================================================================
function Trig_CameraStore_Actions takes nothing returns nothing
    set udg_VarCurrentCamera=GetCurrentCameraSetup()
endfunction

//===========================================================================
function InitTrig_CameraStore takes nothing returns nothing
    set gg_trg_CameraStore=CreateTrigger()
    call TriggerAddAction(gg_trg_CameraStore, function Trig_CameraStore_Actions)
endfunction

//===========================================================================
// Trigger: CameraRestore
//===========================================================================
function Trig_CameraRestore_Actions takes nothing returns nothing
    call CameraSetupApplyForPlayer(true, udg_VarCurrentCamera, Player(0), 0.00)
endfunction

//===========================================================================
function InitTrig_CameraRestore takes nothing returns nothing
    set gg_trg_CameraRestore=CreateTrigger()
    call TriggerAddAction(gg_trg_CameraRestore, function Trig_CameraRestore_Actions)
endfunction

//===========================================================================
// Trigger: SelectionStore
//===========================================================================
function Trig_SelectionStore_Func001002 takes nothing returns nothing
    call GroupAddUnitSimple(GetEnumUnit(), udg_SelectionGroup)
endfunction

function Trig_SelectionStore_Actions takes nothing returns nothing
    call ForGroupBJ(GetUnitsSelectedAll(Player(0)), function Trig_SelectionStore_Func001002)
    call ClearSelectionForPlayer(Player(0))
endfunction

//===========================================================================
function InitTrig_SelectionStore takes nothing returns nothing
    set gg_trg_SelectionStore=CreateTrigger()
    call TriggerAddAction(gg_trg_SelectionStore, function Trig_SelectionStore_Actions)
endfunction

//===========================================================================
// Trigger: SelectionRestore
//===========================================================================
function Trig_SelectionRestore_Func002002 takes nothing returns nothing
    call GroupRemoveUnitSimple(GetEnumUnit(), udg_SelectionGroup)
endfunction

function Trig_SelectionRestore_Actions takes nothing returns nothing
    call SelectGroupForPlayerBJ(udg_SelectionGroup, Player(0))
    call ForGroupBJ(udg_SelectionGroup, function Trig_SelectionRestore_Func002002)
endfunction

//===========================================================================
function InitTrig_SelectionRestore takes nothing returns nothing
    set gg_trg_SelectionRestore=CreateTrigger()
    call TriggerAddAction(gg_trg_SelectionRestore, function Trig_SelectionRestore_Actions)
endfunction

//===========================================================================
// Trigger: PauseActors
//===========================================================================
function Trig_PauseActors_Func001001002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE) )
endfunction

function Trig_PauseActors_Func001A takes nothing returns nothing
    call GroupAddUnitSimple(GetEnumUnit(), udg_PausedUnits)
endfunction

function Trig_PauseActors_Func002002 takes nothing returns nothing
    call PauseUnitBJ(true, GetEnumUnit())
endfunction

function Trig_PauseActors_Actions takes nothing returns nothing
    call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_PauseActors_Func001001002)), function Trig_PauseActors_Func001A)
    call ForGroupBJ(udg_PausedUnits, function Trig_PauseActors_Func002002)
endfunction

//===========================================================================
function InitTrig_PauseActors takes nothing returns nothing
    set gg_trg_PauseActors=CreateTrigger()
    call TriggerAddAction(gg_trg_PauseActors, function Trig_PauseActors_Actions)
endfunction

//===========================================================================
// Trigger: UnpauseActors
//===========================================================================
function Trig_UnpauseActors_Func001002 takes nothing returns nothing
    call PauseUnitBJ(false, GetEnumUnit())
endfunction

function Trig_UnpauseActors_Func002002 takes nothing returns nothing
    call GroupRemoveUnitSimple(GetEnumUnit(), udg_PausedUnits)
endfunction

function Trig_UnpauseActors_Actions takes nothing returns nothing
    call ForGroupBJ(udg_PausedUnits, function Trig_UnpauseActors_Func001002)
    call ForGroupBJ(udg_PausedUnits, function Trig_UnpauseActors_Func002002)
endfunction

//===========================================================================
function InitTrig_UnpauseActors takes nothing returns nothing
    set gg_trg_UnpauseActors=CreateTrigger()
    call TriggerAddAction(gg_trg_UnpauseActors, function Trig_UnpauseActors_Actions)
endfunction

//===========================================================================
// Trigger: HumanCinematicTriggered
//===========================================================================
function Trig_HumanCinematicTriggered_Func002C takes nothing returns boolean
    if ( ( IsQuestItemCompleted(udg_ResRequirem01) == true ) ) then
        return true
    endif
    if ( ( IsQuestItemCompleted(udg_ResRequirem02) == true ) ) then
        return true
    endif
    if ( ( IsUnitAliveBJ(gg_unit_n60O_0011) == false ) ) then
        return true
    endif
    return false
endfunction

function Trig_HumanCinematicTriggered_Conditions takes nothing returns boolean
    if ( not ( IsQuestDiscovered(udg_HumanQuest) == false ) ) then
        return false
    endif
    if ( not Trig_HumanCinematicTriggered_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_HumanCinematicTriggered_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(bj_QUEUE_DELAY_QUEST)
    call QueuedTriggerAddBJ(gg_trg_HumanCinematicQ, true)
endfunction

//===========================================================================
function InitTrig_HumanCinematicTriggered takes nothing returns nothing
    set gg_trg_HumanCinematicTriggered=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_HumanCinematicTriggered, 1.00)
    call TriggerAddCondition(gg_trg_HumanCinematicTriggered, Condition(function Trig_HumanCinematicTriggered_Conditions))
    call TriggerAddAction(gg_trg_HumanCinematicTriggered, function Trig_HumanCinematicTriggered_Actions)
endfunction

//===========================================================================
// Trigger: HumanCinematicQ
//===========================================================================
function Trig_HumanCinematicQ_Func010002 takes nothing returns nothing
    call PauseUnitBJ(false, GetEnumUnit())
endfunction

function Trig_HumanCinematicQ_Func011002 takes nothing returns nothing
    call GroupAddUnitSimple(GetEnumUnit(), udg_HiddenTroops)
endfunction

function Trig_HumanCinematicQ_Func012002 takes nothing returns nothing
    call ShowUnitHide(GetEnumUnit())
endfunction

function Trig_HumanCinematicQ_Func041001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func044001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func047001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func053001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func057001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func059001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func062001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func066001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func069001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func080001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func089001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func092001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func094001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func103001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func111001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func114001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func120001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func124001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func127001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func132001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func141001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Func143001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicQ_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(10.00)
    call ConditionalTriggerExecute(gg_trg_CameraStore)
    call ConditionalTriggerExecute(gg_trg_SelectionStore)
    call ConditionalTriggerExecute(gg_trg_OilTextHide)
    call CinematicModeBJ(true, GetPlayersAll())
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 2, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(2.00)
    call ConditionalTriggerExecute(gg_trg_PauseActors)
    call ForGroupBJ(GetUnitsOfPlayerAll(Player(1)), function Trig_HumanCinematicQ_Func010002)
    call ForGroupBJ(GetUnitsInRectOfPlayer(gg_rct_HumanInvasionArea, Player(0)), function Trig_HumanCinematicQ_Func011002)
    call ForGroupBJ(udg_HiddenTroops, function Trig_HumanCinematicQ_Func012002)
    call ShowUnitShow(gg_unit_nbsp_0048)
    call ShowUnitShow(gg_unit_hdes_0016)
    call ShowDestructableBJ(true, gg_dest_B005_1940)
    call ShowDestructableBJ(true, gg_dest_LTcr_1048)
    call ShowUnitShow(udg_Captain)
    call ShowUnitShow(udg_Footman01)
    call ShowUnitShow(udg_Footman02)
    call ShowUnitShow(udg_Footman03)
    call SetUnitAnimation(udg_Footman01, "Cinematic Sitting One")
    call SetUnitAnimation(udg_Footman02, "Cinematic Sitting One")
    call SetUnitAnimation(udg_Footman03, "Cinematic Sitting One")
    call SetUnitBlendTimeBJ(udg_Footman01, 0.25)
    call SetUnitBlendTimeBJ(udg_Footman02, 0.25)
    call SetUnitBlendTimeBJ(udg_Footman03, 0.25)
    call SetUnitBlendTimeBJ(udg_Captain, 0.25)
    call SetUnitAnimationWithRarity(udg_Captain, "stand", RARITY_FREQUENT)
    call SetUnitAnimationWithRarity(gg_unit_o605_0004, "stand", RARITY_FREQUENT)
    call CameraSetupApplyForPlayer(true, gg_cam_Human00, Player(0), 0.00)
    call SetCineModeVolumeGroupsBJ()
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 2, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call PlayThematicMusicBJ("DarkAgents")
    // CinematicStarted
    set udg_HumanCinematic=true
    call CameraSetupApplyForPlayerSmooth(true, gg_cam_Human01, Player(0), ( GetSoundDurationBJ(gg_snd_WC2Orc01Captain1) + 3.00 ), 0.50, 1.00, 100.00)
    call SetUnitAnimation(udg_Captain, "Stand VIctory")
    call QueueUnitAnimationBJ(udg_Captain, "stand")
    call PlayDialogueFromSpeakerEx(bj_FORCE_PLAYER[0], udg_Captain, 'hcth', gg_snd_WC2Orc01Captain1, bj_TIMETYPE_ADD, 0, true)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(udg_Captain, "move", GetRectCenter(gg_rct_Captain_Speak))
    call TriggerSleepAction(0.50)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(udg_Footman01, "move", GetRectCenter(gg_rct_Footman04))
    call TriggerSleepAction(0.50)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayerSmooth(true, gg_cam_Human04, Player(0), 8.00, 1.00, 2.00, 100.00)
    call PlaySoundOnUnitBJ(gg_snd_CS_BG_Camp, 100, udg_Footman01)
    call IssuePointOrderLocBJ(udg_Footman02, "move", GetRectCenter(gg_rct_Footman03))
    call PlaySoundOnUnitBJ(gg_snd_CS_Prologue2_Foley1, 100, udg_Footman02)
    call TriggerSleepAction(0.50)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call IssuePointOrderLocBJ(udg_Footman03, "move", GetRectCenter(gg_rct_Footman02))
    call PlaySoundOnUnitBJ(gg_snd_CS_HU_2_Intro_Foley201, 100, udg_Footman03)
    call TriggerSleepAction(( DistanceBetweenPoints(GetUnitLoc(udg_Footman02), GetRectCenter(gg_rct_Footman03)) / GetUnitMoveSpeed(udg_Footman02) ))
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call TriggerSleepAction(0.50)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitFacingToFaceLocTimed(udg_Footman02, GetRectCenter(gg_rct_Pitfire), 0.50)
    call TriggerSleepAction(0.50)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(udg_Footman02, "Cinematic Wave One")
    call QueueUnitAnimationBJ(udg_Footman02, "Cinematic Stand")
    call TriggerSleepAction(0.50)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlaySoundOnUnitBJ(gg_snd_MetalLightSliceMetal1, 100, udg_Footman03)
    call TriggerSleepAction(0.50)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitFacingToFaceLocTimed(udg_Footman01, GetRectCenter(gg_rct_Pitfire), 1.00)
    call SetDoodadAnimationRectBJ("death", 'NOfp', gg_rct_Pitfire)
    call SetUnitLookAt(udg_Footman03, "bone_head", udg_Captain, 0, 0, 90)
    call SetUnitLookAt(udg_Footman03, "bone_chest", udg_Captain, 0, 0, 90)
    call SetUnitAnimation(udg_Footman03, "Cinematic Headnod One")
    call QueueUnitAnimationBJ(udg_Footman03, "Cinematic Listening One")
    call SetUnitLookAt(udg_Captain, "bone_head", udg_Footman03, 0, 0, 90)
    call SetUnitFacingToFaceUnitTimed(udg_Captain, udg_Footman03, 0.50)
    call PlayDialogueFromSpeakerEx(bj_FORCE_PLAYER[0], udg_Footman03, 'h60K', gg_snd_WC2Orc01Footman1, bj_TIMETYPE_ADD, 0, true)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 0.50, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(0.50)
    call IssueBuildOrderByIdLocBJ(udg_Footman01, 'h620', GetRectCenter(gg_rct_TentB))
    call IssueBuildOrderByIdLocBJ(udg_Footman02, 'h620', GetRectCenter(gg_rct_TentA))
    call CameraSetupApplyForPlayer(true, gg_cam_Human03, Player(0), 0.00)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 0.50, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call CameraSetupApplyForPlayer(true, gg_cam_Human05, Player(0), ( ( GetSoundDurationBJ(gg_snd_WC2Orc01Footman2) + ( GetSoundDurationBJ(gg_snd_WC2Orc01Footman3) + GetSoundDurationBJ(gg_snd_WC2Orc01Captain2) ) ) + ( GetSoundDurationBJ(gg_snd_WC2Orc01Captain3) + 7.00 ) ))
    call TriggerSleepAction(0.50)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitFacingToFaceUnitTimed(udg_Footman02, udg_Captain, 0.50)
    call TriggerSleepAction(0.50)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(udg_Footman02, "Cinematic Standard One")
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(udg_Footman02, "Cinematic Point One")
    call QueueUnitAnimationBJ(udg_Footman02, "Cinematic Listening One")
    call PlaySoundAtPointBJ(gg_snd_OrcBuildingBirthWhat1, 100, GetRectCenter(gg_rct_TentA), 0)
    call SetUnitLookAt(udg_Footman02, "bone_head", udg_Captain, 0, 0, 90)
    call SetUnitLookAt(udg_Captain, "bone_head", udg_Footman02, 0, 0, 90)
    call SetUnitFacingToFaceUnitTimed(udg_Captain, udg_Footman02, 0.50)
    call PlayDialogueFromSpeakerEx(bj_FORCE_PLAYER[0], udg_Footman02, 'h60K', gg_snd_WC2Orc01Footman2, bj_TIMETYPE_ADD, 0, true)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(udg_Footman02, "Cinematic Listening One")
    call PlaySoundAtPointBJ(gg_snd_OrcBuildingBirthWhat1, 100, GetRectCenter(gg_rct_TentA), 0)
    call SetUnitLookAt(udg_Captain, "bone_head", udg_Footman03, 0, 0, 90)
    call SetUnitFacingToFaceLocTimed(udg_Captain, GetRectCenter(gg_rct_Pitfire), 0.50)
    call PlayDialogueFromSpeakerEx(bj_FORCE_PLAYER[0], udg_Captain, 'hcth', gg_snd_WC2Orc01Captain2, bj_TIMETYPE_ADD, 0, true)
    call TriggerSleepAction(1.00)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlayDialogueFromSpeakerEx(bj_FORCE_PLAYER[0], udg_Captain, 'hcth', gg_snd_WC2Orc01Captain3, bj_TIMETYPE_ADD, 0, true)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetDoodadAnimationRectBJ("stand", 'NOfp', gg_rct_Pitfire)
    call SetSoundPositionLocBJ(gg_snd_AshenvaleBrazierLoop1, GetRectCenter(gg_rct_Pitfire), 0)
    call ResetUnitLookAt(udg_Footman03)
    call SetUnitFacingToFaceLocTimed(udg_Footman03, GetRectCenter(gg_rct_Pitfire), 1.00)
    call TriggerSleepAction(1.00)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitBlendTimeBJ(udg_Footman03, 1.00)
    call SetUnitAnimation(udg_Footman03, "Cinematic sitting one")
    call TriggerSleepAction(0.50)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlayDialogueFromSpeakerEx(bj_FORCE_PLAYER[0], udg_Footman03, 'h60K', gg_snd_WC2Orc01Footman3, bj_TIMETYPE_ADD, 0, true)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    // UtokSeeShips
    call SetTerrainFogExBJ(0, 1000, 5500.00, 0.50, 31.00, 49.00, 52.00)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(1.00)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call ShowUnitShow(gg_unit_o605_0004)
    call SetUnitColor(gg_unit_o605_0004, PLAYER_COLOR_RED)
    call CameraSetupApplyForPlayer(true, gg_cam_HumansAppear, Player(0), 0)
    call TriggerSleepAction(1.00)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    // UtokSeeShips
    call SetCameraFieldForPlayer(Player(0), CAMERA_FIELD_FIELD_OF_VIEW, 60.00, ( GetSoundDurationBJ(gg_snd_WC2Orc01Utok2) + 3.00 ))
    call TriggerSleepAction(1.00)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlayDialogueFromSpeakerTypeEx(GetPlayersAll(), Player(0), 'o605', GetCameraEyePositionLoc(), gg_snd_WC2Orc01Utok2, bj_TIMETYPE_ADD, 0, true)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call ConditionalTriggerExecute(gg_trg_Human_CleanUp)
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_HumanCinematicQ takes nothing returns nothing
    set gg_trg_HumanCinematicQ=CreateTrigger()
    call TriggerAddAction(gg_trg_HumanCinematicQ, function Trig_HumanCinematicQ_Actions)
endfunction

//===========================================================================
// Trigger: HumanCinematicCaptainTurn
//===========================================================================
function Trig_HumanCinematicCaptainTurn_Conditions takes nothing returns boolean
    if ( not ( udg_HumanCinematic == true ) ) then
        return false
    endif
    if ( not ( GetEnteringUnit() == udg_Captain ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanCinematicCaptainTurn_Func003001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicCaptainTurn_Func009001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicCaptainTurn_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(0.50)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitFacingToFaceLocTimed(udg_Captain, GetRectCenter(gg_rct_Pitfire), 1.00)
    call TriggerSleepAction(1.00)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimationWithRarity(udg_Captain, "stand", RARITY_FREQUENT)
endfunction

//===========================================================================
function InitTrig_HumanCinematicCaptainTurn takes nothing returns nothing
    set gg_trg_HumanCinematicCaptainTurn=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_HumanCinematicCaptainTurn, gg_rct_Captain_Speak)
    call TriggerAddCondition(gg_trg_HumanCinematicCaptainTurn, Condition(function Trig_HumanCinematicCaptainTurn_Conditions))
    call TriggerAddAction(gg_trg_HumanCinematicCaptainTurn, function Trig_HumanCinematicCaptainTurn_Actions)
endfunction

//===========================================================================
// Trigger: HumanCinematicFootmanTurn
//===========================================================================
function Trig_HumanCinematicFootmanTurn_Conditions takes nothing returns boolean
    if ( not ( udg_HumanCinematic == true ) ) then
        return false
    endif
    if ( not ( GetEnteringUnit() == udg_Footman03 ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanCinematicFootmanTurn_Func003001 takes nothing returns boolean
    return ( udg_HumanCinematicSkipped == true )
endfunction

function Trig_HumanCinematicFootmanTurn_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(0.50)
    if ( (udg_HumanCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitFacingToFaceLocTimed(udg_Footman03, GetRectCenter(gg_rct_Captain_Speak), 1.00)
endfunction

//===========================================================================
function InitTrig_HumanCinematicFootmanTurn takes nothing returns nothing
    set gg_trg_HumanCinematicFootmanTurn=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_HumanCinematicFootmanTurn, gg_rct_Footman02)
    call TriggerAddCondition(gg_trg_HumanCinematicFootmanTurn, Condition(function Trig_HumanCinematicFootmanTurn_Conditions))
    call TriggerAddAction(gg_trg_HumanCinematicFootmanTurn, function Trig_HumanCinematicFootmanTurn_Actions)
endfunction

//===========================================================================
// Trigger: Human Skipped
//===========================================================================
function Trig_Human_Skipped_Conditions takes nothing returns boolean
    if ( not ( udg_HumanCinematic == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Human_Skipped_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_HumanCinematicSkipped=true
    call ConditionalTriggerExecute(gg_trg_Human_CleanUp)
    call QueuedTriggerRemoveBJ(gg_trg_HumanCinematicQ)
endfunction

//===========================================================================
function InitTrig_Human_Skipped takes nothing returns nothing
    set gg_trg_Human_Skipped=CreateTrigger()
    call TriggerRegisterPlayerEventEndCinematic(gg_trg_Human_Skipped, Player(0))
    call TriggerAddCondition(gg_trg_Human_Skipped, Condition(function Trig_Human_Skipped_Conditions))
    call TriggerAddAction(gg_trg_Human_Skipped, function Trig_Human_Skipped_Actions)
endfunction

//===========================================================================
// Trigger: Human CleanUp
//===========================================================================
function Trig_Human_CleanUp_Func015002 takes nothing returns nothing
    call ShowUnitShow(GetEnumUnit())
endfunction

function Trig_Human_CleanUp_Func018C takes nothing returns boolean
    if ( not ( udg_HumanCinematicSkipped == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Human_CleanUp_Func024Func001Func002C takes nothing returns boolean
    if ( ( GetDestructableTypeId(GetEnumDestructable()) == 'B60S' ) ) then
        return true
    endif
    if ( ( GetDestructableTypeId(GetEnumDestructable()) == 'B60N' ) ) then
        return true
    endif
    if ( ( GetDestructableTypeId(GetEnumDestructable()) == 'YTpc' ) ) then
        return true
    endif
    if ( ( GetDestructableTypeId(GetEnumDestructable()) == 'YTpb' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Human_CleanUp_Func024Func001C takes nothing returns boolean
    if ( not Trig_Human_CleanUp_Func024Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Human_CleanUp_Func024A takes nothing returns nothing
    if ( Trig_Human_CleanUp_Func024Func001C() ) then
        call RemoveDestructable(GetEnumDestructable())
    else
    endif
endfunction

function Trig_Human_CleanUp_Func036C takes nothing returns boolean
    if ( not ( IsQuestCompleted(udg_WolfsQuest) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Human_CleanUp_Func037001002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'h620' )
endfunction

function Trig_Human_CleanUp_Func037A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction

function Trig_Human_CleanUp_Func040001002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'h620' )
endfunction

function Trig_Human_CleanUp_Func040A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction

function Trig_Human_CleanUp_Func062002 takes nothing returns nothing
    call UnitRemoveAbilityBJ('Ahrp', GetEnumUnit())
endfunction

function Trig_Human_CleanUp_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_HumanCinematic=false
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 2.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(2.00)
    call ShowDestructableBJ(true, gg_dest_B61C_1509)
    call ShowDestructableBJ(true, gg_dest_LTba_1955)
    call ShowDestructableBJ(true, gg_dest_LTba_1954)
    call ShowDestructableBJ(true, gg_dest_LTba_1956)
    call ShowDestructableBJ(true, gg_dest_LTba_1958)
    call ShowDestructableBJ(true, gg_dest_LTba_1959)
    call ShowDestructableBJ(true, gg_dest_LTba_1957)
    call ShowDestructableBJ(true, gg_dest_LTcr_1961)
    call ShowDestructableBJ(true, gg_dest_LTcr_1962)
    call ShowDestructableBJ(true, gg_dest_LTcr_1960)
    call ForGroupBJ(udg_HiddenTroops, function Trig_Human_CleanUp_Func015002)
    call ConditionalTriggerExecute(gg_trg_UnpauseActors)
    call VolumeGroupResetBJ()
    if ( Trig_Human_CleanUp_Func018C() ) then
        call StopSoundBJ(gg_snd_WC2Orc01Utok2, false)
        call StopSoundBJ(gg_snd_WC2Orc01Footman1, false)
        call StopSoundBJ(gg_snd_WC2Orc01Footman2, false)
        call StopSoundBJ(gg_snd_WC2Orc01Footman3, false)
        call StopSoundBJ(gg_snd_WC2Orc01Captain1, false)
        call StopSoundBJ(gg_snd_WC2Orc01Captain2, false)
        call StopSoundBJ(gg_snd_WC2Orc01Captain3, false)
    else
    endif
    call RemoveUnit(udg_Footman01)
    call RemoveUnit(udg_Footman02)
    call RemoveUnit(udg_Footman03)
    call RemoveUnit(udg_Captain)
    call RemoveUnit(gg_unit_o605_0004)
    call EnumDestructablesInRectAll(gg_rct_TreesBlockedWay, function Trig_Human_CleanUp_Func024A)
    call TriggerSleepAction(0.50)
    call CreateNUnitsAtLocFacingLocBJ(1, 'hcth', Player(1), GetRectCenter(gg_rct_Captain_Speak), GetRectCenter(gg_rct_Pitfire))
    set udg_Captain=GetLastCreatedUnit()
    call CreateNUnitsAtLocFacingLocBJ(1, 'h60K', Player(1), GetRectCenter(gg_rct_Footman05), GetRectCenter(gg_rct_Footman01))
    set udg_Footman01=GetLastCreatedUnit()
    call CreateNUnitsAtLocFacingLocBJ(1, 'h60K', Player(1), GetRectCenter(gg_rct_Footman01), GetRectCenter(gg_rct_BoarStart))
    set udg_Footman02=GetLastCreatedUnit()
    call CreateNUnitsAtLocFacingLocBJ(1, 'h60K', Player(1), GetRectCenter(gg_rct_Footman02), GetRectCenter(gg_rct_Pitfire))
    set udg_Footman03=GetLastCreatedUnit()
    call SetUnitAnimation(udg_Footman03, "Cinematic sitting one")
    call SetUnitBlendTimeBJ(udg_Footman03, 0.15)
    if ( Trig_Human_CleanUp_Func036C() ) then
        call CreateNUnitsAtLocFacingLocBJ(1, 'h60K', Player(1), GetRectCenter(gg_rct_Footman06), GetRectCenter(gg_rct_Wolf01Start))
    else
    endif
    call ForGroupBJ(GetUnitsInRectMatching(gg_rct_TentB, Condition(function Trig_Human_CleanUp_Func037001002)), function Trig_Human_CleanUp_Func037A)
    call CreateNUnitsAtLoc(1, 'h620', Player(1), GetRectCenter(gg_rct_TentB), bj_UNIT_FACING)
    set udg_TentB=GetLastCreatedUnit()
    call ForGroupBJ(GetUnitsInRectMatching(gg_rct_TentA, Condition(function Trig_Human_CleanUp_Func040001002)), function Trig_Human_CleanUp_Func040A)
    call CreateNUnitsAtLoc(1, 'h620', Player(1), GetRectCenter(gg_rct_TentA), bj_UNIT_FACING)
    set udg_TentA=GetLastCreatedUnit()
    call CreateNUnitsAtLocFacingLocBJ(1, 'h60K', Player(1), GetRectCenter(gg_rct_AdditionalFootman01), GetRectCenter(gg_rct_AdditionalFootman01Patrol))
    set udg_Footman04=GetLastCreatedUnit()
    call AddUnitAnimationPropertiesBJ(true, "Cinematic", udg_Footman04)
    call BlzSetUnitRealFieldBJ(udg_Footman04, UNIT_RF_ANIMATION_WALK_SPEED, 100.00)
    call SetUnitMoveSpeed(udg_Footman04, 100.00)
    call IssuePointOrderLocBJ(udg_Footman04, "patrol", GetRectCenter(gg_rct_AdditionalFootman01Patrol))
    call CreateNUnitsAtLocFacingLocBJ(1, 'h60K', Player(1), GetRectCenter(gg_rct_AdditionalFootman02), GetRectCenter(gg_rct_Pitfire))
    set udg_Footman05=GetLastCreatedUnit()
    call CreateNUnitsAtLocFacingLocBJ(1, 'h60K', Player(1), GetRectCenter(gg_rct_Footman03), GetRectCenter(gg_rct_Pitfire))
    set udg_Footman06=GetLastCreatedUnit()
    call SetUnitAnimation(udg_Footman06, "Cinematic Kneeling One")
    call CreateNUnitsAtLocFacingLocBJ(1, 'h60K', Player(1), GetRectCenter(gg_rct_Footman04), GetRectCenter(gg_rct_Pitfire))
    set udg_Footman07=GetLastCreatedUnit()
    call SetUnitAnimation(udg_Footman07, "Cinematic sitting one")
    call ShowUnitShow(gg_unit_h60B_0095)
    call ShowUnitShow(gg_unit_h60B_0096)
    call ShowUnitShow(gg_unit_h60B_0097)
    call ShowUnitShow(gg_unit_h60K_0094)
    call ShowUnitShow(gg_unit_h60K_0093)
    call ForGroupBJ(GetUnitsOfPlayerAndTypeId(Player(1), 'h60K'), function Trig_Human_CleanUp_Func062002)
    call IssueTargetDestructableOrder(gg_unit_h60K_0094, "attack", gg_dest_LTt4_0967)
    call IssueTargetDestructableOrder(gg_unit_h60K_0093, "attack", gg_dest_LTt4_0967)
    call EnableTrigger(gg_trg_TreeRestoreHP)
    call TriggerSleepAction(1.00)
    call ResetToGameCameraForPlayer(Player(0), 0)
    call ConditionalTriggerExecute(gg_trg_CameraRestore)
    call ConditionalTriggerExecute(gg_trg_SelectionRestore)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 2.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(1.00)
    call ConditionalTriggerExecute(gg_trg_OilTextShow)
    call CinematicModeBJ(false, GetPlayersAll())
    call TriggerSleepAction(1.00)
    call QueuedTriggerAddBJ(gg_trg_HumansQuest, true)
endfunction

//===========================================================================
function InitTrig_Human_CleanUp takes nothing returns nothing
    set gg_trg_Human_CleanUp=CreateTrigger()
    call TriggerAddAction(gg_trg_Human_CleanUp, function Trig_Human_CleanUp_Actions)
endfunction

//===========================================================================
// Trigger: FootmanRemoveAnimTag01
//===========================================================================
function Trig_FootmanRemoveAnimTag01_Conditions takes nothing returns boolean
    if ( not ( IsQuestDiscovered(udg_HumanQuest) == true ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_FootmanRemoveAnimTag01_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call AddUnitAnimationPropertiesBJ(false, "Cinematic", udg_Footman04)
    call BlzSetUnitRealFieldBJ(udg_Footman04, UNIT_RF_ANIMATION_WALK_SPEED, 270.00)
    call SetUnitMoveSpeed(udg_Footman04, GetUnitDefaultMoveSpeed(udg_Footman04))
    call IssueTargetOrderBJ(udg_Footman04, "attack", GetEnteringUnit())
endfunction

//===========================================================================
function InitTrig_FootmanRemoveAnimTag01 takes nothing returns nothing
    set gg_trg_FootmanRemoveAnimTag01=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_FootmanRemoveAnimTag01, gg_rct_PatrolREmoveCinematicAnim2)
    call TriggerAddCondition(gg_trg_FootmanRemoveAnimTag01, Condition(function Trig_FootmanRemoveAnimTag01_Conditions))
    call TriggerAddAction(gg_trg_FootmanRemoveAnimTag01, function Trig_FootmanRemoveAnimTag01_Actions)
endfunction

//===========================================================================
// Trigger: FootmanRemoveAnimTag02
//===========================================================================
function Trig_FootmanRemoveAnimTag02_Conditions takes nothing returns boolean
    if ( not ( IsQuestDiscovered(udg_HumanQuest) == true ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_FootmanRemoveAnimTag02_Func005A takes nothing returns nothing
    call AddUnitAnimationPropertiesBJ(false, "Cinematic", GetEnumUnit())
endfunction

function Trig_FootmanRemoveAnimTag02_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ForGroupBJ(GetUnitsInRectOfPlayer(gg_rct_PatrolREmoveCinematicAnim, Player(1)), function Trig_FootmanRemoveAnimTag02_Func005A)
endfunction

//===========================================================================
function InitTrig_FootmanRemoveAnimTag02 takes nothing returns nothing
    set gg_trg_FootmanRemoveAnimTag02=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_FootmanRemoveAnimTag02, gg_rct_PatrolREmoveCinematicAnim)
    call TriggerAddCondition(gg_trg_FootmanRemoveAnimTag02, Condition(function Trig_FootmanRemoveAnimTag02_Conditions))
    call TriggerAddAction(gg_trg_FootmanRemoveAnimTag02, function Trig_FootmanRemoveAnimTag02_Actions)
endfunction

//===========================================================================
// Trigger: Wolf CinematicQ
//===========================================================================
function Trig_Wolf_CinematicQ_Func011002 takes nothing returns nothing
    call GroupAddUnitSimple(GetEnumUnit(), udg_HiddenTroops)
endfunction

function Trig_Wolf_CinematicQ_Func012002 takes nothing returns nothing
    call ShowUnitHide(GetEnumUnit())
endfunction

function Trig_Wolf_CinematicQ_Func021002 takes nothing returns nothing
    call PauseUnitBJ(false, GetEnumUnit())
endfunction

function Trig_Wolf_CinematicQ_Func028001 takes nothing returns boolean
    return ( udg_WolfCinematicSkipped == true )
endfunction

function Trig_Wolf_CinematicQ_Func036001 takes nothing returns boolean
    return ( udg_WolfCinematicSkipped == true )
endfunction

function Trig_Wolf_CinematicQ_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(10.00)
    set udg_WolfCinematic=true
    call ConditionalTriggerExecute(gg_trg_CameraStore)
    call ConditionalTriggerExecute(gg_trg_SelectionStore)
    call ConditionalTriggerExecute(gg_trg_OilTextHide)
    call CinematicModeBJ(true, GetPlayersAll())
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 2, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(2.00)
    call ConditionalTriggerExecute(gg_trg_PauseActors)
    call ForGroupBJ(GetUnitsInRectOfPlayer(gg_rct_WolfCinHide, Player(0)), function Trig_Wolf_CinematicQ_Func011002)
    call ForGroupBJ(udg_HiddenTroops, function Trig_Wolf_CinematicQ_Func012002)
    call ShowUnitShow(gg_unit_nwwf_0030)
    call ShowUnitShow(gg_unit_nwwf_0029)
    call ShowUnitShow(gg_unit_nwwf_0028)
    call ShowUnitShow(gg_unit_nspp_0034)
    call SetUnitPositionLocFacingLocBJ(gg_unit_nspp_0034, GetRectCenter(gg_rct_BoarStart), GetRectCenter(gg_rct_PigEscapes))
    call SetUnitPositionLocFacingLocBJ(gg_unit_nwwf_0030, GetRectCenter(gg_rct_Wolf03Start), GetRectCenter(gg_rct_BoarStart))
    call SetUnitPositionLocFacingLocBJ(gg_unit_nwwf_0029, GetRectCenter(gg_rct_Wolf01Start), GetRectCenter(gg_rct_PigEscapes))
    call SetUnitPositionLocFacingLocBJ(gg_unit_nwwf_0028, GetRectCenter(gg_rct_Wolf02Start), GetRectCenter(gg_rct_PigEscapes))
    call ForGroupBJ(GetUnitsOfPlayerAll(Player(8)), function Trig_Wolf_CinematicQ_Func021002)
    call CameraSetupApplyForPlayer(true, gg_cam_Boar01, Player(0), 0)
    call IssuePointOrderLocBJ(gg_unit_nspp_0034, "move", GetRectCenter(gg_rct_BoarGo))
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 2, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call PlaySoundOnUnitBJ(gg_snd_CS_BG_Camp, 100, gg_unit_nspp_0034)
    call CameraSetupApplyForPlayerSmooth(true, gg_cam_Boar03, Player(0), 7.00, 0, 1.00, 0)
    call TriggerSleepAction(4.00)
    if ( (udg_WolfCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call PlaySoundOnUnitBJ(gg_snd_QuillBoarWhat2, 100, gg_unit_nspp_0034)
    call SetUnitOwner(gg_unit_nspp_0034, Player(bj_PLAYER_NEUTRAL_VICTIM), false)
    call IssuePointOrderLocBJ(gg_unit_nspp_0034, "move", GetRectCenter(gg_rct_PigEscapes))
    call IssueTargetOrderBJ(gg_unit_nwwf_0028, "attack", gg_unit_nspp_0034)
    call IssueTargetOrderBJ(gg_unit_nwwf_0029, "attack", gg_unit_nspp_0034)
    call PlaySoundOnUnitBJ(gg_snd_CS_Prologue2_Foley1, 100, gg_unit_nwwf_0028)
    call TriggerSleepAction(4.00)
    if ( (udg_WolfCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call IssueTargetOrderBJ(gg_unit_nwwf_0030, "attack", gg_unit_nspp_0034)
    call SetUnitAnimation(gg_unit_nspp_0034, "death")
    call PauseUnitBJ(true, gg_unit_nspp_0034)
    call PlaySoundOnUnitBJ(gg_snd_QuillboarDeath, 100, gg_unit_nspp_0034)
    call ConditionalTriggerExecute(gg_trg_Wolf_CleanUp)
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Wolf_CinematicQ takes nothing returns nothing
    set gg_trg_Wolf_CinematicQ=CreateTrigger()
    call TriggerAddAction(gg_trg_Wolf_CinematicQ, function Trig_Wolf_CinematicQ_Actions)
endfunction

//===========================================================================
// Trigger: Wolf Skipped
//===========================================================================
function Trig_Wolf_Skipped_Conditions takes nothing returns boolean
    if ( not ( udg_WolfCinematic == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Wolf_Skipped_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_WolfCinematicSkipped=true
    call ConditionalTriggerExecute(gg_trg_Wolf_CleanUp)
    call QueuedTriggerRemoveBJ(gg_trg_Wolf_CinematicQ)
endfunction

//===========================================================================
function InitTrig_Wolf_Skipped takes nothing returns nothing
    set gg_trg_Wolf_Skipped=CreateTrigger()
    call TriggerRegisterPlayerEventEndCinematic(gg_trg_Wolf_Skipped, Player(0))
    call TriggerAddCondition(gg_trg_Wolf_Skipped, Condition(function Trig_Wolf_Skipped_Conditions))
    call TriggerAddAction(gg_trg_Wolf_Skipped, function Trig_Wolf_Skipped_Actions)
endfunction

//===========================================================================
// Trigger: Wolf CleanUp
//===========================================================================
function Trig_Wolf_CleanUp_Func004002 takes nothing returns nothing
    call ShowUnitShow(GetEnumUnit())
endfunction

function Trig_Wolf_CleanUp_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(2.00)
    call ForGroupBJ(udg_HiddenTroops, function Trig_Wolf_CleanUp_Func004002)
    call CreatePermanentCorpseLocBJ(bj_CORPSETYPE_BONE, 'nspp', Player(0), GetUnitLoc(gg_unit_nspp_0034), GetUnitFacing(gg_unit_nspp_0034))
    call RemoveUnit(gg_unit_nspp_0034)
    call SetUnitOwner(gg_unit_nwwf_0028, Player(8), true)
    call SetUnitOwner(gg_unit_nwwf_0030, Player(8), true)
    call SetUnitOwner(gg_unit_nwwf_0029, Player(8), true)
    call IssuePointOrderLocBJ(gg_unit_nwwf_0028, "attack", GetRectCenter(gg_rct_OrcCamp))
    call IssuePointOrderLocBJ(gg_unit_nwwf_0030, "attack", GetRectCenter(gg_rct_OrcCamp))
    call IssuePointOrderLocBJ(gg_unit_nwwf_0029, "attack", GetRectCenter(gg_rct_OrcCamp))
    call ShowUnitShow(gg_unit_nwlt_0033)
    call ShowUnitShow(gg_unit_nwlt_0032)
    call ShowUnitShow(gg_unit_nwlt_0031)
    call ConditionalTriggerExecute(gg_trg_UnpauseActors)
    set udg_WolfCinematic=false
    call TriggerSleepAction(1.00)
    call ResetToGameCameraForPlayer(Player(0), 0)
    call ConditionalTriggerExecute(gg_trg_CameraRestore)
    call ConditionalTriggerExecute(gg_trg_SelectionRestore)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(1.00)
    call ConditionalTriggerExecute(gg_trg_OilTextShow)
    call CinematicModeBJ(false, GetPlayersAll())
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Wolf_CleanUp takes nothing returns nothing
    set gg_trg_Wolf_CleanUp=CreateTrigger()
    call TriggerAddAction(gg_trg_Wolf_CleanUp, function Trig_Wolf_CleanUp_Actions)
endfunction

//===========================================================================
// Trigger: HumansKilledCinTriggered
//===========================================================================
function Trig_HumansKilledCinTriggered_Conditions takes nothing returns boolean
    if ( not ( IsQuestItemCompleted(udg_HRequirem01) == true ) ) then
        return false
    endif
    if ( not ( IsQuestItemCompleted(udg_HRequirem02) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumansKilledCinTriggered_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call QueuedTriggerAddBJ(gg_trg_HumanKilledCinQ, true)
endfunction

//===========================================================================
function InitTrig_HumansKilledCinTriggered takes nothing returns nothing
    set gg_trg_HumansKilledCinTriggered=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_HumansKilledCinTriggered, 2)
    call TriggerAddCondition(gg_trg_HumansKilledCinTriggered, Condition(function Trig_HumansKilledCinTriggered_Conditions))
    call TriggerAddAction(gg_trg_HumansKilledCinTriggered, function Trig_HumansKilledCinTriggered_Actions)
endfunction

//===========================================================================
// Trigger: HumanKilledCinQ
//===========================================================================
function Trig_HumanKilledCinQ_Func022001 takes nothing returns boolean
    return ( udg_HumanKilledCinematicSkipped == true )
endfunction

function Trig_HumanKilledCinQ_Func028001 takes nothing returns boolean
    return ( udg_HumanKilledCinematicSkipped == true )
endfunction

function Trig_HumanKilledCinQ_Func032001 takes nothing returns boolean
    return ( udg_HumanKilledCinematicSkipped == true )
endfunction

function Trig_HumanKilledCinQ_Func035001 takes nothing returns boolean
    return ( udg_HumanKilledCinematicSkipped == true )
endfunction

function Trig_HumanKilledCinQ_Func043001 takes nothing returns boolean
    return ( udg_HumanKilledCinematicSkipped == true )
endfunction

function Trig_HumanKilledCinQ_Func047001 takes nothing returns boolean
    return ( udg_HumanKilledCinematicSkipped == true )
endfunction

function Trig_HumanKilledCinQ_Func050001 takes nothing returns boolean
    return ( udg_HumanKilledCinematicSkipped == true )
endfunction

function Trig_HumanKilledCinQ_Func056001 takes nothing returns boolean
    return ( udg_HumanKilledCinematicSkipped == true )
endfunction

function Trig_HumanKilledCinQ_Func063001 takes nothing returns boolean
    return ( udg_HumanKilledCinematicSkipped == true )
endfunction

function Trig_HumanKilledCinQ_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call TriggerSleepAction(2)
    call ConditionalTriggerExecute(gg_trg_CameraStore)
    call ConditionalTriggerExecute(gg_trg_SelectionStore)
    call ConditionalTriggerExecute(gg_trg_OilTextHide)
    call CinematicModeBJ(true, GetPlayersAll())
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(1.00)
    call SetTerrainFogExBJ(0, 1000, 5500.00, 0.50, 31.00, 49.00, 52.00)
    call ConditionalTriggerExecute(gg_trg_PauseActors)
    call SetUnitInvulnerable(udg_HumanShipAloc, false)
    call SetCineModeVolumeGroupsBJ()
    call ShowUnitShow(gg_unit_o60P_0036)
    call PauseUnitBJ(false, gg_unit_o60P_0036)
    call PauseUnitBJ(false, gg_unit_hdes_0016)
    call CreateNUnitsAtLoc(1, 'o60G', Player(0), GetRectCenter(gg_rct_OperationalGrunt), 225.00)
    set udg_OperationalGrunt=GetLastCreatedUnit()
    call SetUnitTimeScalePercent(udg_OperationalGrunt, 60.00)
    call CameraSetupApplyForPlayer(true, gg_cam_Catapult, Player(0), 0)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call CameraSetupApplyForPlayer(true, gg_cam_Catapult02, Player(0), 12.00)
    if ( (udg_HumanKilledCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    // CinematicStarted
    set udg_HumanKilledCinematic=true
    // Ship 1 Destroyed
    call SetUnitFacingToFaceUnitTimed(gg_unit_o60P_0036, gg_unit_hdes_0016, 1.00)
    call TriggerSleepAction(1.00)
    if ( (udg_HumanKilledCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(udg_OperationalGrunt, "Attack 2")
    call QueueUnitAnimationBJ(udg_OperationalGrunt, "stand")
    call TriggerSleepAction(0.50)
    if ( (udg_HumanKilledCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call IssueTargetOrderBJ(gg_unit_o60P_0036, "attack", gg_unit_hdes_0016)
    call TriggerSleepAction(2.50)
    if ( (udg_HumanKilledCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call KillUnit(gg_unit_hdes_0016)
    call PlaySoundAtPointBJ(gg_snd_BattleShipDeath1, 100, GetRectCenter(gg_rct_HumanShip), 0)
    call TriggerSleepAction(2.00)
    // Ship 2 Destroyed
    call SetUnitFacingToFaceUnitTimed(udg_OperationalGrunt, gg_unit_nbsp_0048, 1.00)
    call SetUnitFacingToFaceUnitTimed(gg_unit_o60P_0036, gg_unit_nbsp_0048, 1.00)
    call TriggerSleepAction(1.00)
    if ( (udg_HumanKilledCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call SetUnitAnimation(udg_OperationalGrunt, "Attack 2")
    call QueueUnitAnimationBJ(udg_OperationalGrunt, "stand")
    call TriggerSleepAction(0.50)
    if ( (udg_HumanKilledCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call IssueTargetOrderBJ(gg_unit_o60P_0036, "attack", gg_unit_nbsp_0048)
    call TriggerSleepAction(2.00)
    if ( (udg_HumanKilledCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call KillUnit(gg_unit_nbsp_0048)
    call PlaySoundAtPointBJ(gg_snd_BattleShipDeath1, 100, GetRectCenter(gg_rct_HumanShip), 0)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(1.00)
    call CameraSetupApplyForPlayer(true, gg_cam_Catapult03, Player(0), 0)
    if ( (udg_HumanKilledCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call CameraSetupApplyForPlayer(true, gg_cam_Catapult04, Player(0), ( GetSoundDurationBJ(gg_snd_T02Grunt04901) + 3.00 ))
    call SetUnitAnimation(udg_OperationalGrunt, "stand victory")
    call QueueUnitAnimationBJ(udg_OperationalGrunt, "stand")
    call PlayDialogueFromSpeakerEx(bj_FORCE_PLAYER[0], udg_OperationalGrunt, 'o60G', gg_snd_T02Grunt04901, bj_TIMETYPE_ADD, 0, true)
    if ( (udg_HumanKilledCinematicSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    // CinematicEnded
    call ConditionalTriggerExecute(gg_trg_HumanKilledCleanUp)
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_HumanKilledCinQ takes nothing returns nothing
    set gg_trg_HumanKilledCinQ=CreateTrigger()
    call TriggerAddAction(gg_trg_HumanKilledCinQ, function Trig_HumanKilledCinQ_Actions)
endfunction

//===========================================================================
// Trigger: HumanKilledSkipped
//===========================================================================
function Trig_HumanKilledSkipped_Conditions takes nothing returns boolean
    if ( not ( udg_HumanKilledCinematic == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanKilledSkipped_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_HumanKilledCinematicSkipped=true
    call ConditionalTriggerExecute(gg_trg_HumanKilledCleanUp)
    call QueuedTriggerRemoveBJ(gg_trg_HumanKilledCinQ)
endfunction

//===========================================================================
function InitTrig_HumanKilledSkipped takes nothing returns nothing
    set gg_trg_HumanKilledSkipped=CreateTrigger()
    call TriggerRegisterPlayerEventEndCinematic(gg_trg_HumanKilledSkipped, Player(0))
    call TriggerAddCondition(gg_trg_HumanKilledSkipped, Condition(function Trig_HumanKilledSkipped_Conditions))
    call TriggerAddAction(gg_trg_HumanKilledSkipped, function Trig_HumanKilledSkipped_Actions)
endfunction

//===========================================================================
// Trigger: HumanKilledCleanUp
//===========================================================================
function Trig_HumanKilledCleanUp_Func005C takes nothing returns boolean
    if ( not ( udg_HumanKilledCinematicSkipped == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_HumanKilledCleanUp_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_HumanKilledCinematic=false
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(1.00)
    if ( Trig_HumanKilledCleanUp_Func005C() ) then
        call StopSoundBJ(gg_snd_T02Grunt04901, false)
        call KillUnit(gg_unit_nbsp_0048)
        call KillUnit(gg_unit_hdes_0016)
        call CreatePermanentCorpseLocBJ(bj_CORPSETYPE_FLESH, 'nbsp', Player(1), GetUnitLoc(gg_unit_nbsp_0048), GetUnitFacing(gg_unit_nbsp_0048))
        call RemoveUnit(gg_unit_nbsp_0048)
    else
    endif
    call RemoveUnit(udg_OperationalGrunt)
    call CreatePermanentCorpseLocBJ(bj_CORPSETYPE_FLESH, 'nbsp', Player(1), GetUnitLoc(gg_unit_nbsp_0048), GetUnitFacing(gg_unit_nbsp_0048))
    call RemoveUnit(gg_unit_nbsp_0048)
    call TriggerSleepAction(0.50)
    call RemoveUnit(gg_unit_o60P_0036)
    call ResetTerrainFogBJ()
    call ResetToGameCameraForPlayer(Player(0), 0)
    call ConditionalTriggerExecute(gg_trg_CameraRestore)
    call ConditionalTriggerExecute(gg_trg_SelectionRestore)
    call ConditionalTriggerExecute(gg_trg_UnpauseActors)
    call VolumeGroupResetBJ()
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(1.00)
    call ConditionalTriggerExecute(gg_trg_OilTextShow)
    call CinematicModeBJ(false, GetPlayersAll())
    call QueuedTriggerAddBJ(gg_trg_HumansCompleted, true)
    call QueuedTriggerRemoveBJ(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_HumanKilledCleanUp takes nothing returns nothing
    set gg_trg_HumanKilledCleanUp=CreateTrigger()
    call TriggerAddAction(gg_trg_HumanKilledCleanUp, function Trig_HumanKilledCleanUp_Actions)
endfunction

//===========================================================================
// Trigger: Final Cinematic
//===========================================================================
function Trig_Final_Cinematic_Func016C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Rend) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Final_Cinematic_Func020002 takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction

function Trig_Final_Cinematic_Func021C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(udg_Utok) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Final_Cinematic_Func025001 takes nothing returns boolean
    return ( udg_FinalSkipped == true )
endfunction

function Trig_Final_Cinematic_Func042001 takes nothing returns boolean
    return ( udg_FinalSkipped == true )
endfunction

function Trig_Final_Cinematic_Func044001 takes nothing returns boolean
    return ( udg_FinalSkipped == true )
endfunction

function Trig_Final_Cinematic_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call ClearSelectionForPlayer(Player(0))
    call ConditionalTriggerExecute(gg_trg_OilTextHide)
    call CinematicModeBJ(true, GetPlayersAll())
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call TriggerSleepAction(1.00)
    call CreateNUnitsAtLocFacingLocBJ(1, 'o60D', Player(0), GetRectCenter(gg_rct_PeonFinal01), GetRectCenter(gg_rct_PeonFinal02))
    set udg_PeonFinal01=GetLastCreatedUnit()
    call CreateNUnitsAtLocFacingLocBJ(1, 'o60D', Player(0), GetRectCenter(gg_rct_PeonFinal01), GetRectCenter(gg_rct_PeonFinal02))
    set udg_PeonFinal02=GetLastCreatedUnit()
    call CreateNUnitsAtLocFacingLocBJ(1, 'o60D', Player(0), GetRectCenter(gg_rct_PeonFinal00), GetRectCenter(gg_rct_PeonFinal02))
    set udg_PeonFinal03=GetLastCreatedUnit()
    call CreateNUnitsAtLocFacingLocBJ(1, 'o60D', Player(0), GetRectCenter(gg_rct_PeonFinal00), GetRectCenter(gg_rct_PeonFinal02))
    set udg_PeonFinal04=GetLastCreatedUnit()
    call ConditionalTriggerExecute(gg_trg_Peonsworking)
    if ( Trig_Final_Cinematic_Func016C() ) then
        call SetUnitPositionLocFacingLocBJ(udg_Rend, GetRectCenter(gg_rct_UrukFinal), GetRectCenter(gg_rct_PeonFinal02))
    else
        call ReviveHeroLoc(udg_Rend, GetRectCenter(gg_rct_UrukFinal), false)
        call SetUnitFacingToFaceLocTimed(udg_Rend, GetRectCenter(gg_rct_PeonFinal02), 0)
    endif
    call RemoveUnit(gg_unit_o60Q_0014)
    call CreateNUnitsAtLocFacingLocBJ(1, 'o60Q', Player(4), GetRectCenter(gg_rct_BoatFinal), GetRectCenter(gg_rct_Boat01))
    call SetUnitColor(GetLastCreatedUnit(), PLAYER_COLOR_RED)
    call ForGroupBJ(GetUnitsOfPlayerAll(Player(8)), function Trig_Final_Cinematic_Func020002)
    if ( Trig_Final_Cinematic_Func021C() ) then
        call SetUnitPositionLocFacingLocBJ(gg_unit_o605_0006, GetRectCenter(gg_rct_UtokFinal), GetRectCenter(gg_rct_UrukFinal))
        call AddUnitAnimationPropertiesBJ(true, "Cinematic", gg_unit_o605_0006)
        call SetUnitAnimation(gg_unit_o605_0006, "Cinematic Writing One")
    else
        call CreateNUnitsAtLocFacingLocBJ(1, 'o605', Player(0), GetRectCenter(gg_rct_UtokFinal), GetRectCenter(gg_rct_UrukFinal))
        set udg_Utok=GetLastCreatedUnit()
        call AddUnitAnimationPropertiesBJ(true, "Cinematic", GetLastCreatedUnit())
        call SetUnitAnimation(GetLastCreatedUnit(), "Cinematic Writing One")
    endif
    // Ролик начался
    call SetCineModeVolumeGroupsBJ()
    call PlayThematicMusicBJ("OrcVictory")
    if ( (udg_FinalSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call CameraSetupApplyForPlayer(true, gg_cam_Final01, Player(0), 0)
    // ///
    call ShowUnitHide(udg_Rend)
    call CreateNUnitsAtLocFacingLocBJ(1, 'O617', Player(20), GetRectCenter(gg_rct_UrukFinal), GetRectCenter(gg_rct_PeonFinal02))
    set udg_FakeRend=GetLastCreatedUnit()
    call SetUnitBlendTimeBJ(udg_FakeRend, 0.25)
    call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 1.00, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 0, 0, 0, 0)
    call SetSoundPositionLocBJ(gg_snd_CS_BG_Camp01, GetRectCenter(gg_rct_PeonsWorking), 0)
    set udg_FinalCinematic=true
    call CameraSetupApplyForPlayerSmooth(true, gg_cam_FinalBoatLoading, Player(0), 15.50, 0, 2.00, 100.00)
    call SetUnitAnimation(udg_FakeRend, "stand victory")
    call QueueUnitAnimationBJ(udg_FakeRend, "stand victory")
    call QueueUnitAnimationBJ(udg_FakeRend, "stand")
    // ///
    call PlayDialogueFromSpeakerEx(bj_FORCE_PLAYER[0], udg_FakeRend, 'O617', gg_snd_WC2Orc01Rend10, bj_TIMETYPE_ADD, 0, true)
    if ( (udg_FinalSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    call TriggerSleepAction(7.00)
    if ( (udg_FinalSkipped == true) ) then // INLINED!!
        return
    else
        call DoNothing()
    endif
    // Ролик закончился
    call VolumeGroupResetBJ()
    call DisableTrigger(gg_trg_Final_Skipped)
    call TriggerExecute(gg_trg_Next_Level_Prep)
endfunction

//===========================================================================
function InitTrig_Final_Cinematic takes nothing returns nothing
    set gg_trg_Final_Cinematic=CreateTrigger()
    call DisableTrigger(gg_trg_Final_Cinematic)
    call TriggerAddAction(gg_trg_Final_Cinematic, function Trig_Final_Cinematic_Actions)
endfunction

//===========================================================================
// Trigger: Final Skipped
//===========================================================================
function Trig_Final_Skipped_Conditions takes nothing returns boolean
    if ( not ( udg_FinalCinematic == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Final_Skipped_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_FinalSkipped=true
    call ConditionalTriggerExecute(gg_trg_Next_Level_Prep)
endfunction

//===========================================================================
function InitTrig_Final_Skipped takes nothing returns nothing
    set gg_trg_Final_Skipped=CreateTrigger()
    call TriggerRegisterPlayerEventEndCinematic(gg_trg_Final_Skipped, Player(0))
    call TriggerAddCondition(gg_trg_Final_Skipped, Condition(function Trig_Final_Skipped_Conditions))
    call TriggerAddAction(gg_trg_Final_Skipped, function Trig_Final_Skipped_Actions)
endfunction

//===========================================================================
// Trigger: Finalization
//===========================================================================
function Trig_Finalization_Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call CinematicFilterGenericBJ(2.00, BLEND_MODE_BLEND, "ReplaceableTextures\\CameraMasks\\Black_mask.blp", 100, 100, 100, 100, 100.00, 100.00, 100.00, 0)
    call TriggerSleepAction(3.00)
    set udg_FinalCinematic=false
    call RemoveUnit(udg_FakeRend)
    call CustomVictoryBJ(Player(0), true, false)
endfunction

//===========================================================================
function InitTrig_Finalization takes nothing returns nothing
    set gg_trg_Finalization=CreateTrigger()
    call DisableTrigger(gg_trg_Finalization)
    call TriggerAddAction(gg_trg_Finalization, function Trig_Finalization_Actions)
endfunction

//===========================================================================
// Trigger: Peonsworking
//===========================================================================
function Trig_Peonsworking_Func001001002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'opeo' )
endfunction

function Trig_Peonsworking_Func001002 takes nothing returns nothing
    call AddUnitAnimationPropertiesBJ(true, "gold", GetEnumUnit())
endfunction

function Trig_Peonsworking_Func002001002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'opeo' )
endfunction

function Trig_Peonsworking_Func002002 takes nothing returns nothing
    call AddUnitAnimationPropertiesBJ(true, "lumber", GetEnumUnit())
endfunction

function Trig_Peonsworking_Actions takes nothing returns nothing
    call ForGroupBJ(GetUnitsInRectMatching(gg_rct_PeonFinal01, Condition(function Trig_Peonsworking_Func001001002)), function Trig_Peonsworking_Func001002)
    call ForGroupBJ(GetUnitsInRectMatching(gg_rct_PeonFinal00, Condition(function Trig_Peonsworking_Func002001002)), function Trig_Peonsworking_Func002002)
    call IssuePointOrderLocBJ(udg_PeonFinal01, "patrol", GetRectCenter(gg_rct_PeonFinal02))
    call TriggerSleepAction(1.50)
    call IssuePointOrderLocBJ(udg_PeonFinal03, "patrol", GetRectCenter(gg_rct_PeonFinal02))
    call TriggerSleepAction(1.50)
    call IssuePointOrderLocBJ(udg_PeonFinal02, "patrol", GetRectCenter(gg_rct_PeonFinal03))
    call TriggerSleepAction(1.50)
    call IssuePointOrderLocBJ(udg_PeonFinal04, "patrol", GetRectCenter(gg_rct_PeonFinal03))
endfunction

//===========================================================================
function InitTrig_Peonsworking takes nothing returns nothing
    set gg_trg_Peonsworking=CreateTrigger()
    call TriggerAddAction(gg_trg_Peonsworking, function Trig_Peonsworking_Actions)
endfunction

//===========================================================================
// Trigger: Tag off
//===========================================================================
function Trig_Tag_off_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetEnteringUnit()) == 'o60D' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Tag_off_Actions takes nothing returns nothing
    call AddUnitAnimationPropertiesBJ(false, "gold", GetEnteringUnit())
    call AddUnitAnimationPropertiesBJ(false, "lumber", GetEnteringUnit())
    call SetUnitMoveSpeed(GetEnteringUnit(), GetUnitDefaultMoveSpeed(GetEnteringUnit()))
    call PlaySoundAtPointBJ(gg_snd_BundleOfLumber, 100, GetCameraTargetPositionLoc(), 0)
endfunction

//===========================================================================
function InitTrig_Tag_off takes nothing returns nothing
    set gg_trg_Tag_off=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Tag_off, gg_rct_PeonFinal02)
    call TriggerRegisterEnterRectSimple(gg_trg_Tag_off, gg_rct_PeonFinal03)
    call TriggerAddCondition(gg_trg_Tag_off, Condition(function Trig_Tag_off_Conditions))
    call TriggerAddAction(gg_trg_Tag_off, function Trig_Tag_off_Actions)
endfunction

//===========================================================================
// Trigger: Tag on 01
//===========================================================================
function Trig_Tag_on_01_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetEnteringUnit()) == 'o60D' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Tag_on_01_Actions takes nothing returns nothing
    call AddUnitAnimationPropertiesBJ(true, "lumber", GetEnteringUnit())
    call SetUnitMoveSpeed(GetEnteringUnit(), 95.00)
endfunction

//===========================================================================
function InitTrig_Tag_on_01 takes nothing returns nothing
    set gg_trg_Tag_on_01=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Tag_on_01, gg_rct_PeonFinal00)
    call TriggerAddCondition(gg_trg_Tag_on_01, Condition(function Trig_Tag_on_01_Conditions))
    call TriggerAddAction(gg_trg_Tag_on_01, function Trig_Tag_on_01_Actions)
endfunction

//===========================================================================
// Trigger: Tag on 02
//===========================================================================
function Trig_Tag_on_02_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetEnteringUnit()) == 'o60D' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Tag_on_02_Actions takes nothing returns nothing
    call AddUnitAnimationPropertiesBJ(true, "gold", GetEnteringUnit())
    call SetUnitMoveSpeed(GetEnteringUnit(), 95.00)
endfunction

//===========================================================================
function InitTrig_Tag_on_02 takes nothing returns nothing
    set gg_trg_Tag_on_02=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Tag_on_02, gg_rct_PeonFinal01)
    call TriggerAddCondition(gg_trg_Tag_on_02, Condition(function Trig_Tag_on_02_Conditions))
    call TriggerAddAction(gg_trg_Tag_on_02, function Trig_Tag_on_02_Actions)
endfunction

//===========================================================================
// Trigger: Next Level Prep
//===========================================================================
function Trig_Next_Level_Prep_Func001C takes nothing returns boolean
    if ( not ( udg_FinalSkipped == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Next_Level_Prep_Actions takes nothing returns nothing
    if ( Trig_Next_Level_Prep_Func001C() ) then
        call StopSoundBJ(gg_snd_WC2Orc01Rend10, false)
    else
    endif
    call ShowUnitShow(udg_Rend)
    call SetUnitOwner(udg_Rend, Player(0), false)
    call InitGameCacheBJ("WC2Horde.w3v")
    set udg_Cache=GetLastCreatedGameCacheBJ()
    call TriggerSleepAction(0.10)
    call StoreUnitBJ(udg_Rend, "Rend", "WC2Orc01", udg_Cache)
    call StoreUnitBJ(udg_Utok, "Utok", "WC2Orc01", udg_Cache)
    call StoreBooleanBJ(true, "Completed", "WC2Orc01", udg_Cache)
    call TriggerSleepAction(0.10)
    call SaveGameCacheBJ(udg_Cache)
    // Original map transition code
    call ShowCustomCampaignButton(true, 3)
    call SetNextLevelBJ("WC2orc02.w3x")
    call ConditionalTriggerExecute(gg_trg_Finalization)
endfunction

//===========================================================================
function InitTrig_Next_Level_Prep takes nothing returns nothing
    set gg_trg_Next_Level_Prep=CreateTrigger()
    call TriggerAddAction(gg_trg_Next_Level_Prep, function Trig_Next_Level_Prep_Actions)
endfunction

//===========================================================================
// Trigger: Glittering Prizes
//===========================================================================
function Trig_Glittering_Prizes_Actions takes nothing returns nothing
    call SetPlayerStateBJ(Player(0), PLAYER_STATE_RESOURCE_GOLD, ( GetPlayerState(Player(0), PLAYER_STATE_RESOURCE_GOLD) + 10000 ))
    call SetPlayerStateBJ(Player(0), PLAYER_STATE_RESOURCE_LUMBER, ( GetPlayerState(Player(0), PLAYER_STATE_RESOURCE_LUMBER) + 5000 ))
    call TriggerSleepAction(1.00)
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_SECRET, "TRIGSTR_189")
endfunction

//===========================================================================
function InitTrig_Glittering_Prizes takes nothing returns nothing
    set gg_trg_Glittering_Prizes=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_Glittering_Prizes, Player(0), "Glittering prizes", true)
    call TriggerAddAction(gg_trg_Glittering_Prizes, function Trig_Glittering_Prizes_Actions)
endfunction

//===========================================================================
// Trigger: Deck me out
//===========================================================================
function Trig_Deck_me_out_Actions takes nothing returns nothing
    call SetPlayerTechResearchedSwap('Rome', 2, Player(0))
    call SetPlayerTechResearchedSwap('R60K', 2, Player(0))
    call SetPlayerTechResearchedSwap('Roar', 2, Player(0))
    call SetPlayerTechResearchedSwap('Rosp', 2, Player(0))
    call SetPlayerTechResearchedSwap('R006', 2, Player(0))
    call SetPlayerTechResearchedSwap('R008', 2, Player(0))
    call SetPlayerTechResearchedSwap('R601', 2, Player(0))
    call TriggerSleepAction(1.00)
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_SECRET, "TRIGSTR_1978")
endfunction

//===========================================================================
function InitTrig_Deck_me_out takes nothing returns nothing
    set gg_trg_Deck_me_out=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_Deck_me_out, Player(0), "Deck me out", true)
    call TriggerAddAction(gg_trg_Deck_me_out, function Trig_Deck_me_out_Actions)
endfunction

//===========================================================================
// Trigger: Every little thing she does
//===========================================================================
function Trig_Every_little_thing_she_does_Actions takes nothing returns nothing
    call SetPlayerTechResearchedSwap('R003', 1, Player(0))
    call SetPlayerTechResearchedSwap('R001', 2, Player(0))
    call TriggerSleepAction(1.00)
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_SECRET, "TRIGSTR_1979")
endfunction

//===========================================================================
function InitTrig_Every_little_thing_she_does takes nothing returns nothing
    set gg_trg_Every_little_thing_she_does=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_Every_little_thing_she_does, Player(0), "Every little thing she does", true)
    call TriggerAddAction(gg_trg_Every_little_thing_she_does, function Trig_Every_little_thing_she_does_Actions)
endfunction

//===========================================================================
// Trigger: It is a good day to die
//===========================================================================
function Trig_It_is_a_good_day_to_die_Func001Func002A takes nothing returns nothing
    call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction

function Trig_It_is_a_good_day_to_die_Func001Func004A takes nothing returns nothing
    call SetUnitInvulnerable(GetEnumUnit(), true)
endfunction

function Trig_It_is_a_good_day_to_die_Func001C takes nothing returns boolean
    if ( not ( udg_ItIsAGoodDayToDie == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_It_is_a_good_day_to_die_Actions takes nothing returns nothing
    if ( Trig_It_is_a_good_day_to_die_Func001C() ) then
        set udg_ItIsAGoodDayToDie=true
        call ForGroupBJ(GetUnitsInRectOfPlayer(GetPlayableMapRect(), Player(0)), function Trig_It_is_a_good_day_to_die_Func001Func004A)
    else
        set udg_ItIsAGoodDayToDie=false
        call ForGroupBJ(GetUnitsInRectOfPlayer(GetPlayableMapRect(), Player(0)), function Trig_It_is_a_good_day_to_die_Func001Func002A)
    endif
    call TriggerSleepAction(1.00)
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_SECRET, "TRIGSTR_1980")
endfunction

//===========================================================================
function InitTrig_It_is_a_good_day_to_die takes nothing returns nothing
    set gg_trg_It_is_a_good_day_to_die=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_It_is_a_good_day_to_die, Player(0), "It is a good day to die", true)
    call TriggerAddAction(gg_trg_It_is_a_good_day_to_die, function Trig_It_is_a_good_day_to_die_Actions)
endfunction

//===========================================================================
// Trigger: On screen
//===========================================================================
function Trig_On_screen_Func001C takes nothing returns boolean
    if ( not ( udg_OnScreen == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_On_screen_Actions takes nothing returns nothing
    if ( Trig_On_screen_Func001C() ) then
        set udg_OnScreen=true
        call FogMaskEnableOff()
        call FogEnableOff()
    else
        set udg_OnScreen=false
        call FogMaskEnableOn()
        call FogEnableOn()
    endif
    call TriggerSleepAction(1.00)
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_SECRET, "TRIGSTR_1981")
endfunction

//===========================================================================
function InitTrig_On_screen takes nothing returns nothing
    set gg_trg_On_screen=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_On_screen, Player(0), "On screen", true)
    call TriggerAddAction(gg_trg_On_screen, function Trig_On_screen_Actions)
endfunction

//===========================================================================
// Trigger: Showpath
//===========================================================================
function Trig_Showpath_Func001C takes nothing returns boolean
    if ( not ( udg_Showpath == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Showpath_Actions takes nothing returns nothing
    if ( Trig_Showpath_Func001C() ) then
        set udg_Showpath=true
        call FogMaskEnableOff()
    else
        set udg_Showpath=false
        call FogMaskEnableOn()
    endif
    call TriggerSleepAction(1.00)
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_SECRET, "TRIGSTR_1982")
endfunction

//===========================================================================
function InitTrig_Showpath takes nothing returns nothing
    set gg_trg_Showpath=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_Showpath, Player(0), "Showpath", true)
    call TriggerAddAction(gg_trg_Showpath, function Trig_Showpath_Actions)
endfunction

//===========================================================================
// Trigger: CleanCache
//===========================================================================
function Trig_CleanCache_Actions takes nothing returns nothing
    call FlushGameCacheBJ(udg_Cache)
endfunction

//===========================================================================
function InitTrig_CleanCache takes nothing returns nothing
    set gg_trg_CleanCache=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_CleanCache, Player(0), "CleanCache", true)
    call TriggerAddAction(gg_trg_CleanCache, function Trig_CleanCache_Actions)
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_Unit_Event_Config()
    call InitTrig_Unit_Event()
    call InitTrig_OilTextHide()
    call InitTrig_OilTextShow()
    call InitTrig_Rend_I_Devastate()
    call InitTrig_Rend_I_Rend()
    call InitTrig_PeonWeightOn()
    call InitTrig_PeonWeightOff()
    call InitTrig_Initialization()
    call InitTrig_FaceanimLoader()
    call InitTrig_Cinematic_Tree_Stand()
    call InitTrig_MusicList()
    call InitTrig_Exp_Gain()
    call InitTrig_Creep_Multiplier()
    call InitTrig_Neutral_Smart_Attack()
    call InitTrig_Easy()
    call InitTrig_Normal()
    call InitTrig_Hard()
    call InitTrig_SnowcapsOn()
    call InitTrig_SnowcapsOff()
    call InitTrig_PeriodicSeagull_1()
    call InitTrig_PeriodicSeagull_2()
    call InitTrig_SettingQuests()
    call InitTrig_HintUtokAttackedTriggered()
    call InitTrig_HintUtokAttackedQ()
    call InitTrig_HintGoldIncrementQ()
    call InitTrig_HintLumberIncrementQ()
    call InitTrig_QuestsCompleted()
    call InitTrig_QuestMCampChanged01()
    call InitTrig_QuestMCampChanged02()
    call InitTrig_QuestCampCompletedTriggered()
    call InitTrig_QuestMCampCompleted()
    call InitTrig_QuestResChanged01()
    call InitTrig_QuestMessageResGoldUpdated()
    call InitTrig_QuestResChanged02()
    call InitTrig_QuestMessageResLumberUpdated()
    call InitTrig_QuestResCompleted()
    call InitTrig_QuestMessageResCompleted()
    call InitTrig_HumansQuest()
    call InitTrig_HumansQuestChanged()
    call InitTrig_HumansCompleted()
    call InitTrig_WolfQuestTriggered()
    call InitTrig_WolfQuest()
    call InitTrig_WolfsCompletedTriggered()
    call InitTrig_WolfCompleted()
    call InitTrig_WolfDen01Destroyed()
    call InitTrig_WolfDen02Destroyed()
    call InitTrig_WolfDen03Destroyed()
    call InitTrig_GoldIncrement()
    call InitTrig_LumberIncrement()
    call InitTrig_Gold_BundleA()
    call InitTrig_Gold_BundleB()
    call InitTrig_Gold_BundleC()
    call InitTrig_Gold_BundleD()
    call InitTrig_Gold_BundleE()
    call InitTrig_Lumber_BundleA()
    call InitTrig_Lumber_BundleB()
    call InitTrig_Lumber_BundleC()
    call InitTrig_Lumber_BundleD()
    call InitTrig_Lumber_BundleE()
    call InitTrig_Farm01()
    call InitTrig_Farm02()
    call InitTrig_Farm03()
    call InitTrig_Farm04()
    call InitTrig_FarmConstructed()
    call InitTrig_BoneFire()
    call InitTrig_Timer()
    call InitTrig_TimerExpires()
    call InitTrig_TentDropsLumber()
    call InitTrig_BonefireDefeat()
    call InitTrig_ResourcesDefeat()
    call InitTrig_Defeat()
    call InitTrig_Waterfall01On()
    call InitTrig_Waterfall01Off()
    call InitTrig_Waterfall02On()
    call InitTrig_Waterfall02Off()
    call InitTrig_Waterfall03On()
    call InitTrig_Waterfall03Off()
    call InitTrig_Waterfall04On()
    call InitTrig_Waterfall04Off()
    call InitTrig_Cliff01On()
    call InitTrig_Cliff01Off()
    call InitTrig_Cliff02On()
    call InitTrig_Cliff02Off()
    call InitTrig_Cliff03On()
    call InitTrig_Cliff03Off()
    call InitTrig_SelectPeon()
    call InitTrig_Wolf_Attack()
    call InitTrig_HeroDies()
    call InitTrig_HumanTaunt()
    call InitTrig_CaptainTaunt()
    call InitTrig_HumanTauntTurnedOn()
    call InitTrig_PeonDies()
    call InitTrig_BearWalking02()
    call InitTrig_BearWalking01()
    call InitTrig_BearAttacked01()
    call InitTrig_BearAttacked02()
    call InitTrig_TreeBridgeActivated()
    call InitTrig_TreeRestoreHP()
    call InitTrig_BearViewOn()
    call InitTrig_BearViewOff()
    call InitTrig_Intro_Cinemathic()
    call InitTrig_BoatSounds()
    call InitTrig_BoatAboarding()
    call InitTrig_IntroOrcsMoving()
    call InitTrig_IntroRendAnim()
    call InitTrig_Intro_Skipped()
    call InitTrig_Intro_Cleanup()
    call InitTrig_CameraStore()
    call InitTrig_CameraRestore()
    call InitTrig_SelectionStore()
    call InitTrig_SelectionRestore()
    call InitTrig_PauseActors()
    call InitTrig_UnpauseActors()
    call InitTrig_HumanCinematicTriggered()
    call InitTrig_HumanCinematicQ()
    call InitTrig_HumanCinematicCaptainTurn()
    call InitTrig_HumanCinematicFootmanTurn()
    call InitTrig_Human_Skipped()
    call InitTrig_Human_CleanUp()
    call InitTrig_FootmanRemoveAnimTag01()
    call InitTrig_FootmanRemoveAnimTag02()
    call InitTrig_Wolf_CinematicQ()
    call InitTrig_Wolf_Skipped()
    call InitTrig_Wolf_CleanUp()
    call InitTrig_HumansKilledCinTriggered()
    call InitTrig_HumanKilledCinQ()
    call InitTrig_HumanKilledSkipped()
    call InitTrig_HumanKilledCleanUp()
    call InitTrig_Final_Cinematic()
    call InitTrig_Final_Skipped()
    call InitTrig_Finalization()
    call InitTrig_Peonsworking()
    call InitTrig_Tag_off()
    call InitTrig_Tag_on_01()
    call InitTrig_Tag_on_02()
    call InitTrig_Next_Level_Prep()
    call InitTrig_Glittering_Prizes()
    call InitTrig_Deck_me_out()
    call InitTrig_Every_little_thing_she_does()
    call InitTrig_It_is_a_good_day_to_die()
    call InitTrig_On_screen()
    call InitTrig_Showpath()
    call InitTrig_CleanCache()
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute(gg_trg_Unit_Event_Config)
    call ConditionalTriggerExecute(gg_trg_Initialization)
    call ConditionalTriggerExecute(gg_trg_Easy)
    call ConditionalTriggerExecute(gg_trg_Normal)
    call ConditionalTriggerExecute(gg_trg_Hard)
endfunction

//***************************************************************************
//*
//*  Upgrades
//*
//***************************************************************************

function InitUpgrades_Player0 takes nothing returns nothing
    call SetPlayerTechMaxAllowed(Player(0), 'Rome', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rora', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Roar', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rwdm', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Ropg', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Robs', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rows', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Roen', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rovs', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rowd', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rost', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rosp', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rotr', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rolf', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rowt', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rorb', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Robk', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Ropm', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Robf', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rusl', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'Rusm', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R000', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R001', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R002', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R003', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R004', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R005', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R006', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R008', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R009', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R601', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R602', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'R603', 0)
endfunction

function InitUpgrades takes nothing returns nothing
    call InitUpgrades_Player0()
endfunction

//***************************************************************************
//*
//*  TechTree
//*
//***************************************************************************

function InitTechTree_Player0 takes nothing returns nothing
    call SetPlayerTechMaxAllowed(Player(0), 'h000', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ohun', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ocat', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'u000', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'h001', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'obot', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'odes', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'o604', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ojgn', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'nrwm', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'n000', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'n001', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'orai', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'otau', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'oshm', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'n609', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'h608', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ostr', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ofrt', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'oalt', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'o60L', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ofor', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'obea', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'owtw', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'o000', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'ndrb', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'u001', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'oshy', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'o60M', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'u002', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'o60N', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'o603', 0)
    call SetPlayerTechMaxAllowed(Player(0), 'u602', 0)
endfunction

function InitTechTree takes nothing returns nothing
    call InitTechTree_Player0()
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation(Player(0), 0)
    call ForcePlayerStartLocation(Player(0), 0)
    call SetPlayerColor(Player(0), ConvertPlayerColor(0))
    call SetPlayerRacePreference(Player(0), RACE_PREF_ORC)
    call SetPlayerRaceSelectable(Player(0), false)
    call SetPlayerController(Player(0), MAP_CONTROL_USER)

    // Player 1
    call SetPlayerStartLocation(Player(1), 1)
    call ForcePlayerStartLocation(Player(1), 1)
    call SetPlayerColor(Player(1), ConvertPlayerColor(1))
    call SetPlayerRacePreference(Player(1), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(1), false)
    call SetPlayerController(Player(1), MAP_CONTROL_COMPUTER)

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_230
    call SetPlayerTeam(Player(0), 0)

    // Force: TRIGSTR_2095
    call SetPlayerTeam(Player(1), 1)

endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    local weathereffect we
    call SetCameraBounds(- 8448.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), - 7040.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 6656.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 14976.0 - GetCameraMargin(CAMERA_MARGIN_TOP), - 8448.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 14976.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 6656.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), - 7040.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
    call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
    call SetTerrainFogEx(0, 2500.0, 8000.0, 0.500, 0.318, 0.471, 0.498)
    set we=AddWeatherEffect(Rect(- 11264.0, - 10240.0, 9216.0, 18432.0), 'SNls')
    call EnableWeatherEffect(we, true)
    call NewSoundEnvironment("lake")
    call SetAmbientDaySound("LordaeronWinterDay")
    call SetAmbientNightSound("LordaeronWinterNight")
    call SetMapMusic("Music", true, 0)
    call InitSounds()
    call CreateRegions()
    call CreateCameras()
    call InitUpgrades_Player0() // INLINED!!
    call InitTechTree_Player0() // INLINED!!
    call CreateAllDestructables()
    call CreateAllItems()
    call CreateAllUnits()
    call InitBlizzard()

call ExecuteFunc("jasshelper__initstructs11728765")
call ExecuteFunc("TimerUtils__init")
call ExecuteFunc("IsUnitContructing__init")
call ExecuteFunc("OilHarvest__init")

    call InitGlobals()
    call InitCustomTriggers()
    call RunInitializationTriggers()

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName("TRIGSTR_001")
    call SetMapDescription("TRIGSTR_234")
    call SetPlayers(2)
    call SetTeams(2)
    call SetGamePlacement(MAP_PLACEMENT_USE_MAP_SETTINGS)

    call DefineStartLocation(0, 1792.0, - 640.0)
    call DefineStartLocation(1, - 5888.0, 9600.0)

    // Player setup
    call InitCustomPlayerSlots()
    call InitCustomTeams()
endfunction




//Struct method generated initializers/callers:

//Functions for BigArrays:
function sa___prototype8_TimerUtils__init takes nothing returns boolean

     local integer i=0
     local integer o=- 1
     local boolean oops= false
        if ( TimerUtils__didinit ) then
    return true
        else
            set TimerUtils__didinit=true
        endif
            set TimerUtils__ht=InitHashtable()
            loop
                exitwhen ( i == TimerUtils__QUANTITY )
                set s__TimerUtils__tT[i]= CreateTimer()
                call SaveInteger(TimerUtils__ht, 0, GetHandleId((s__TimerUtils__tT[i] )), ( TimerUtils__HELD)) // INLINED!!
                set i=i + 1
            endloop
            set TimerUtils__tN=TimerUtils__QUANTITY
    return true
endfunction

function jasshelper__initstructs11728765 takes nothing returns nothing
    set st___prototype8[1]=CreateTrigger()
    call TriggerAddAction(st___prototype8[1],function sa___prototype8_TimerUtils__init)
    call TriggerAddCondition(st___prototype8[1],Condition(function sa___prototype8_TimerUtils__init))

call ExecuteFunc("s__BlizzardMessage__InitStruct_BlizzardMessage__BMInit___onInit")

















































call ExecuteFunc("s__WorldBounds_WorldBounds__WorldBoundInit___onInit")






call ExecuteFunc("s__RegisterNativeEvent__NativeEvent_RegisterNativeEvent__NativeEventInit___onInit")


call ExecuteFunc("s__IntegerList_Alloc___onInit")

call ExecuteFunc("s__ConstructEvent__PeriodicData_Alloc___onInit")

call ExecuteFunc("s__ConstructEvent_ConstructEvent__ConstructEventInit___onInit")

call ExecuteFunc("s__SpellEffectEvent__S_SpellEffectEvent__M___onInit")







call ExecuteFunc("s__OilUI_OilHarvest__OilFrameInit___onInit")

    call ExecuteFunc("s__OilPatch_onInit")
    call ExecuteFunc("s__OilCollector_onInit")
    call ExecuteFunc("s__OilRig_onInit")
    call ExecuteFunc("s__OilDepot_onInit")
endfunction

